---
title: Przenoszenie z programu .NET Framework na platformę .NET Core
description: Poznaj proces przenoszenia i odnajdywanie narzędzi, które mogą okazać się przydatne podczas przenoszenia projektu .NET Framework do programu .NET Core.
author: cartermp
ms.date: 10/22/2019
ms.openlocfilehash: 74fe4519e41a07bc78a4dc346f8d1b52b5c7d092
ms.sourcegitcommit: da21fc5a8cce1e028575acf31974681a1bc5aeed
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/08/2020
ms.locfileid: "84502772"
---
# <a name="overview-of-porting-from-net-framework-to-net-core"></a><span data-ttu-id="528f3-103">Przegląd portów z .NET Framework do platformy .NET Core</span><span class="sxs-lookup"><span data-stu-id="528f3-103">Overview of porting from .NET Framework to .NET Core</span></span>

<span data-ttu-id="528f3-104">Być może masz kod, który jest obecnie uruchomiony na .NET Framework, które interesują się portem .NET Core.</span><span class="sxs-lookup"><span data-stu-id="528f3-104">You might have code that currently runs on the .NET Framework that you're interested in porting to .NET Core.</span></span> <span data-ttu-id="528f3-105">Ten artykuł zawiera:</span><span class="sxs-lookup"><span data-stu-id="528f3-105">This article provides:</span></span>

* <span data-ttu-id="528f3-106">Przegląd procesu przenoszenia.</span><span class="sxs-lookup"><span data-stu-id="528f3-106">An overview of the porting process.</span></span>
* <span data-ttu-id="528f3-107">Lista narzędzi, które mogą być przydatne podczas przenoszenia kodu do programu .NET Core.</span><span class="sxs-lookup"><span data-stu-id="528f3-107">A list of tools that you may find helpful when you're porting your code to .NET Core.</span></span>

## <a name="overview-of-the-porting-process"></a><span data-ttu-id="528f3-108">Przegląd procesu przenoszenia</span><span class="sxs-lookup"><span data-stu-id="528f3-108">Overview of the porting process</span></span>

<span data-ttu-id="528f3-109">Przenoszenie do platformy .NET Core (lub .NET Standard) z .NET Framework dla wielu projektów jest stosunkowo proste.</span><span class="sxs-lookup"><span data-stu-id="528f3-109">Porting to .NET Core (or .NET Standard) from .NET Framework for many projects is relatively straight forward.</span></span> <span data-ttu-id="528f3-110">Istnieją pewne zmiany, które są wymagane, ale wiele z nich korzysta z wzorców przedstawionych poniżej.</span><span class="sxs-lookup"><span data-stu-id="528f3-110">There are a number of changes that are required, but many of them follow the patterns outlined below.</span></span> <span data-ttu-id="528f3-111">Projekty, w których model aplikacji jest dostępny w środowisku .NET Core (takie jak biblioteki, aplikacje konsolowe i aplikacje klasyczne), zwykle wymagają niewielkich zmian.</span><span class="sxs-lookup"><span data-stu-id="528f3-111">Projects where the app-model is available in .NET Core (such as libraries, console apps, and desktop applications) usually require little changes.</span></span> <span data-ttu-id="528f3-112">Projekty wymagające nowego modelu aplikacji, takie jak przeniesienie do ASP.NET Core z ASP.NET, wymagają nieco większej pracy, ale wiele wzorców ma analogowe, które mogą być używane podczas konwersji.</span><span class="sxs-lookup"><span data-stu-id="528f3-112">Projects that require a new app model, such as moving to ASP.NET Core from ASP.NET, require a bit more work, but many patterns have analogs that can be used during the conversion.</span></span> <span data-ttu-id="528f3-113">Ten dokument powinien pomóc w zidentyfikowaniu głównych strategii, które zostały wykorzystane przez użytkowników w celu pomyślnego przekonwertowania baz kodu na docelowe .NET Standard lub .NET Core i przeanalizować je na dwóch poziomach: dla całego rozwiązania i projektu.</span><span class="sxs-lookup"><span data-stu-id="528f3-113">This document should help with identifying the main strategies that have been employed by users to successfully convert their code bases to target .NET Standard or .NET Core and will address the conversion at two levels: solution-wide and project specific.</span></span> <span data-ttu-id="528f3-114">Zobacz linki na dole, aby poznać wskazówki dotyczące konwersji specyficznych dla modelu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="528f3-114">See the links at the bottom for directions on app-model specific conversions.</span></span>

<span data-ttu-id="528f3-115">Zalecamy użycie następującego procesu podczas przenoszenia projektu do programu .NET Core.</span><span class="sxs-lookup"><span data-stu-id="528f3-115">We recommend you use the following process when porting your project to .NET Core.</span></span> <span data-ttu-id="528f3-116">Każdy z tych kroków wprowadza potencjalne miejsca do zmian w zachowaniu, dlatego należy upewnić się, że Twoja biblioteka lub aplikacja jest odpowiednio testowana przed przejściem do kolejnych kroków.</span><span class="sxs-lookup"><span data-stu-id="528f3-116">Each of these steps introduces potential places for behavior changes, so ensure that you adequately test your library or application before continuing on to later steps.</span></span> <span data-ttu-id="528f3-117">Pierwszym etapem jest przygotowanie projektu do przełączenia do .NET Standard lub .NET Core.</span><span class="sxs-lookup"><span data-stu-id="528f3-117">The first steps are to get your project ready for a switch to .NET Standard or .NET Core.</span></span> <span data-ttu-id="528f3-118">Jeśli masz testy jednostkowe, najlepiej ją przekonwertować najpierw, aby można było kontynuować testowanie zmian w produkcie, nad którym pracujesz.</span><span class="sxs-lookup"><span data-stu-id="528f3-118">If you have unit tests, it's best to convert them first so that you can continue testing changes in the product you're working on.</span></span> <span data-ttu-id="528f3-119">Ponieważ przenoszenie do programu .NET Core to znacząca zmiana w bazie kodu, zdecydowanie zaleca się, aby przenieść projekty testowe, aby można było uruchamiać testy podczas przenoszenia kodu do trybu.</span><span class="sxs-lookup"><span data-stu-id="528f3-119">Because porting to .NET Core is such a significant change to your codebase, it's highly recommended to port your test projects so that you can run tests as you port your code over.</span></span> <span data-ttu-id="528f3-120">MSTest, xUnit i NUnit działają na platformie .NET Core.</span><span class="sxs-lookup"><span data-stu-id="528f3-120">MSTest, xUnit, and NUnit all work on .NET Core.</span></span>

## <a name="getting-started"></a><span data-ttu-id="528f3-121">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="528f3-121">Getting started</span></span>

<span data-ttu-id="528f3-122">W trakcie procesu zostaną użyte następujące narzędzia:</span><span class="sxs-lookup"><span data-stu-id="528f3-122">The following tools will be used throughout the process:</span></span>

- <span data-ttu-id="528f3-123">Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="528f3-123">Visual Studio 2019</span></span>
- <span data-ttu-id="528f3-124">Pobierz [Analizator przenośności platformy .NET](../../standard/analyzers/portability-analyzer.md)</span><span class="sxs-lookup"><span data-stu-id="528f3-124">Download [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md)</span></span>
- <span data-ttu-id="528f3-125">_Opcjonalne_ Zainstaluj program [dotnet try-Convert](https://github.com/dotnet/try-convert)</span><span class="sxs-lookup"><span data-stu-id="528f3-125">_Optional_ Install [dotnet try-convert](https://github.com/dotnet/try-convert)</span></span>

## <a name="porting-a-solution"></a><span data-ttu-id="528f3-126">Przenoszenie rozwiązania</span><span class="sxs-lookup"><span data-stu-id="528f3-126">Porting a solution</span></span>

<span data-ttu-id="528f3-127">W przypadku wielu projektów w rozwiązaniu port może wydawać się bardziej skomplikowany, ponieważ należy zająć się projektami w określonej kolejności.</span><span class="sxs-lookup"><span data-stu-id="528f3-127">When there are multiple projects in a solution, the porting can seem more complicated because you must address projects in a specific order.</span></span> <span data-ttu-id="528f3-128">Proces konwersji powinien być podejściem do dołu, gdzie projekty bez zależności od innych projektów w rozwiązaniu są konwertowane jako pierwsze i są kontynuowane przez całe rozwiązanie.</span><span class="sxs-lookup"><span data-stu-id="528f3-128">The conversion process should be a bottom-up approach, where the projects with no dependencies on other projects in the solution are converted first, and continue up through the whole solution.</span></span>

<span data-ttu-id="528f3-129">Aby można było zidentyfikować projekty zamówień, można użyć następujących narzędzi:</span><span class="sxs-lookup"><span data-stu-id="528f3-129">In order to identify the order projects should be migrated, you can use the following tools:</span></span>

- <span data-ttu-id="528f3-130">[Diagramy zależności w programie Visual Studio](/visualstudio/modeling/create-layer-diagrams-from-your-code) mogą utworzyć ukierunkowany wykres kodu w rozwiązaniu.</span><span class="sxs-lookup"><span data-stu-id="528f3-130">[Dependency Diagrams in Visual Studio](/visualstudio/modeling/create-layer-diagrams-from-your-code) can create a directed graph of the code in a solution.</span></span>
- <span data-ttu-id="528f3-131">Uruchom, `msbuild _SolutionPath_ /t:GenerateRestoreGraphFile /p:RestoreGraphOutputPath=graph.dg.json` Aby wygenerować dokument JSON zawierający listę odwołań projektu.</span><span class="sxs-lookup"><span data-stu-id="528f3-131">Run `msbuild _SolutionPath_ /t:GenerateRestoreGraphFile /p:RestoreGraphOutputPath=graph.dg.json` to generate a json document that includes list of project references.</span></span>
- <span data-ttu-id="528f3-132">Uruchom [Analizator przenośności platformy .NET](../../standard/analyzers/portability-analyzer.md) z `-r DGML` przełącznikiem, aby pobrać diagram zależności zestawów.</span><span class="sxs-lookup"><span data-stu-id="528f3-132">Run [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) with the `-r DGML` switch to retrieve a dependency diagram of the assemblies.</span></span> <span data-ttu-id="528f3-133">Aby uzyskać więcej informacji, zobacz [tutaj](../../standard/analyzers/portability-analyzer.md#solution-wide-view).</span><span class="sxs-lookup"><span data-stu-id="528f3-133">For more information, see [here](../../standard/analyzers/portability-analyzer.md#solution-wide-view).</span></span>

<span data-ttu-id="528f3-134">Gdy informacje o zależnościach są dostępne, można użyć tych informacji do uruchomienia w węzłach liścia i przeprowadzić Cię przez drzewo zależności, stosując kroki opisane w następnej sekcji.</span><span class="sxs-lookup"><span data-stu-id="528f3-134">Once you have dependency information, you can use that information to start at the leaf nodes and work your way up the dependency tree applying the steps in the next section.</span></span>

## <a name="per-project-steps"></a><span data-ttu-id="528f3-135">Na kroki projektu</span><span class="sxs-lookup"><span data-stu-id="528f3-135">Per project steps</span></span>

<span data-ttu-id="528f3-136">Zalecamy użycie następującego procesu podczas przenoszenia projektu do programu .NET Core:</span><span class="sxs-lookup"><span data-stu-id="528f3-136">We recommend you use the following process when porting your project to .NET Core:</span></span>

1. <span data-ttu-id="528f3-137">Przekonwertuj wszystkie `packages.config` zależności na format [PackageReference](/nuget/consume-packages/package-references-in-project-files) za pomocą [narzędzia konwersji w programie Visual Studio](/nuget/consume-packages/migrate-packages-config-to-package-reference).</span><span class="sxs-lookup"><span data-stu-id="528f3-137">Convert all of your `packages.config` dependencies to the [PackageReference](/nuget/consume-packages/package-references-in-project-files) format with the [conversion tool in Visual Studio](/nuget/consume-packages/migrate-packages-config-to-package-reference).</span></span>

   <span data-ttu-id="528f3-138">Ten krok obejmuje przekonwertowanie zależności z starszego `packages.config` formatu.</span><span class="sxs-lookup"><span data-stu-id="528f3-138">This step involves converting your dependencies from the legacy `packages.config` format.</span></span> <span data-ttu-id="528f3-139">`packages.config`nie działa w programie .NET Core, dlatego ta konwersja jest wymagana, jeśli masz zależności pakietu.</span><span class="sxs-lookup"><span data-stu-id="528f3-139">`packages.config` doesn't work on .NET Core, so this conversion is required if you have package dependencies.</span></span> <span data-ttu-id="528f3-140">Wymaga również tylko zależności, które są bezpośrednio używane w projekcie, co sprawia, że dalsze kroki są łatwiejsze poprzez zmniejszenie liczby zależności, którymi należy zarządzać.</span><span class="sxs-lookup"><span data-stu-id="528f3-140">It also only requires the dependencies you are directly using in a project, which makes later steps easier by reducing the number of dependencies you must manage.</span></span>

1. <span data-ttu-id="528f3-141">Przekonwertuj plik projektu na nową strukturę plików stylu zestawu SDK.</span><span class="sxs-lookup"><span data-stu-id="528f3-141">Convert your project file to the new SDK-style files structure.</span></span> <span data-ttu-id="528f3-142">Można tworzyć nowe projekty dla platformy .NET Core i kopiować je na pliki źródłowe lub próbować skonwertować istniejący plik projektu za pomocą narzędzia.</span><span class="sxs-lookup"><span data-stu-id="528f3-142">You can create new projects for .NET Core and copy over source files, or attempt to convert your existing project file with a tool.</span></span>

   <span data-ttu-id="528f3-143">W przypadku programu .NET Core jest stosowany uproszczony (i różny) [Format pliku projektu](../tools/csproj.md) niż .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="528f3-143">.NET Core uses a simplified (and different) [project file format](../tools/csproj.md) than .NET Framework.</span></span> <span data-ttu-id="528f3-144">Aby kontynuować, musisz przekonwertować pliki projektu w ten format.</span><span class="sxs-lookup"><span data-stu-id="528f3-144">You'll need to convert your project files into this format to continue.</span></span> <span data-ttu-id="528f3-145">Ten styl projektu umożliwia również kierowanie .NET Framework, co w tym momencie nadal będzie miało miejsce docelowe.</span><span class="sxs-lookup"><span data-stu-id="528f3-145">This project style allows you to also target .NET Framework, which at this point you'll still want to target.</span></span>

   <span data-ttu-id="528f3-146">Możesz próbować przenieść mniejsze rozwiązania lub pojedyncze projekty w jednej operacji do formatu pliku projektu .NET Core za pomocą narzędzia [dotnet try-Convert](https://github.com/dotnet/try-convert) .</span><span class="sxs-lookup"><span data-stu-id="528f3-146">You can attempt to port smaller solutions or individual projects in one operation to the .NET Core project file format with the [dotnet try-convert](https://github.com/dotnet/try-convert) tool.</span></span> <span data-ttu-id="528f3-147">`dotnet try-convert`nie ma gwarancji na wszystkie projekty i może spowodować drobne zmiany w zachowaniu, od którego zależy.</span><span class="sxs-lookup"><span data-stu-id="528f3-147">`dotnet try-convert` is not guaranteed to work for all your projects, and it may cause subtle changes in behavior that you depended on.</span></span> <span data-ttu-id="528f3-148">Użyj jej jako _punktu wyjścia_ , który automatyzuje podstawowe elementy, które mogą być zautomatyzowane.</span><span class="sxs-lookup"><span data-stu-id="528f3-148">Use it as a _starting point_ that automates the basic things that can be automated.</span></span> <span data-ttu-id="528f3-149">Nie jest to gwarantowane rozwiązanie do migrowania projektu, ponieważ istnieje wiele różnic w obiektach docelowych używanych przez projekty stylów zestawu SDK w porównaniu do plików projektu starego stylu.</span><span class="sxs-lookup"><span data-stu-id="528f3-149">It isn't a guaranteed solution to migrating a project, as there are many differences in the targets used by the SDK style projects compared to the old-style project files.</span></span>

1. <span data-ttu-id="528f3-150">Przekieruj wszystkie projekty, które chcesz przenieść do elementu docelowego .NET Framework 4.7.2 lub wyższy.</span><span class="sxs-lookup"><span data-stu-id="528f3-150">Retarget all projects you wish to port to target .NET Framework 4.7.2 or higher.</span></span>

   <span data-ttu-id="528f3-151">Ten krok zapewnia, że można użyć alternatywnych interfejsów API dla konkretnych .NET Framework docelowych, gdy platforma .NET Core nie obsługuje określonego interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="528f3-151">This step ensures that you can use API alternatives for .NET Framework-specific targets when .NET Core doesn't support a particular API.</span></span>

1. <span data-ttu-id="528f3-152">Zaktualizuj wszystkie zależności do najnowszej wersji.</span><span class="sxs-lookup"><span data-stu-id="528f3-152">Update all dependencies to the latest version.</span></span> <span data-ttu-id="528f3-153">Projekty mogą używać starszych wersji bibliotek, które mogą nie obsługiwać .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="528f3-153">Projects may be using older versions of libraries that may not have .NET Standard support.</span></span> <span data-ttu-id="528f3-154">Jednak późniejsze wersje mogą obsługiwać je za pomocą prostego przełącznika.</span><span class="sxs-lookup"><span data-stu-id="528f3-154">However, later versions may support it with a simple switch.</span></span> <span data-ttu-id="528f3-155">Może to wymagać zmiany kodu, jeśli istnieją istotne zmiany w bibliotekach.</span><span class="sxs-lookup"><span data-stu-id="528f3-155">This may require code changes if there are breaking changes in libraries.</span></span>

1. <span data-ttu-id="528f3-156">Użyj [analizatora przenośności platformy .NET](../../standard/analyzers/portability-analyzer.md) do analizowania zestawów i sprawdź, czy są one przenośne do programu .NET Core.</span><span class="sxs-lookup"><span data-stu-id="528f3-156">Use the [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) to analyze your assemblies and see if they're portable to .NET Core.</span></span>

   <span data-ttu-id="528f3-157">Narzędzie analizatora przenośności platformy .NET analizuje skompilowane zestawy i generuje raport.</span><span class="sxs-lookup"><span data-stu-id="528f3-157">The .NET Portability Analyzer tool analyzes your compiled assemblies and generates a report.</span></span> <span data-ttu-id="528f3-158">Ten raport przedstawia podsumowanie wysokiego poziomu dotyczące przenoszenia i podział wszystkich używanych interfejsów API, które nie są dostępne w systemie NET Core.</span><span class="sxs-lookup"><span data-stu-id="528f3-158">This report shows a high-level portability summary and a breakdown of each API you're using that isn't available on NET Core.</span></span> <span data-ttu-id="528f3-159">Korzystając z narzędzia, przesyłaj tylko poszczególne projekty, które są konwertowane, aby skoncentrować się na zmianach interfejsu API, które mogą być potrzebne.</span><span class="sxs-lookup"><span data-stu-id="528f3-159">While using the tool, only submit the individual project you are converting to focus on the API changes that are potentially needed.</span></span> <span data-ttu-id="528f3-160">Wiele interfejsów API ma równoważną dostępność w programie .NET Core, do której chcesz się przełączyć.</span><span class="sxs-lookup"><span data-stu-id="528f3-160">Many of the APIs have equivalent availability in .NET Core, which you'll want to switch to.</span></span>

   <span data-ttu-id="528f3-161">Podczas odczytywania raportów wygenerowanych przez analizatora ważne informacje to rzeczywiste interfejsy API, które są używane, a nie musi to być procent obsługi platformy docelowej.</span><span class="sxs-lookup"><span data-stu-id="528f3-161">While reading the reports generated by the analyzer, the important information is the actual APIs that are being used and not necessarily the percentage of support for the target platform.</span></span> <span data-ttu-id="528f3-162">Wiele interfejsów API ma równoważne opcje w .NET Standard/Core i dlatego zrozumienie scenariuszy, w których biblioteka lub aplikacja potrzebuje interfejsu API, aby pomóc w ustaleniu implikacji przenoszenia.</span><span class="sxs-lookup"><span data-stu-id="528f3-162">Many APIs have equivalent options in .NET Standard/Core, and so understanding the scenarios your library or application needs the API for will help determine the implication for portability.</span></span>

   <span data-ttu-id="528f3-163">Istnieją sytuacje, w których interfejsy API nie są równoważne i należy wykonać niektóre dyrektywy preprocesora kompilatora (czyli `#if NET45` ), w specjalnym przypadku platform.</span><span class="sxs-lookup"><span data-stu-id="528f3-163">There are some cases where APIs are not equivalent and you'll need to do some compiler preprocessor directives (that is, `#if NET45`) to special case the platforms.</span></span> <span data-ttu-id="528f3-164">W tym momencie projekt nadal będzie ukierunkowany na .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="528f3-164">At this point, your project will still be targeting .NET Framework.</span></span> <span data-ttu-id="528f3-165">W przypadku każdego z tych celów zaleca się użycie dobrze znanych warunków, które można zrozumieć jako scenariusz.</span><span class="sxs-lookup"><span data-stu-id="528f3-165">For each of these targeted cases, it is recommended to use well-known conditionals that can be understood as a scenario.</span></span>  <span data-ttu-id="528f3-166">Na przykład obsługa AppDomain w programie .NET Core jest ograniczona, ale w przypadku scenariusza ładowania i zwalniania zestawów istnieje nowy interfejs API, który jest niedostępny w programie .NET Core.</span><span class="sxs-lookup"><span data-stu-id="528f3-166">For example, AppDomain support in .NET Core is limited, but for the scenario of loading and unloading assemblies, there is a new API that's not available in .NET Core.</span></span> <span data-ttu-id="528f3-167">Typowy sposób obsługi tego kodu w kodzie będzie wyglądać następująco:</span><span class="sxs-lookup"><span data-stu-id="528f3-167">A common way to handle this in code would be something like this:</span></span>

   ```csharp
   #if FEATURE_APPDOMAIN_LOADING
   // Code that uses appdomains
   #elif FEATURE_ASSEMBLY_LOAD_CONTEXT
   // Code that uses assembly load context
   #else
   #error Unsupported platform
   #endif
   ```

1. <span data-ttu-id="528f3-168">Zainstaluj [Analizator interfejsów API platformy .NET](../../standard/analyzers/api-analyzer.md) w swoich projektach, aby identyfikować interfejsy API, które <xref:System.PlatformNotSupportedException> zgłaszają na niektórych platformach i inne potencjalne problemy ze zgodnością.</span><span class="sxs-lookup"><span data-stu-id="528f3-168">Install the [.NET API analyzer](../../standard/analyzers/api-analyzer.md) into your projects to identify APIs that throw <xref:System.PlatformNotSupportedException> on some platforms and some other potential compatibility issues.</span></span>

   <span data-ttu-id="528f3-169">To narzędzie jest podobne do analizatora przenośności, ale zamiast analizowania, czy kod może kompilować na platformie .NET Core, analizuje, czy używasz interfejsu API w sposób, który będzie <xref:System.PlatformNotSupportedException> zgłaszać w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="528f3-169">This tool is similar to the portability analyzer, but instead of analyzing if code can build on .NET Core, it analyzes whether you're using an API in a way that will throw a <xref:System.PlatformNotSupportedException> at run time.</span></span> <span data-ttu-id="528f3-170">Chociaż nie jest to typowe w przypadku przechodzenia z .NET Framework 4.7.2 lub wyższym, warto sprawdzić.</span><span class="sxs-lookup"><span data-stu-id="528f3-170">Although this isn't common if you're moving from .NET Framework 4.7.2 or higher, it's good to check.</span></span> <span data-ttu-id="528f3-171">Aby uzyskać więcej informacji na temat interfejsów API, które generują wyjątki w programie .NET Core, zobacz [interfejsy API, które zawsze generują wyjątki w programie .NET Core](../compatibility/unsupported-apis.md).</span><span class="sxs-lookup"><span data-stu-id="528f3-171">For more information about APIs that throw exceptions on .NET Core, see [APIs that always throw exceptions on .NET Core](../compatibility/unsupported-apis.md).</span></span>

1. <span data-ttu-id="528f3-172">W tym momencie można przełączyć się na kierowanie .NET Core (ogólnie dla aplikacji) lub .NET Standard (dla bibliotek).</span><span class="sxs-lookup"><span data-stu-id="528f3-172">At this point, you can switch to targeting .NET Core (generally for applications) or .NET Standard (for libraries).</span></span>

   <span data-ttu-id="528f3-173">Wybór między platformą .NET Core i .NET Standard jest w dużym stopniu zależny od tego, gdzie projekt zostanie uruchomiony.</span><span class="sxs-lookup"><span data-stu-id="528f3-173">The choice between .NET Core and .NET Standard is largely dependent on where the project will be run.</span></span> <span data-ttu-id="528f3-174">Jeśli jest to biblioteka, która będzie używana przez inne aplikacje lub dystrybuowana za pośrednictwem programu NuGet, preferencją jest zwykle docelowa .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="528f3-174">If it is a library that will be consumed by other applications or distributed via NuGet, the preference is usually to target .NET Standard.</span></span> <span data-ttu-id="528f3-175">Jednak mogą istnieć interfejsy API, które są dostępne tylko na platformie .NET Core w celu uzyskania wydajności lub innych przyczyn. w takim przypadku platforma .NET Core powinna być przeznaczona do użycia z potencjalnie .NET Standard kompilacją, a także z ograniczoną wydajnością lub funkcjonalnością.</span><span class="sxs-lookup"><span data-stu-id="528f3-175">However, there may be APIs that are only available on .NET Core for performance or other reasons; if that's the case, .NET Core should be targeted with potentially a .NET Standard build available as well with reduced performance or functionality.</span></span> <span data-ttu-id="528f3-176">Według .NET Standard, projekt będzie gotowy do uruchomienia na nowych platformach (takich jak webassembly).</span><span class="sxs-lookup"><span data-stu-id="528f3-176">By targeting .NET Standard, the project will be ready to run on new platforms (such as WebAssembly).</span></span> <span data-ttu-id="528f3-177">Jeśli projekt ma zależności od określonych platform aplikacji (takich jak ASP.NET Core), wartość docelowa będzie ograniczona przez obsługiwane zależności.</span><span class="sxs-lookup"><span data-stu-id="528f3-177">If the project has dependencies on specific app frameworks (such as ASP.NET Core), then the target will be limited by what the dependencies support.</span></span>

   <span data-ttu-id="528f3-178">Jeśli nie istnieją dyrektywy preprocesora do warunkowego kompilowania kodu dla .NET Framework lub .NET Standard, będzie to tak proste, jak znalezienie następujących w pliku projektu:</span><span class="sxs-lookup"><span data-stu-id="528f3-178">If there are no preprocessor directives to conditional compile code for .NET Framework or .NET Standard, this will be as simple as finding the following in the project file:</span></span>

   ```xml
   <TargetFramework>net472</TargetFramework>
   ```

   <span data-ttu-id="528f3-179">i przełączenie go do żądanej struktury.</span><span class="sxs-lookup"><span data-stu-id="528f3-179">and switch it to the desired framework.</span></span> <span data-ttu-id="528f3-180">W przypadku platformy .NET Core 3,1:</span><span class="sxs-lookup"><span data-stu-id="528f3-180">For .NET Core 3.1, this would be:</span></span>

   ```xml
   <TargetFramework>netcoreapp3.1</TargetFramework>
   ```

   <span data-ttu-id="528f3-181">Jeśli jednak jest to biblioteka, dla której chcesz kontynuować obsługę kompilacji specyficznych dla .NET Framework [, możesz ją](../../standard/library-guidance/cross-platform-targeting.md) zastąpić, zastępując ją następującym:</span><span class="sxs-lookup"><span data-stu-id="528f3-181">However, if this is a library for which you want to continue supporting .NET Framework-specific builds, you can [multi-target](../../standard/library-guidance/cross-platform-targeting.md) by replacing it with the following:</span></span>

   ```xml
   <TargetFrameworks>net472;netstandard2.0</TargetFrameworks>
   ```

   <span data-ttu-id="528f3-182">Jeśli używasz interfejsów API specyficznych dla systemu Windows (takich jak dostęp do rejestru), zainstaluj [pakiet zgodności systemu Windows](./windows-compat-pack.md).</span><span class="sxs-lookup"><span data-stu-id="528f3-182">If you're using Windows-specific APIs (such as registry access), install the [Windows Compatibility Pack](./windows-compat-pack.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="528f3-183">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="528f3-183">Next steps</span></span>

> [!div class="nextstepaction"]
> <span data-ttu-id="528f3-184">[Analizowanie zależności](third-party-deps.md) 
>  [Pakiet](../deploying/creating-nuget-packages.md) 
>  NuGet pakietu [ASP.NET Core ASP.NET migracji](/aspnet/core/migration/proper-to-2x)</span><span class="sxs-lookup"><span data-stu-id="528f3-184">[Analyze dependencies](third-party-deps.md)
[Package NuGet Package](../deploying/creating-nuget-packages.md)
[ASP.NET to ASP.NET Core Migration](/aspnet/core/migration/proper-to-2x)</span></span>
