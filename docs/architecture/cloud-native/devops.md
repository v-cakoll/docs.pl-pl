---
title: DevOps
description: DevOps uwagi dotyczące aplikacji natywnych w chmurze
ms.date: 05/12/2020
ms.openlocfilehash: 498ce64c3a387433862142826059b4f7e513ec7b
ms.sourcegitcommit: 046a9c22487551360e20ec39fc21eef99820a254
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/14/2020
ms.locfileid: "83395818"
---
# <a name="devops"></a><span data-ttu-id="90ea8-103">DevOps</span><span class="sxs-lookup"><span data-stu-id="90ea8-103">DevOps</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="90ea8-104">Ulubiony mantrą konsultantów oprogramowania ma na celu odpowiedzenie "jest to zależne" z wszelkimi powodowanymi pytaniami.</span><span class="sxs-lookup"><span data-stu-id="90ea8-104">The favorite mantra of software consultants is to answer "It depends" to any question posed.</span></span> <span data-ttu-id="90ea8-105">Nie wynika to z faktu, że konsultanci Fond nie pobierają pozycji.</span><span class="sxs-lookup"><span data-stu-id="90ea8-105">It isn't because software consultants are fond of not taking a position.</span></span> <span data-ttu-id="90ea8-106">Wynika to z faktu, że nie ma żadnej prawdziwej odpowiedzi na pytania w oprogramowaniu.</span><span class="sxs-lookup"><span data-stu-id="90ea8-106">It's because there's no one true answer to any questions in software.</span></span> <span data-ttu-id="90ea8-107">Nie ma bezwzględnych praw i nieprawidłowych, ale raczej równowagi między przeciwieństwem.</span><span class="sxs-lookup"><span data-stu-id="90ea8-107">There's no absolute right and wrong, but rather a balance between opposites.</span></span>

<span data-ttu-id="90ea8-108">Na przykład dwa główne szkoły tworzenia aplikacji sieci Web: aplikacje jednostronicowe (aplikacji jednostronicowych) i aplikacje po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="90ea8-108">Take, for instance, the two major schools of developing web applications: Single Page Applications (SPAs) versus server-side applications.</span></span> <span data-ttu-id="90ea8-109">Z jednej strony środowisko użytkownika będzie lepiej aplikacji jednostronicowych i ilość ruchu sieciowego do serwera sieci Web może być zminimalizowana, co umożliwia hostowanie ich w taki sposób, jak hosting statyczny.</span><span class="sxs-lookup"><span data-stu-id="90ea8-109">On the one hand, the user experience tends to be better with SPAs and the amount of traffic to the web server can be minimized making it possible to host them on something as simple as static hosting.</span></span> <span data-ttu-id="90ea8-110">Z drugiej strony aplikacji jednostronicowych się coraz wolniej, aby rozwijać i utrudniać ich testowanie.</span><span class="sxs-lookup"><span data-stu-id="90ea8-110">On the other hand, SPAs tend to be slower to develop and more difficult to test.</span></span> <span data-ttu-id="90ea8-111">Który z nich jest odpowiedni wybór?</span><span class="sxs-lookup"><span data-stu-id="90ea8-111">Which one is the right choice?</span></span> <span data-ttu-id="90ea8-112">Jest to również zależne od sytuacji.</span><span class="sxs-lookup"><span data-stu-id="90ea8-112">Well, it depends on your situation.</span></span>

<span data-ttu-id="90ea8-113">Aplikacje natywne w chmurze nie są odporne na te same dichotomy.</span><span class="sxs-lookup"><span data-stu-id="90ea8-113">Cloud-native applications aren't immune to that same dichotomy.</span></span> <span data-ttu-id="90ea8-114">Mają jasne zalety w zakresie rozwoju, stabilności i skalowalności, ale zarządzanie nimi może być nieco trudniejsze.</span><span class="sxs-lookup"><span data-stu-id="90ea8-114">They have clear advantages in terms of speed of development, stability, and scalability, but managing them can be quite a bit more difficult.</span></span>

<span data-ttu-id="90ea8-115">Lata temu nie było nietypowego dla procesu przechodzenia aplikacji z programowania do produkcji w ciągu miesiąca lub jeszcze więcej.</span><span class="sxs-lookup"><span data-stu-id="90ea8-115">Years ago, it wasn't uncommon for the process of moving an application from development to production to take a month, or even more.</span></span> <span data-ttu-id="90ea8-116">Firmy wydały oprogramowanie w 6-miesięcznym lub nawet każdym roku erze.</span><span class="sxs-lookup"><span data-stu-id="90ea8-116">Companies released software on a 6-month or even every year cadence.</span></span> <span data-ttu-id="90ea8-117">Jeden z nich musi wyszukać nie więcej niż Microsoft Windows, aby uzyskać pomysł na erze wydań, które były akceptowalne przed zielonymi dniami systemu Windows 10.</span><span class="sxs-lookup"><span data-stu-id="90ea8-117">One needs to look no further than Microsoft Windows to get an idea for the cadence of releases that were acceptable before the ever-green days of Windows 10.</span></span> <span data-ttu-id="90ea8-118">Pięć lat przeszedł między Windows XP i Vista, a kolejne 3 między Vista a Windows 7.</span><span class="sxs-lookup"><span data-stu-id="90ea8-118">Five years passed between Windows XP and Vista, a further 3 between Vista and Windows 7.</span></span>

<span data-ttu-id="90ea8-119">Teraz dość dobrze jest ustalić, że umożliwienie szybszego wydawania oprogramowania pozwala na szybkie przechodzenie firm do znacznie większej liczby Sloth konkurentów.</span><span class="sxs-lookup"><span data-stu-id="90ea8-119">It's now fairly well established that being able to release software rapidly gives fast-moving companies a huge market advantage over their more sloth-like competitors.</span></span> <span data-ttu-id="90ea8-120">Z tego powodu wszystkie aktualizacje systemu Windows 10 są teraz co sześć miesięcy.</span><span class="sxs-lookup"><span data-stu-id="90ea8-120">It's for that reason that major updates to Windows 10 are now approximately every six months.</span></span>

<span data-ttu-id="90ea8-121">Wzorce i praktyki, które umożliwiają szybsze, bardziej niezawodne wydania do dostarczania wartości do firmy, są określane zbiorczo jako DevOps.</span><span class="sxs-lookup"><span data-stu-id="90ea8-121">The patterns and practices that enable faster, more reliable releases to deliver value to the business are collectively known as DevOps.</span></span> <span data-ttu-id="90ea8-122">Składają się one z szerokiego zakresu pomysłów obejmujących cały cykl życia opracowywania oprogramowania od określania aplikacji w taki sposób, aby można było dostarczać i obdziałać tę aplikację.</span><span class="sxs-lookup"><span data-stu-id="90ea8-122">They consist of a wide range of ideas spanning the entire software development life cycle from specifying an application all the way up to delivering and operating that application.</span></span>

<span data-ttu-id="90ea8-123">DevOpse przed mikrousługami i prawdopodobne jest, że przemieszczanie się w kierunku mniejszych usług nie byłoby możliwe bez DevOps, aby zwolnić i obsłużyć nie tylko jedną, ale wiele aplikacji w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="90ea8-123">DevOps emerged before microservices and it's likely that the movement towards smaller, more fit to purpose services wouldn't have been possible without DevOps to make releasing and operating not just one but many applications in production easier.</span></span>

![Rysunek 10-1 trendów wyszukiwania pokazuje, że wzrost w mikrousługach nie rozpoczyna się do momentu, gdy DevOps jest dość dobrze ustalone.](./media/microservices-vs-devops.png)

<span data-ttu-id="90ea8-125">**Rysunek 10-1** -DevOps i mikrousługi.</span><span class="sxs-lookup"><span data-stu-id="90ea8-125">**Figure 10-1** - DevOps and microservices.</span></span>

<span data-ttu-id="90ea8-126">Dzięki dobrym praktykom DevOpsm można korzystać z zalet aplikacji natywnych w chmurze, bez suffocating w ramach góry pracy, która faktycznie działa z aplikacjami.</span><span class="sxs-lookup"><span data-stu-id="90ea8-126">Through good DevOps practices, it's possible to realize the advantages of cloud-native applications without suffocating under a mountain of work actually operating the applications.</span></span>

<span data-ttu-id="90ea8-127">Brak złotej młota, gdy DevOps.</span><span class="sxs-lookup"><span data-stu-id="90ea8-127">There's no golden hammer when it comes to DevOps.</span></span> <span data-ttu-id="90ea8-128">Nikt nie może sprzedawać kompletnych i wszystkich rozwiązań obejmujących wydawanie i obsługę wysokiej jakości aplikacji.</span><span class="sxs-lookup"><span data-stu-id="90ea8-128">Nobody can sell a complete and all-encompassing solution for releasing and operating high-quality applications.</span></span> <span data-ttu-id="90ea8-129">Wynika to z faktu, że każda aplikacja różni się od wszystkich innych.</span><span class="sxs-lookup"><span data-stu-id="90ea8-129">This is because each application is wildly different from all others.</span></span> <span data-ttu-id="90ea8-130">Jednak dostępne są narzędzia, które mogą DevOps znacznie mniej zniechęcające propozycji.</span><span class="sxs-lookup"><span data-stu-id="90ea8-130">However, there are tools that can make DevOps a far less daunting proposition.</span></span> <span data-ttu-id="90ea8-131">Jeden z tych narzędzi jest znany jako Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="90ea8-131">One of these tools is known as Azure DevOps.</span></span>

## <a name="azure-devops"></a><span data-ttu-id="90ea8-132">Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="90ea8-132">Azure DevOps</span></span>

<span data-ttu-id="90ea8-133">Usługa Azure DevOps ma długotrwałe rodowody.</span><span class="sxs-lookup"><span data-stu-id="90ea8-133">Azure DevOps has a long pedigree.</span></span> <span data-ttu-id="90ea8-134">Może śledzić swoje katalogi główne z powrotem do momentu Team Foundation Server po raz pierwszy przeniesiona w tryb online i przy użyciu różnych zmian nazw: Visual Studio Online i Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="90ea8-134">It can trace its roots back to when Team Foundation Server first moved online and through the various name changes: Visual Studio Online and Visual Studio Team Services.</span></span> <span data-ttu-id="90ea8-135">W latach, jednak stała się znacznie większa niż jego poprzedniki.</span><span class="sxs-lookup"><span data-stu-id="90ea8-135">Through the years, however, it has become far more than its predecessors.</span></span>

<span data-ttu-id="90ea8-136">Usługa Azure DevOps jest podzielona na pięć głównych składników:</span><span class="sxs-lookup"><span data-stu-id="90ea8-136">Azure DevOps is divided into five major components:</span></span>

![Rysunek 10-2 pięć głównych obszarów usługi Azure DevOps](./media/devops-components.png)

<span data-ttu-id="90ea8-138">**Rysunek 10-2** — Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="90ea8-138">**Figure 10-2** - Azure DevOps.</span></span>

<span data-ttu-id="90ea8-139">**Azure Repos** — Zarządzanie kodem źródłowym, które obsługuje Venerable Kontrola wersji serwera Team Foundation (TFVC) oraz ulubioną w branży usługę [git](https://en.wikipedia.org/wiki/Git).</span><span class="sxs-lookup"><span data-stu-id="90ea8-139">**Azure Repos** - Source code management that supports the venerable Team Foundation Version Control (TFVC) and the industry favorite [Git](https://en.wikipedia.org/wiki/Git).</span></span> <span data-ttu-id="90ea8-140">Żądania ściągnięcia umożliwiają umożliwienie kodowania społecznościowego poprzez wspieranie dyskusji o zmianach w miarę ich wprowadzania.</span><span class="sxs-lookup"><span data-stu-id="90ea8-140">Pull requests provide a way to enable social coding by fostering discussion of changes as they're made.</span></span>

<span data-ttu-id="90ea8-141">**Azure Boards** — zawiera narzędzie do śledzenia problemu i elementów roboczych, które ma na celu umożliwienie użytkownikom wyboru przepływów pracy, które najlepiej odpowiadają.</span><span class="sxs-lookup"><span data-stu-id="90ea8-141">**Azure Boards** - Provides an issue and work item tracking tool that strives to allow users to pick the workflows that work best for them.</span></span> <span data-ttu-id="90ea8-142">Zawiera ona wiele wstępnie skonfigurowanych szablonów, w tym te, które obsługują style SCRUM i Kanban rozwoju.</span><span class="sxs-lookup"><span data-stu-id="90ea8-142">It comes with a number of pre-configured templates including ones to support SCRUM and Kanban styles of development.</span></span>

<span data-ttu-id="90ea8-143">**Azure Pipelines** — system zarządzania kompilacjami i wydaniami, który obsługuje ścisłą integrację z platformą Azure.</span><span class="sxs-lookup"><span data-stu-id="90ea8-143">**Azure Pipelines** - A build and release management system that supports tight integration with Azure.</span></span> <span data-ttu-id="90ea8-144">Kompilacje można uruchamiać na różnych platformach z systemu Windows do Linux do MacOS.</span><span class="sxs-lookup"><span data-stu-id="90ea8-144">Builds can be run on a variety of platforms from Windows to Linux to MacOS.</span></span> <span data-ttu-id="90ea8-145">Agenci kompilacji mogą być obsługiwani w chmurze lub lokalnie.</span><span class="sxs-lookup"><span data-stu-id="90ea8-145">Build agents may be provisioned in the cloud or on-premises.</span></span>

<span data-ttu-id="90ea8-146">**Azure test Plans** — żadna osoba odpowiedzialna za zarządzanie testami i testowanie poznawcze oferowane przez funkcję test Plans nie zostanie pozostawione.</span><span class="sxs-lookup"><span data-stu-id="90ea8-146">**Azure Test Plans** - No QA person will be left behind with the test management and exploratory testing support offered by the Test Plans feature.</span></span>

<span data-ttu-id="90ea8-147">**Azure Artifacts** — Źródło artefaktów, które umożliwia firmom tworzenie własnych, wewnętrznych, wersji NuGet, npm i innych.</span><span class="sxs-lookup"><span data-stu-id="90ea8-147">**Azure Artifacts** - An artifact feed that allows companies to create their own, internal, versions of NuGet, npm, and others.</span></span> <span data-ttu-id="90ea8-148">W przypadku niepowodzenia scentralizowanego repozytorium działa jako pamięć podręczna pakietów nadrzędnych.</span><span class="sxs-lookup"><span data-stu-id="90ea8-148">It serves a double purpose of acting as a cache of upstream packages if there's a failure of a centralized repository.</span></span>

<span data-ttu-id="90ea8-149">Jednostka organizacyjna najwyższego poziomu w usłudze Azure DevOps jest nazywana projektem.</span><span class="sxs-lookup"><span data-stu-id="90ea8-149">The top-level organizational unit in Azure DevOps is known as a Project.</span></span> <span data-ttu-id="90ea8-150">W każdym projekcie różne składniki, takie jak Azure Artifacts, można włączać i wyłączać.</span><span class="sxs-lookup"><span data-stu-id="90ea8-150">Within each project the various components, such as Azure Artifacts, can be turned on and off.</span></span> <span data-ttu-id="90ea8-151">Każdy z tych składników oferuje różne zalety aplikacji natywnych w chmurze.</span><span class="sxs-lookup"><span data-stu-id="90ea8-151">Each of these components provides different advantages for cloud-native applications.</span></span> <span data-ttu-id="90ea8-152">Trzy najbardziej przydatne są repozytoria, tablice i potoki.</span><span class="sxs-lookup"><span data-stu-id="90ea8-152">The three most useful are repositories, boards, and pipelines.</span></span> <span data-ttu-id="90ea8-153">Jeśli użytkownicy chcą zarządzać kodem źródłowym w innym stosie repozytorium, takim jak GitHub, ale nadal korzystają z Azure Pipelines i innych składników, to doskonale możliwe.</span><span class="sxs-lookup"><span data-stu-id="90ea8-153">If users want to manage their source code in another repository stack, such as GitHub, but still take advantage of Azure Pipelines and other components, that's perfectly possible.</span></span>

<span data-ttu-id="90ea8-154">Na szczęście zespoły deweloperów mają wiele opcji podczas wybierania repozytorium.</span><span class="sxs-lookup"><span data-stu-id="90ea8-154">Fortunately, development teams have many options when selecting a repository.</span></span> <span data-ttu-id="90ea8-155">Jednym z nich jest serwis GitHub.</span><span class="sxs-lookup"><span data-stu-id="90ea8-155">One of them is GitHub.</span></span>

## <a name="github-actions"></a><span data-ttu-id="90ea8-156">GitHub Actions</span><span class="sxs-lookup"><span data-stu-id="90ea8-156">GitHub Actions</span></span>

<span data-ttu-id="90ea8-157">2009 w witrynie GitHub jest to szeroko popularne repozytorium oparte na sieci Web służące do hostowania projektów, dokumentacji i kodu.</span><span class="sxs-lookup"><span data-stu-id="90ea8-157">Founded in 2009, GitHub is a widely popular web-based repository for hosting projects, documentation, and code.</span></span> <span data-ttu-id="90ea8-158">Wiele dużych firm technicznych, takich jak Apple, Amazon, Google i Large Corporation, korzysta z usługi GitHub.</span><span class="sxs-lookup"><span data-stu-id="90ea8-158">Many large tech companies, such as Apple, Amazon, Google, and mainstream corporations use GitHub.</span></span> <span data-ttu-id="90ea8-159">Usługa GitHub używa rozproszonego systemu kontroli wersji (Open Source) o nazwie git jako podstawy.</span><span class="sxs-lookup"><span data-stu-id="90ea8-159">GitHub uses the open-source, distributed version control system named Git as its foundation.</span></span> <span data-ttu-id="90ea8-160">Następnie dodaje swój własny zestaw funkcji, w tym śledzenie defektów, żądania funkcji i żądań ściągnięcia, zarządzanie zadaniami i wiki dla każdej bazy kodu.</span><span class="sxs-lookup"><span data-stu-id="90ea8-160">On top, it then adds its own set of features, including defect tracking, feature and pull requests, tasks management, and wikis for each code base.</span></span>

<span data-ttu-id="90ea8-161">W miarę rozwoju usługi GitHub jest również dodawana funkcja DevOps.</span><span class="sxs-lookup"><span data-stu-id="90ea8-161">As GitHub evolves, it too is adding DevOps features.</span></span> <span data-ttu-id="90ea8-162">Na przykład usługa GitHub ma własne potoki ciągłej integracji/ciągłego dostarczania (CI/CD) o nazwie `GitHub Actions` .</span><span class="sxs-lookup"><span data-stu-id="90ea8-162">For example, GitHub has its own continuous integration/continuous delivery (CI/CD) pipeline, called `GitHub Actions`.</span></span> <span data-ttu-id="90ea8-163">Akcje GitHub to narzędzie do automatyzacji przepływu pracy, które jest obsługiwane przez społeczność.</span><span class="sxs-lookup"><span data-stu-id="90ea8-163">GitHub Actions is a community-powered workflow automation tool.</span></span> <span data-ttu-id="90ea8-164">Umożliwia zespołom DevOps integrację z istniejącymi narzędziami, mieszanie i dopasowywanie nowych produktów oraz Podłączanie do ich cyklu życia oprogramowania, w tym istniejących partnerów CI/CD.</span><span class="sxs-lookup"><span data-stu-id="90ea8-164">It lets DevOps teams integrate with their existing tooling, mix and match new products, and hook into their software lifecycle, including existing CI/CD partners."</span></span>

<span data-ttu-id="90ea8-165">Serwis GitHub ma ponad 40 000 000 użytkowników, co sprawia, że jest to największy Host kodu źródłowego na świecie.</span><span class="sxs-lookup"><span data-stu-id="90ea8-165">GitHub has over 40 million users, making it the largest host of source code in the world.</span></span> <span data-ttu-id="90ea8-166">W październiku 2018 firma Microsoft zakupiła witrynę GitHub.</span><span class="sxs-lookup"><span data-stu-id="90ea8-166">In October of 2018, Microsoft purchased GitHub.</span></span> <span data-ttu-id="90ea8-167">Firma Microsoft zabrała, że usługa GitHub pozostanie [otwartą platformą](https://techcrunch.com/2018/06/04/microsoft-promises-to-keep-github-independent-and-open/) , którą każdy deweloper może podłączyć i zwiększyć.</span><span class="sxs-lookup"><span data-stu-id="90ea8-167">Microsoft has pledged that GitHub will remain an [open platform](https://techcrunch.com/2018/06/04/microsoft-promises-to-keep-github-independent-and-open/) that any developer can plug into and extend.</span></span> <span data-ttu-id="90ea8-168">Nadal działa jako niezależna firma.</span><span class="sxs-lookup"><span data-stu-id="90ea8-168">It continues to operate as an independent company.</span></span> <span data-ttu-id="90ea8-169">Serwis GitHub oferuje plany dotyczące kont przedsiębiorstwa, zespołów, profesjonalnych i bezpłatnych.</span><span class="sxs-lookup"><span data-stu-id="90ea8-169">GitHub offers plans for enterprise, team, professional, and free accounts.</span></span>

## <a name="source-control"></a><span data-ttu-id="90ea8-170">Kontrola źródła</span><span class="sxs-lookup"><span data-stu-id="90ea8-170">Source control</span></span>

<span data-ttu-id="90ea8-171">Organizacja kodu dla aplikacji natywnej w chmurze może być wyzwaniem.</span><span class="sxs-lookup"><span data-stu-id="90ea8-171">Organizing the code for a cloud-native application can be challenging.</span></span> <span data-ttu-id="90ea8-172">Zamiast pojedynczej aplikacji bardzo duże aplikacje natywne w chmurze składają się z sieci Web mniejszych aplikacji, które komunikują się ze sobą.</span><span class="sxs-lookup"><span data-stu-id="90ea8-172">Instead of a single giant application, the cloud-native applications tend to be made up of a web of smaller applications that talk with one another.</span></span> <span data-ttu-id="90ea8-173">Podobnie jak w przypadku wszystkich rzeczy na platformie obliczeniowej, najlepszym rozwiązaniem kodu pozostaje otwarte pytanie.</span><span class="sxs-lookup"><span data-stu-id="90ea8-173">As with all things in computing, the best arrangement of code remains an open question.</span></span> <span data-ttu-id="90ea8-174">Istnieją przykłady pomyślnych aplikacji korzystających z różnych rodzajów układów, ale dwie odmiany wydają się mieć największą popularność.</span><span class="sxs-lookup"><span data-stu-id="90ea8-174">There are examples of successful applications using different kinds of layouts, but two variants seem to have the most popularity.</span></span>

<span data-ttu-id="90ea8-175">Przed przystąpieniem do rzeczywistej kontroli źródła, prawdopodobnie warto określić liczbę projektów, które są odpowiednie.</span><span class="sxs-lookup"><span data-stu-id="90ea8-175">Before getting down into the actual source control itself, it's probably worth deciding on how many projects are appropriate.</span></span> <span data-ttu-id="90ea8-176">W jednym projekcie jest obsługiwana obsługa wielu repozytoriów i potoków kompilacji.</span><span class="sxs-lookup"><span data-stu-id="90ea8-176">Within a single project, there's support for multiple repositories, and build pipelines.</span></span> <span data-ttu-id="90ea8-177">Tablice są nieco bardziej skomplikowane, ale zbyt wiele zadań można łatwo przypisać do wielu zespołów w ramach pojedynczego projektu.</span><span class="sxs-lookup"><span data-stu-id="90ea8-177">Boards are a little more complicated, but there too, the tasks can easily be assigned to multiple teams within a single project.</span></span> <span data-ttu-id="90ea8-178">Istnieje możliwość obsługi setek, nawet tysięcy deweloperów, z jednego projektu usługi Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="90ea8-178">It's possible to support hundreds, even thousands of developers, out of a single Azure DevOps project.</span></span> <span data-ttu-id="90ea8-179">Jest to prawdopodobnie najlepszym podejściem, ponieważ zapewnia to pojedyncze miejsce, dla którego wszyscy deweloperzy nie mogą pracować, i zmniejszają problemy z znalezieniem, że jedna aplikacja nie ma pewności, w którym projekcie, w którym się znajdują.</span><span class="sxs-lookup"><span data-stu-id="90ea8-179">Doing so is likely the best approach as it provides a single place for all developer to work out of and reduces the confusion of finding that one application when developers are unsure in which project in which it resides.</span></span>

<span data-ttu-id="90ea8-180">Dzielenie kodu dla mikrousług w projekcie usługi Azure DevOps może być nieco trudniejsze.</span><span class="sxs-lookup"><span data-stu-id="90ea8-180">Splitting up code for microservices within the Azure DevOps project can be slightly more challenging.</span></span>

![Rysunek 10-3 pojedyncze a wiele repozytoriów](./media/single-repository-vs-multiple.png)

<span data-ttu-id="90ea8-182">**Rysunek 10-3** — jeden i wiele repozytoriów.</span><span class="sxs-lookup"><span data-stu-id="90ea8-182">**Figure 10-3** - One vs. many repositories.</span></span>

### <a name="repository-per-microservice"></a><span data-ttu-id="90ea8-183">Repozytorium na mikrousługę</span><span class="sxs-lookup"><span data-stu-id="90ea8-183">Repository per microservice</span></span>

<span data-ttu-id="90ea8-184">Na pierwszy rzut oka wygląda to najbardziej logiczne podejście do dzielenia kodu źródłowego dla mikrousług.</span><span class="sxs-lookup"><span data-stu-id="90ea8-184">At first glance, this seems like the most logical approach to splitting up the source code for microservices.</span></span> <span data-ttu-id="90ea8-185">Każde repozytorium może zawierać kod, który jest wymagany do utworzenia jednej mikrousługi.</span><span class="sxs-lookup"><span data-stu-id="90ea8-185">Each repository can contain the code needed to build the one microservice.</span></span> <span data-ttu-id="90ea8-186">Zalety tej metody są łatwo widoczne:</span><span class="sxs-lookup"><span data-stu-id="90ea8-186">The advantages to this approach are readily visible:</span></span>

1. <span data-ttu-id="90ea8-187">Instrukcje dotyczące tworzenia i obsługi aplikacji można dodać do pliku Readme w katalogu głównym każdego repozytorium.</span><span class="sxs-lookup"><span data-stu-id="90ea8-187">Instructions for building and maintaining the application can be added to a README file at the root of each repository.</span></span> <span data-ttu-id="90ea8-188">Podczas przechodzenia przez repozytoria można łatwo znaleźć te instrukcje i skrócić czas jej trwania dla deweloperów.</span><span class="sxs-lookup"><span data-stu-id="90ea8-188">When flipping through the repositories, it's easy to find these instructions, reducing spin-up time for developers.</span></span>
2. <span data-ttu-id="90ea8-189">Każda usługa znajduje się w miejscu logicznym i można ją łatwo znaleźć, znając nazwę usługi.</span><span class="sxs-lookup"><span data-stu-id="90ea8-189">Every service is located in a logical place, easily found by knowing the name of the service.</span></span>
3. <span data-ttu-id="90ea8-190">Kompilacje można łatwo skonfigurować w taki sposób, aby były wyzwalane tylko wtedy, gdy dokonywana jest zmiana w repozytorium będącym właścicielem.</span><span class="sxs-lookup"><span data-stu-id="90ea8-190">Builds can easily be set up such that they're only triggered when a change is made to the owning repository.</span></span>
4. <span data-ttu-id="90ea8-191">Liczba zmian wprowadzonych w repozytorium jest ograniczona do niewielkiej liczby deweloperów pracujących nad projektem.</span><span class="sxs-lookup"><span data-stu-id="90ea8-191">The number of changes coming into a repository is limited to the small number of developers working on the project.</span></span>
5. <span data-ttu-id="90ea8-192">Zabezpieczenia można łatwo skonfigurować, ograniczając repozytoria, do których deweloperzy mają uprawnienia do odczytu i zapisu.</span><span class="sxs-lookup"><span data-stu-id="90ea8-192">Security is easy to set up by restricting the repositories to which developers have read and write permissions.</span></span>
6. <span data-ttu-id="90ea8-193">Ustawienia poziomu repozytorium mogą być zmieniane przez zespół będący właścicielem z co najmniej dyskusjami z innymi.</span><span class="sxs-lookup"><span data-stu-id="90ea8-193">Repository level settings can be changed by the owning team with a minimum of discussion with others.</span></span>

<span data-ttu-id="90ea8-194">Jednym z kluczowych koncepcji związanych z mikrousługą jest to, że usługi powinny być przesłonięte i oddzielone od siebie.</span><span class="sxs-lookup"><span data-stu-id="90ea8-194">One of the key ideas behind microservices is that services should be siloed and separated from each other.</span></span> <span data-ttu-id="90ea8-195">W przypadku korzystania z projektu opartego na domenie w celu określenia granic dla usług usługi działają jako granice transakcyjne.</span><span class="sxs-lookup"><span data-stu-id="90ea8-195">When using Domain Driven Design to decide on the boundaries for services the services act as transactional boundaries.</span></span> <span data-ttu-id="90ea8-196">Aktualizacje bazy danych nie mogą obejmować wielu usług.</span><span class="sxs-lookup"><span data-stu-id="90ea8-196">Database updates shouldn't span multiple services.</span></span> <span data-ttu-id="90ea8-197">Ta kolekcja powiązanych danych jest nazywana kontekstem ograniczonym.</span><span class="sxs-lookup"><span data-stu-id="90ea8-197">This collection of related data is referred to as a bounded context.</span></span>  <span data-ttu-id="90ea8-198">Ten pomysł jest odzwierciedlony przez izolację danych mikrousług w oddzielnym i niezależnym od reszty usług.</span><span class="sxs-lookup"><span data-stu-id="90ea8-198">This idea is reflected by the isolation of microservice data to a database separate and autonomous from the rest of the services.</span></span> <span data-ttu-id="90ea8-199">Jest to bardzo duże rozwiązanie do przeprowadzenia tego pomysłu w sposób umożliwiający przechodzenie do kodu źródłowego.</span><span class="sxs-lookup"><span data-stu-id="90ea8-199">It makes a great deal of sense to carry this idea all the way through to the source code.</span></span>

<span data-ttu-id="90ea8-200">Jednak takie podejście nie ma żadnych problemów.</span><span class="sxs-lookup"><span data-stu-id="90ea8-200">However, this approach isn't without its issues.</span></span> <span data-ttu-id="90ea8-201">Jednym z bardziej gnarlyych problemów programistycznych jest zarządzanie zależnościami.</span><span class="sxs-lookup"><span data-stu-id="90ea8-201">One of the more gnarly development problems of our time is managing dependencies.</span></span> <span data-ttu-id="90ea8-202">Weź pod uwagę liczbę plików, które składają się na średni `node_modules` katalog.</span><span class="sxs-lookup"><span data-stu-id="90ea8-202">Consider the number of files that make up the average `node_modules` directory.</span></span> <span data-ttu-id="90ea8-203">Nowa instalacja tego elementu `create-react-app` jest prawdopodobnie taka sama jak tysiące pakietów.</span><span class="sxs-lookup"><span data-stu-id="90ea8-203">A fresh install of something like `create-react-app` is likely to bring with it thousands of packages.</span></span> <span data-ttu-id="90ea8-204">Pytanie, jak zarządzać tymi zależnościami, jest trudne.</span><span class="sxs-lookup"><span data-stu-id="90ea8-204">The question of how to manage these dependencies is a difficult one.</span></span>

<span data-ttu-id="90ea8-205">W przypadku zaktualizowania zależności, pakiety podrzędne muszą także aktualizować Tę zależność.</span><span class="sxs-lookup"><span data-stu-id="90ea8-205">If a dependency is updated, then downstream packages must also update this dependency.</span></span> <span data-ttu-id="90ea8-206">Niestety, dzięki czemu Praca programistyczna niezmiennie, `node_modules` katalog zostaje zakończony z wieloma wersjami jednego pakietu, każda z nich jest zależna od innego pakietu, który jest w niewielkim stopniu różny erze.</span><span class="sxs-lookup"><span data-stu-id="90ea8-206">Unfortunately, that takes development work so, invariably, the `node_modules` directory ends up with multiple versions of a single package, each one a dependency of some other package that is versioned at a slightly different cadence.</span></span> <span data-ttu-id="90ea8-207">W przypadku wdrażania aplikacji należy użyć wersji zależności?</span><span class="sxs-lookup"><span data-stu-id="90ea8-207">When deploying an application, which version of a dependency should be used?</span></span> <span data-ttu-id="90ea8-208">Wersja, która jest obecnie w środowisku produkcyjnym?</span><span class="sxs-lookup"><span data-stu-id="90ea8-208">The version that is currently in production?</span></span> <span data-ttu-id="90ea8-209">Wersja, która jest obecnie w wersji beta, ale może być w środowisku produkcyjnym przez czas, przez który odbiorca wprowadza do produkcji?</span><span class="sxs-lookup"><span data-stu-id="90ea8-209">The version that is currently in Beta but is likely to be in production by the time the consumer makes it to production?</span></span> <span data-ttu-id="90ea8-210">Trudne problemy, które nie są rozwiązywane przez użycie mikrousług.</span><span class="sxs-lookup"><span data-stu-id="90ea8-210">Difficult problems that aren't resolved by just using microservices.</span></span>

<span data-ttu-id="90ea8-211">Istnieją biblioteki, które są zależne od wielu różnych projektów.</span><span class="sxs-lookup"><span data-stu-id="90ea8-211">There are libraries that are depended upon by a wide variety of projects.</span></span> <span data-ttu-id="90ea8-212">Dzieląc mikrousługi z jednym w każdym repozytorium, można najlepiej rozwiązać wewnętrzne zależności przy użyciu wewnętrznego repozytorium, Azure Artifacts.</span><span class="sxs-lookup"><span data-stu-id="90ea8-212">By dividing the microservices up with one in each repository the internal dependencies can best be resolved by using the internal repository, Azure Artifacts.</span></span> <span data-ttu-id="90ea8-213">Kompilacje dla bibliotek spowodują wypchnięcie najnowszych wersji do Azure Artifacts na użytek wewnętrzny.</span><span class="sxs-lookup"><span data-stu-id="90ea8-213">Builds for libraries will push their latest versions into Azure Artifacts for internal consumption.</span></span> <span data-ttu-id="90ea8-214">Projekt podrzędny należy nadal zaktualizować ręcznie, aby wziąć zależność od nowo zaktualizowanych pakietów.</span><span class="sxs-lookup"><span data-stu-id="90ea8-214">The downstream project must still be manually updated to take a dependency on the newly updated packages.</span></span>

<span data-ttu-id="90ea8-215">Inna wadą jest sama podczas przesuwania kodu między usługami.</span><span class="sxs-lookup"><span data-stu-id="90ea8-215">Another disadvantage presents itself when moving code between services.</span></span> <span data-ttu-id="90ea8-216">Chociaż warto przypuszczać, że pierwsze dzielenie aplikacji na mikrousługi ma poprawność 100%, rzeczywistość jest taka, że rzadko Prescient się, że nie wystąpiły żadne błędy dzielenia usługi.</span><span class="sxs-lookup"><span data-stu-id="90ea8-216">Although it would be nice to believe that the first division of an application into microservices is 100% correct, the reality is that rarely we're so prescient as to make no service division mistakes.</span></span> <span data-ttu-id="90ea8-217">Z tego względu funkcje i kod, który dysków należy przenieść z usługi do usługi: repozytorium do repozytorium.</span><span class="sxs-lookup"><span data-stu-id="90ea8-217">Thus, functionality and the code that drives it will need to move from service to service: repository to repository.</span></span> <span data-ttu-id="90ea8-218">Podczas przestępnia z jednego repozytorium do innego kod utraci swoją historię.</span><span class="sxs-lookup"><span data-stu-id="90ea8-218">When leaping from one repository to another, the code loses its history.</span></span> <span data-ttu-id="90ea8-219">Istnieje wiele przypadków, szczególnie w przypadku inspekcji, gdzie Pełna historia fragmentów kodu jest niecenna.</span><span class="sxs-lookup"><span data-stu-id="90ea8-219">There are many cases, especially in the event of an audit, where having full history on a piece of code is invaluable.</span></span>

<span data-ttu-id="90ea8-220">Ostatnia i najważniejsza wadą jest koordynacja zmian.</span><span class="sxs-lookup"><span data-stu-id="90ea8-220">The final and most important disadvantage is coordinating changes.</span></span> <span data-ttu-id="90ea8-221">W aplikacji o prawdziwej mikrousługach nie powinno być żadnych zależności wdrożenia między usługami.</span><span class="sxs-lookup"><span data-stu-id="90ea8-221">In a true microservices application, there should be no deployment dependencies between services.</span></span> <span data-ttu-id="90ea8-222">Powinno być możliwe wdrożenie usług A, B i C w dowolnej kolejności, gdy mają one luźne sprzężenia.</span><span class="sxs-lookup"><span data-stu-id="90ea8-222">It should be possible to deploy services A, B, and C in any order as they have loose coupling.</span></span> <span data-ttu-id="90ea8-223">W rzeczywistości jednak czasami trzeba wprowadzić zmianę, która przecina wiele repozytoriów w tym samym czasie.</span><span class="sxs-lookup"><span data-stu-id="90ea8-223">In reality, however, there are times when it's desirable to make a change that crosses multiple repositories at the same time.</span></span> <span data-ttu-id="90ea8-224">Niektóre przykłady obejmują Aktualizowanie biblioteki w celu zamknięcia otworu zabezpieczeń lub zmiany protokołu komunikacyjnego używanego przez wszystkie usługi.</span><span class="sxs-lookup"><span data-stu-id="90ea8-224">Some examples include updating a library to close a security hole or changing a communication protocol used by all services.</span></span>

<span data-ttu-id="90ea8-225">Aby dokonać zmiany między repozytorium, należy wykonać zatwierdzenie dla każdego repozytorium.</span><span class="sxs-lookup"><span data-stu-id="90ea8-225">To do a cross-repository change requires a commit to each repository be made in succession.</span></span> <span data-ttu-id="90ea8-226">Każda zmiana w każdym repozytorium musi być wymagana do ściągnięcia i przeanalizowana osobno.</span><span class="sxs-lookup"><span data-stu-id="90ea8-226">Each change in each repository will need to be pull-requested and reviewed separately.</span></span> <span data-ttu-id="90ea8-227">Może to być trudne do skoordynowania.</span><span class="sxs-lookup"><span data-stu-id="90ea8-227">This can be difficult to coordinate.</span></span>

<span data-ttu-id="90ea8-228">Alternatywą dla korzystania z wielu repozytoriów jest umieszczenie całego kodu źródłowego w bardzo duże, wszystkie wiedzący o pojedynczym repozytorium.</span><span class="sxs-lookup"><span data-stu-id="90ea8-228">An alternative to using many repositories is to put all the source code together in a giant, all knowing, single repository.</span></span>

### <a name="single-repository"></a><span data-ttu-id="90ea8-229">Pojedyncze repozytorium</span><span class="sxs-lookup"><span data-stu-id="90ea8-229">Single repository</span></span>

<span data-ttu-id="90ea8-230">W tej metodzie, czasami nazywanej [transrepozytorium](https://danluu.com/monorepo/), cały kod źródłowy każdej usługi jest umieszczany w tym samym repozytorium.</span><span class="sxs-lookup"><span data-stu-id="90ea8-230">In this approach, sometimes referred to as a [monorepository](https://danluu.com/monorepo/), all the source code for every service is put into the same repository.</span></span> <span data-ttu-id="90ea8-231">Początkowo wygląda to na przykład z pomysłem jaszczurów, który może prowadzić do postępowania z kodem źródłowym nieporęczny.</span><span class="sxs-lookup"><span data-stu-id="90ea8-231">At first, this seems like a terrible idea likely to make dealing with source code unwieldy.</span></span> <span data-ttu-id="90ea8-232">Istnieją jednak pewne korzyści, które mogą działać w ten sposób.</span><span class="sxs-lookup"><span data-stu-id="90ea8-232">There are, however, some marked advantages to working this way.</span></span>

<span data-ttu-id="90ea8-233">Pierwszym z nich jest łatwiejsze zarządzanie zależnościami między projektami.</span><span class="sxs-lookup"><span data-stu-id="90ea8-233">The first advantage is that it's easier to manage dependencies between projects.</span></span> <span data-ttu-id="90ea8-234">Zamiast polegać na zewnętrznym źródle artefaktów, projekty mogą być bezpośrednio importowane.</span><span class="sxs-lookup"><span data-stu-id="90ea8-234">Instead of relying on some external artifact feed, projects can directly import one another.</span></span> <span data-ttu-id="90ea8-235">Oznacza to, że aktualizacje są błyskawiczne, a w czasie kompilacji na stacji roboczej dewelopera mogą znajdować się wersje powodujące konflikt.</span><span class="sxs-lookup"><span data-stu-id="90ea8-235">This means that updates are instant, and conflicting versions are likely to be found at compile time on the developer's workstation.</span></span> <span data-ttu-id="90ea8-236">W efekcie przesuniesz niektóre z pozostałych testów integracji.</span><span class="sxs-lookup"><span data-stu-id="90ea8-236">In effect, shifting some of the integration testing left.</span></span>

<span data-ttu-id="90ea8-237">Podczas przenoszenia kodu między projektami łatwiej jest zachować historię, ponieważ pliki zostaną wykryte jako przenoszone zamiast ponownie zapisywane.</span><span class="sxs-lookup"><span data-stu-id="90ea8-237">When moving code between projects, it's now easier to preserve the history as the files will be detected as having been moved rather than being rewritten.</span></span>

<span data-ttu-id="90ea8-238">Inna korzyść polega na tym, że szerokie zmiany przekraczające granice międzyusługowe mogą być wykonywane w ramach jednego zatwierdzenia.</span><span class="sxs-lookup"><span data-stu-id="90ea8-238">Another advantage is that wide ranging changes that cross service boundaries can be made in a single commit.</span></span> <span data-ttu-id="90ea8-239">Pozwala to zmniejszyć nakład pracy związany z potencjalnie dziesiątymi zmianami, które mogą być przeglądane pojedynczo.</span><span class="sxs-lookup"><span data-stu-id="90ea8-239">This reduces the overhead of having potentially dozens of changes to review individually.</span></span>

<span data-ttu-id="90ea8-240">Istnieje wiele narzędzi, które mogą wykonywać statyczne analizy kodu w celu wykrywania niezabezpieczonych praktyk programistycznych lub problemów z wykorzystaniem interfejsów API.</span><span class="sxs-lookup"><span data-stu-id="90ea8-240">There are many tools that can perform static analysis of code to detect insecure programming practices or problematic use of APIs.</span></span> <span data-ttu-id="90ea8-241">W przypadku wielorepozytorium na świecie każde repozytorium będzie musiało zostać powtórzone w celu znalezienia występujących w nich problemów.</span><span class="sxs-lookup"><span data-stu-id="90ea8-241">In a multi-repository world, each repository will need to be iterated over to find the problems in them.</span></span> <span data-ttu-id="90ea8-242">Pojedyncze repozytorium umożliwia uruchamianie analizy wszystko w jednym miejscu.</span><span class="sxs-lookup"><span data-stu-id="90ea8-242">The single repository allows running the analysis all in one place.</span></span>

<span data-ttu-id="90ea8-243">Istnieje również wiele wad podejścia do jednego repozytorium.</span><span class="sxs-lookup"><span data-stu-id="90ea8-243">There are also many disadvantages to the single repository approach.</span></span> <span data-ttu-id="90ea8-244">Jedną z najbardziej martwych się rzeczy jest to, że posiadanie jednego repozytorium stwarza problemy związane z bezpieczeństwem.</span><span class="sxs-lookup"><span data-stu-id="90ea8-244">One of the most worrying ones is that having a single repository raises security concerns.</span></span> <span data-ttu-id="90ea8-245">Jeśli zawartość repozytorium jest wycieka w repozytorium na model usługi, ilość utraconych kodu jest minimalna.</span><span class="sxs-lookup"><span data-stu-id="90ea8-245">If the contents of a repository are leaked in a repository per service model, the amount of code lost is minimal.</span></span> <span data-ttu-id="90ea8-246">W przypadku jednego repozytorium wszystkie elementy należące do firmy mogą zostać utracone.</span><span class="sxs-lookup"><span data-stu-id="90ea8-246">With a single repository, everything the company owns could be lost.</span></span> <span data-ttu-id="90ea8-247">Istniało wiele przykładów w przeszłości i wycofanie całego wysiłku związanego z programowaniem gier.</span><span class="sxs-lookup"><span data-stu-id="90ea8-247">There have been many examples in the past of this happening and derailing entire game development efforts.</span></span> <span data-ttu-id="90ea8-248">Posiadanie wielu repozytoriów jest mniej powierzchniowe, co jest pożądanymi cechami w większości praktyk dotyczących zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="90ea8-248">Having multiple repositories exposes less surface area, which is a desirable trait in most security practices.</span></span>

<span data-ttu-id="90ea8-249">Rozmiar pojedynczego repozytorium może być niemożliwy do szybkiego zarządzania.</span><span class="sxs-lookup"><span data-stu-id="90ea8-249">The size of the single repository is likely to become unmanageable rapidly.</span></span> <span data-ttu-id="90ea8-250">Przedstawia to pewne interesujące konsekwencje związane z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="90ea8-250">This presents some interesting performance implications.</span></span> <span data-ttu-id="90ea8-251">Może być konieczne użycie wyspecjalizowanych narzędzi, takich jak [wirtualny system plików dla usługi git](https://vfsforgit.org/), który pierwotnie został zaprojektowany w celu poprawy środowiska dla deweloperów w zespole systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="90ea8-251">It may become necessary to use specialized tools such as [Virtual File System for Git](https://vfsforgit.org/), which was originally designed to improve the experience for developers on the Windows team.</span></span>

<span data-ttu-id="90ea8-252">Często argument służący do korzystania z jednego repozytorium jest przebiegać do argumentu, który w serwisie Facebook lub Google używa tej metody do rozmieszczenia kodu źródłowego.</span><span class="sxs-lookup"><span data-stu-id="90ea8-252">Frequently the argument for using a single repository boils down to an argument that Facebook or Google use this method for source code arrangement.</span></span> <span data-ttu-id="90ea8-253">Jeśli takie podejście jest wystarczające dla tych firm, należy upewnić się, że jest to poprawne podejście dla wszystkich firm.</span><span class="sxs-lookup"><span data-stu-id="90ea8-253">If the approach is good enough for these companies, then, surely, it's the correct approach for all companies.</span></span> <span data-ttu-id="90ea8-254">Prawdziwość sprawy polega na tym, że kilka firm działa w taki sam sposób jak w przypadku skali serwisu Facebook lub Google.</span><span class="sxs-lookup"><span data-stu-id="90ea8-254">The truth of the matter is that few companies operate on anything like the scale of Facebook or Google.</span></span> <span data-ttu-id="90ea8-255">Problemy występujące w tych skalach różnią się od tych, które są używane dla większości deweloperów.</span><span class="sxs-lookup"><span data-stu-id="90ea8-255">The problems that occur at those scales are different from those most developers will face.</span></span> <span data-ttu-id="90ea8-256">To, co jest dobre dla gęsi, może nie być dobre dla Gander.</span><span class="sxs-lookup"><span data-stu-id="90ea8-256">What is good for the goose may not be good for the gander.</span></span>

<span data-ttu-id="90ea8-257">Na końcu można użyć dowolnego rozwiązania do hostowania kodu źródłowego dla mikrousług.</span><span class="sxs-lookup"><span data-stu-id="90ea8-257">In the end, either solution can be used to host the source code for microservices.</span></span> <span data-ttu-id="90ea8-258">Jednak w większości przypadków koszty związane z zarządzaniem i pracą inżynieryjną w ramach jednego repozytorium nie są takie same jak zalety meager.</span><span class="sxs-lookup"><span data-stu-id="90ea8-258">However, in most cases, the management, and engineering overhead of operating in a single repository isn't worth the meager advantages.</span></span> <span data-ttu-id="90ea8-259">Dzielenie kodu przez wiele repozytoriów zachęca do lepszego rozdzielenia problemów i zachęca do autonomii wśród zespołów programistycznych.</span><span class="sxs-lookup"><span data-stu-id="90ea8-259">Splitting code up over multiple repositories encourages better separation of concerns and encourages autonomy among development teams.</span></span>  

### <a name="standard-directory-structure"></a><span data-ttu-id="90ea8-260">Standardowa struktura katalogów</span><span class="sxs-lookup"><span data-stu-id="90ea8-260">Standard directory structure</span></span>

<span data-ttu-id="90ea8-261">Bez względu na to, czy wiele repozytoriów jest debata każdej usługi, będzie mieć własny katalog.</span><span class="sxs-lookup"><span data-stu-id="90ea8-261">Regardless of the single versus multiple repositories debate each service will have its own directory.</span></span> <span data-ttu-id="90ea8-262">Jednym z najlepszych optymalizacji, aby umożliwić deweloperom szybkie przechodzenie między projektami, jest zachowanie standardowej struktury katalogów.</span><span class="sxs-lookup"><span data-stu-id="90ea8-262">One of the best optimizations to allow developers to cross between projects quickly is to maintain a standard directory structure.</span></span>

![Rysunek 10-4 Standardowa struktura katalogów dla usług poczty e-mail i logowania](./media/dir-struct.png)

<span data-ttu-id="90ea8-264">**Rysunek 10-4** — standardowa struktura katalogów.</span><span class="sxs-lookup"><span data-stu-id="90ea8-264">**Figure 10-4** - Standard directory structure.</span></span>

<span data-ttu-id="90ea8-265">Za każdym razem, gdy tworzony jest nowy projekt, należy użyć szablonu, który umieszcza prawidłową strukturę.</span><span class="sxs-lookup"><span data-stu-id="90ea8-265">Whenever a new project is created, a template that puts in place the correct structure should be used.</span></span> <span data-ttu-id="90ea8-266">Ten szablon może również zawierać takie przydatne elementy jak szkieletowy plik Readme i `azure-pipelines.yml` .</span><span class="sxs-lookup"><span data-stu-id="90ea8-266">This template can also include such useful items as a skeleton README file and an `azure-pipelines.yml`.</span></span> <span data-ttu-id="90ea8-267">W dowolnej architekturze mikrousług, wysoki stopień wariancji między projektami sprawia, że operacje zbiorcze w odniesieniu do usług są trudniejsze.</span><span class="sxs-lookup"><span data-stu-id="90ea8-267">In any microservice architecture, a high degree of variance between projects makes bulk operations against the services more difficult.</span></span>

<span data-ttu-id="90ea8-268">Istnieje wiele narzędzi, które mogą zapewnić tworzenia szablonów dla całego katalogu zawierającego kilka katalogów kodu źródłowego.</span><span class="sxs-lookup"><span data-stu-id="90ea8-268">There are many tools that can provide templating for an entire directory, containing several source code directories.</span></span> <span data-ttu-id="90ea8-269">[Narzędzia Yeoman](https://yeoman.io/) jest popularne w świecie JavaScript, a serwis GitHub niedawno wydał [Szablony repozytorium](https://github.blog/2019-06-06-generate-new-repositories-with-repository-templates/), które zapewniają wiele takich samych funkcji.</span><span class="sxs-lookup"><span data-stu-id="90ea8-269">[Yeoman](https://yeoman.io/) is popular in the JavaScript world and GitHub have recently released [Repository Templates](https://github.blog/2019-06-06-generate-new-repositories-with-repository-templates/), which provide much of the same functionality.</span></span>

## <a name="task-management"></a><span data-ttu-id="90ea8-270">Zarządzanie zadaniami</span><span class="sxs-lookup"><span data-stu-id="90ea8-270">Task management</span></span>

<span data-ttu-id="90ea8-271">Zarządzanie zadaniami w dowolnym projekcie może być trudne.</span><span class="sxs-lookup"><span data-stu-id="90ea8-271">Managing tasks in any project can be difficult.</span></span> <span data-ttu-id="90ea8-272">Na bieżąco są niezliczone pytania dotyczące sortowania przepływów pracy, które należy skonfigurować w celu zapewnienia optymalnej produktywności dla deweloperów.</span><span class="sxs-lookup"><span data-stu-id="90ea8-272">Up front there are countless questions to be answered about the sort of workflows to set up to ensure optimal developer productivity.</span></span>

<span data-ttu-id="90ea8-273">Aplikacje natywne w chmurze mogą być mniejsze niż tradycyjne produkty lub co najmniej te, które są podzielone na mniejsze usługi.</span><span class="sxs-lookup"><span data-stu-id="90ea8-273">Cloud-native applications tend to be smaller than traditional software products or at least they're divided into smaller services.</span></span> <span data-ttu-id="90ea8-274">Śledzenie problemów lub zadań związanych z tymi usługami pozostaje tak ważne jak w przypadku każdego innego projektu oprogramowania.</span><span class="sxs-lookup"><span data-stu-id="90ea8-274">Tracking of issues or tasks related to these services remains as important as with any other software project.</span></span> <span data-ttu-id="90ea8-275">Nikt nie chce utracić śledzenia niektórych elementów roboczych lub wyjaśnić klientowi, że ich problem nie został poprawnie zarejestrowany.</span><span class="sxs-lookup"><span data-stu-id="90ea8-275">Nobody wants to lose track of some work item or explain to a customer that their issue wasn't properly logged.</span></span> <span data-ttu-id="90ea8-276">Tablice są konfigurowane na poziomie projektu, ale w poszczególnych projektach można definiować obszary.</span><span class="sxs-lookup"><span data-stu-id="90ea8-276">Boards are configured at the project level but within each project, areas can be defined.</span></span> <span data-ttu-id="90ea8-277">Umożliwiają one rozbicie problemów między kilka składników.</span><span class="sxs-lookup"><span data-stu-id="90ea8-277">These allow breaking down issues across several components.</span></span> <span data-ttu-id="90ea8-278">Zalety utrzymywania całej pracy dla całej aplikacji w jednym miejscu polega na tym, że można łatwo przenieść elementy robocze z jednego zespołu do drugiego, jeśli są one lepiej zrozumiałe.</span><span class="sxs-lookup"><span data-stu-id="90ea8-278">The advantage to keeping all the work for the entire application in one place is that it's easy to move work items from one team to another as they're understood better.</span></span>

<span data-ttu-id="90ea8-279">Usługa Azure DevOps udostępnia wiele popularnych szablonów, które zostały wstępnie skonfigurowane.</span><span class="sxs-lookup"><span data-stu-id="90ea8-279">Azure DevOps comes with a number of popular templates pre-configured.</span></span> <span data-ttu-id="90ea8-280">W najbardziej podstawowej konfiguracji wszystko, co jest potrzebne do uzyskania informacji, to to, co znajduje się w zaległościach, do czego pracują.</span><span class="sxs-lookup"><span data-stu-id="90ea8-280">In the most basic configuration, all that is needed to know is what's in the backlog, what people are working on, and what's done.</span></span> <span data-ttu-id="90ea8-281">Ważne jest, aby mieć wgląd w proces tworzenia oprogramowania, dzięki czemu można określić priorytety pracy i zadania zgłoszone dla klienta.</span><span class="sxs-lookup"><span data-stu-id="90ea8-281">It's important to have this visibility into the process of building software, so that work can be prioritized and completed tasks reported to the customer.</span></span> <span data-ttu-id="90ea8-282">Oczywiście kilka projektów oprogramowania jest przygotowanych do procesu tak proste jak `to do` , `doing` , i `done` .</span><span class="sxs-lookup"><span data-stu-id="90ea8-282">Of course, few software projects stick to a process as simple as `to do`, `doing`, and `done`.</span></span> <span data-ttu-id="90ea8-283">Rozpoczęcie dodawania kroków takich jak `QA` lub do procesu nie zajmie dużo czasu `Detailed Specification` .</span><span class="sxs-lookup"><span data-stu-id="90ea8-283">It doesn't take long for people to start adding steps like `QA` or `Detailed Specification` to the process.</span></span>

<span data-ttu-id="90ea8-284">Jedną z ważniejszych części metodologii Agile jest samodzielne introspekcji w regularnych odstępach czasu.</span><span class="sxs-lookup"><span data-stu-id="90ea8-284">One of the more important parts of Agile methodologies is self-introspection at regular intervals.</span></span> <span data-ttu-id="90ea8-285">Te przeglądy mają na celu zapewnienie wglądu w informacje o problemach zespołu i sposobach ich udoskonalania.</span><span class="sxs-lookup"><span data-stu-id="90ea8-285">These reviews are meant to provide insight into what problems the team is facing and how they can be improved.</span></span> <span data-ttu-id="90ea8-286">Często oznacza to zmianę przepływu problemów i funkcji za pośrednictwem procesu tworzenia oprogramowania.</span><span class="sxs-lookup"><span data-stu-id="90ea8-286">Frequently, this means changing the flow of issues and features through the development process.</span></span> <span data-ttu-id="90ea8-287">Tak więc doskonale dobra powiększanie układów tablic z dodatkowymi etapami.</span><span class="sxs-lookup"><span data-stu-id="90ea8-287">So, it's perfectly healthy to expand the layouts of the boards with additional stages.</span></span>

<span data-ttu-id="90ea8-288">Etapy na tablicach nie są jedynym narzędziem organizacji.</span><span class="sxs-lookup"><span data-stu-id="90ea8-288">The stages in the boards aren't the only organizational tool.</span></span> <span data-ttu-id="90ea8-289">W zależności od konfiguracji tablicy istnieje hierarchia elementów roboczych.</span><span class="sxs-lookup"><span data-stu-id="90ea8-289">Depending on the configuration of the board, there's a hierarchy of work items.</span></span> <span data-ttu-id="90ea8-290">Najbardziej szczegółowym elementem, który może być wyświetlany na tablicy, jest zadanie.</span><span class="sxs-lookup"><span data-stu-id="90ea8-290">The most granular item that can appear on a board is a task.</span></span> <span data-ttu-id="90ea8-291">Z pola zadanie zawiera pola dla tytułu, opisu, priorytetu, oszacowania ilości pozostałej pracy oraz możliwość łączenia z innymi elementami roboczymi lub elementami deweloperskimi (gałęzie, zatwierdzenia, żądania ściągnięcia, kompilacje itd.).</span><span class="sxs-lookup"><span data-stu-id="90ea8-291">Out of the box a task contains fields for a title, description, a priority, an estimate of the amount of work remaining and the ability to link to other work items or development items (branches, commits, pull requests, builds, and so forth).</span></span> <span data-ttu-id="90ea8-292">Elementy robocze mogą być klasyfikowane do różnych obszarów aplikacji i różnych iteracji (przebiegów), aby ułatwić łatwiejsze znajdowanie.</span><span class="sxs-lookup"><span data-stu-id="90ea8-292">Work items can be classified into different areas of the application and different iterations (sprints) to make finding them easier.</span></span>

![Rysunek 10-5 przykładowe zadanie w usłudze Azure DevOps](./media/task-details.png)

<span data-ttu-id="90ea8-294">**Rysunek 10-5** — zadanie w usłudze Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="90ea8-294">**Figure 10-5** - Task in Azure DevOps.</span></span>

<span data-ttu-id="90ea8-295">Pole Description obsługuje style normalne, których oczekujesz (pogrubienie, podkreślenie kursywą i przekreślenie) oraz możliwość wstawiania obrazów.</span><span class="sxs-lookup"><span data-stu-id="90ea8-295">The description field supports the normal styles you'd expect (bold, italic underscore and strike through) and the ability to insert images.</span></span> <span data-ttu-id="90ea8-296">Sprawia to, że jest to zaawansowane narzędzie do użycia podczas określania pracy lub błędów.</span><span class="sxs-lookup"><span data-stu-id="90ea8-296">This makes it a powerful tool for use when specifying work or bugs.</span></span>

<span data-ttu-id="90ea8-297">Zadania mogą być rzutowane na funkcje, które definiują większą liczbę jednostek pracy.</span><span class="sxs-lookup"><span data-stu-id="90ea8-297">Tasks can be rolled up into features, which define a larger unit of work.</span></span> <span data-ttu-id="90ea8-298">Z kolei funkcje mogą być [rzutowane na epiki](https://docs.microsoft.com/azure/devops/boards/backlogs/define-features-epics?view=azure-devops).</span><span class="sxs-lookup"><span data-stu-id="90ea8-298">Features, in turn, can be [rolled up into epics](https://docs.microsoft.com/azure/devops/boards/backlogs/define-features-epics?view=azure-devops).</span></span> <span data-ttu-id="90ea8-299">Klasyfikowanie zadań w tej hierarchii ułatwia zrozumienie, jak zamknięcie dużej funkcji jest możliwe.</span><span class="sxs-lookup"><span data-stu-id="90ea8-299">Classifying tasks in this hierarchy makes it much easier to understand how close a large feature is to rolling out.</span></span>

![Rysunek 10-6 typów elementów roboczych skonfigurowanych domyślnie w szablonie procesu podstawowego](./media/board-issue-types.png)

<span data-ttu-id="90ea8-301">**Rysunek 10-6** . element roboczy w usłudze Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="90ea8-301">**Figure 10-6** - Work item in Azure DevOps.</span></span>

<span data-ttu-id="90ea8-302">Istnieją różne rodzaje widoków problemów w Azure Boards.</span><span class="sxs-lookup"><span data-stu-id="90ea8-302">There are different kinds of views into the issues in Azure Boards.</span></span> <span data-ttu-id="90ea8-303">Elementy, które nie zostały jeszcze zaplanowane, są wyświetlane w zaległości.</span><span class="sxs-lookup"><span data-stu-id="90ea8-303">Items that aren't yet scheduled appear in the backlog.</span></span> <span data-ttu-id="90ea8-304">Z tego miejsca można przypisywać je do przebiegu.</span><span class="sxs-lookup"><span data-stu-id="90ea8-304">From there, they can be assigned to a sprint.</span></span> <span data-ttu-id="90ea8-305">Przebieg jest przedziałem czasu, w którym oczekuje się, że pewna ilość pracy zostanie ukończona.</span><span class="sxs-lookup"><span data-stu-id="90ea8-305">A sprint is a time box during which it's expected some quantity of work will be completed.</span></span> <span data-ttu-id="90ea8-306">To zadanie może obejmować zadania, ale również rozwiązywanie biletów.</span><span class="sxs-lookup"><span data-stu-id="90ea8-306">This work can include tasks but also the resolution of tickets.</span></span> <span data-ttu-id="90ea8-307">Za każdym razem można zarządzać całym przebiegiem z sekcji tablica przebiegu.</span><span class="sxs-lookup"><span data-stu-id="90ea8-307">Once there, the entire sprint can be managed from the Sprint board section.</span></span> <span data-ttu-id="90ea8-308">Ten widok pokazuje, jak działa postęp i zawiera wykres spalania, aby zapewnić kiedykolwiek aktualizowane oszacowanie, jeśli przebieg zakończy się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="90ea8-308">This view shows how work is progressing and includes a burn down chart to give an ever-updating estimate of if the sprint will be successful.</span></span>

![Rysunek 10-7 tablicę z zdefiniowanym przebiegiem](./media/sprint-board.png)

<span data-ttu-id="90ea8-310">**Rysunek 10-7** — tablica na platformie Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="90ea8-310">**Figure 10-7** - Board in Azure DevOps.</span></span>

<span data-ttu-id="90ea8-311">Teraz powinno być oczywiste, że w usłudze Azure DevOps jest bardzo dużo miejsca na energię.</span><span class="sxs-lookup"><span data-stu-id="90ea8-311">By now, it should be apparent that there's a great deal of power in the Boards in Azure DevOps.</span></span> <span data-ttu-id="90ea8-312">W przypadku deweloperów istnieją proste widoki, nad którymi pracujesz.</span><span class="sxs-lookup"><span data-stu-id="90ea8-312">For developers, there are easy views of what is being worked on.</span></span> <span data-ttu-id="90ea8-313">Menedżerowie projektów wyświetlają się w nadchodzącej pracy, a także w przeglądzie istniejącej pracy.</span><span class="sxs-lookup"><span data-stu-id="90ea8-313">For project managers views into upcoming work as well as an overview of existing work.</span></span> <span data-ttu-id="90ea8-314">Dla menedżerów istnieje wiele raportów o przeniesieniu i pojemności.</span><span class="sxs-lookup"><span data-stu-id="90ea8-314">For managers, there are plenty of reports about resourcing and capacity.</span></span> <span data-ttu-id="90ea8-315">Niestety, nic nie Magical o aplikacje natywne w chmurze, które eliminują konieczność śledzenia pracy.</span><span class="sxs-lookup"><span data-stu-id="90ea8-315">Unfortunately, there's nothing magical about cloud-native applications that eliminate the need to track work.</span></span> <span data-ttu-id="90ea8-316">Ale jeśli musisz śledzić pracę, istnieje kilka miejsc, w których środowisko jest lepsze niż w przypadku usługi Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="90ea8-316">But if you must track work, there are a few places where the experience is better than in Azure DevOps.</span></span>

## <a name="cicd-pipelines"></a><span data-ttu-id="90ea8-317">Potoki ciągłej integracji/ciągłego wdrażania</span><span class="sxs-lookup"><span data-stu-id="90ea8-317">CI/CD pipelines</span></span>

<span data-ttu-id="90ea8-318">Prawie nie wprowadzono zmian w cyklu życia opracowywania oprogramowania, ponieważ pojawieniu ciągłej integracji (CI) i ciągłe dostarczanie (CD).</span><span class="sxs-lookup"><span data-stu-id="90ea8-318">Almost no change in the software development life cycle has been so revolutionary as the advent of continuous integration (CI) and continuous delivery (CD).</span></span> <span data-ttu-id="90ea8-319">Kompilowanie i uruchamianie zautomatyzowanych testów względem kodu źródłowego projektu zaraz po sprawdzeniu, że zmiany są błędne.</span><span class="sxs-lookup"><span data-stu-id="90ea8-319">Building and running automated tests against the source code of a project as soon as a change is checked in catches mistakes early.</span></span> <span data-ttu-id="90ea8-320">Przed pojawieniu kompilacji ciągłej integracji nie będzie można ściągnąć kodu z repozytorium i znajdować się, że nie przeszedł testów lub nie można było nawet skompilować.</span><span class="sxs-lookup"><span data-stu-id="90ea8-320">Prior to the advent of continuous integration builds, it wouldn't be uncommon to pull code from the repository and find that it didn't pass tests or couldn't even be built.</span></span> <span data-ttu-id="90ea8-321">Spowodowało to śledzenie źródła zerwania.</span><span class="sxs-lookup"><span data-stu-id="90ea8-321">This resulted in tracking down the source of the breakage.</span></span>

<span data-ttu-id="90ea8-322">Tradycyjna wysyłka oprogramowania do środowiska produkcyjnego wymaga obszernej dokumentacji i listy kroków.</span><span class="sxs-lookup"><span data-stu-id="90ea8-322">Traditionally shipping software to the production environment required extensive documentation and a list of steps.</span></span> <span data-ttu-id="90ea8-323">Każdą z tych kroków należy wykonać ręcznie w procesie podatności na błędy.</span><span class="sxs-lookup"><span data-stu-id="90ea8-323">Each one of these steps needed to be manually completed in a very error prone process.</span></span>

![Rysunek 10-8 listy kontrolnej](./media/checklist.png)

<span data-ttu-id="90ea8-325">**Rysunek 10-8** -Lista kontrolna.</span><span class="sxs-lookup"><span data-stu-id="90ea8-325">**Figure 10-8** - Checklist.</span></span>

<span data-ttu-id="90ea8-326">Siostrzana ciągła integracja to ciągłe dostarczanie, w których są wdrażane skompilowane pakiety w środowisku.</span><span class="sxs-lookup"><span data-stu-id="90ea8-326">The sister of continuous integration is continuous delivery in which the freshly built packages are deployed to an environment.</span></span> <span data-ttu-id="90ea8-327">Proces ręczny nie może być skalowany w taki sposób, aby pasował do szybkości opracowywania, aby Automatyzacja była ważniejsze.</span><span class="sxs-lookup"><span data-stu-id="90ea8-327">The manual process can't scale to match the speed of development so automation becomes more important.</span></span> <span data-ttu-id="90ea8-328">Listy kontrolne są zastępowane przez skrypty, które mogą szybciej i bardziej precyzyjnie wykonywać te same zadania.</span><span class="sxs-lookup"><span data-stu-id="90ea8-328">Checklists are replaced by scripts that can execute the same tasks faster and more accurately than any human.</span></span>

<span data-ttu-id="90ea8-329">Środowisko, do którego dostarcza ciągłe dostarczanie, może być środowiskiem testowym lub, tak jak w wielu głównych firmach technologicznych, może być środowiskiem produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="90ea8-329">The environment to which continuous delivery delivers might be a test environment or, as is being done by many major technology companies, it could be the production environment.</span></span> <span data-ttu-id="90ea8-330">Drugie wymaga inwestycji w testy wysokiej jakości, które mogą mieć pewność, że zmiana nie powoduje przerwania produkcji dla użytkowników.</span><span class="sxs-lookup"><span data-stu-id="90ea8-330">The latter requires an investment in high-quality tests that can give confidence that a change isn't going to break production for users.</span></span> <span data-ttu-id="90ea8-331">W taki sam sposób, w jaki ciągła integracja przechwyciła problemy w przypadku wczesnego ciągłego dostarczania kodu, należy wcześniej przechwycić problemy w procesie wdrażania.</span><span class="sxs-lookup"><span data-stu-id="90ea8-331">In the same way that continuous integration caught issues in the code early continuous delivery catches issues in the deployment process early.</span></span>

<span data-ttu-id="90ea8-332">Automatyzacja procesu kompilowania i dostarczania jest accentuated przez aplikacje natywne w chmurze.</span><span class="sxs-lookup"><span data-stu-id="90ea8-332">The importance of automating the build and delivery process is accentuated by cloud-native applications.</span></span> <span data-ttu-id="90ea8-333">Wdrożenia są wykonywane częściej i w większej liczbie środowisk, dzięki czemu ręczne wdrażanie obramowań jest niemożliwe.</span><span class="sxs-lookup"><span data-stu-id="90ea8-333">Deployments happen more frequently and to more environments so manually deploying borders on impossible.</span></span>

### <a name="azure-builds"></a><span data-ttu-id="90ea8-334">Kompilacje platformy Azure</span><span class="sxs-lookup"><span data-stu-id="90ea8-334">Azure Builds</span></span>

<span data-ttu-id="90ea8-335">Usługa Azure DevOps udostępnia zestaw narzędzi umożliwiających ciągłą integrację i wdrażanie.</span><span class="sxs-lookup"><span data-stu-id="90ea8-335">Azure DevOps provides a set of tools to make continuous integration and deployment easier than ever.</span></span> <span data-ttu-id="90ea8-336">Te narzędzia znajdują się w obszarze Azure Pipelines.</span><span class="sxs-lookup"><span data-stu-id="90ea8-336">These tools are located under Azure Pipelines.</span></span> <span data-ttu-id="90ea8-337">Pierwsze z nich to kompilacje platformy Azure, czyli narzędzie do uruchamiania definicji kompilacji opartych na YAML na dużą skalę.</span><span class="sxs-lookup"><span data-stu-id="90ea8-337">The first of them is Azure Builds, which is a tool for running YAML-based build definitions at scale.</span></span> <span data-ttu-id="90ea8-338">Użytkownicy mogą albo przenieść własne maszyny do kompilacji (doskonałe dla sytuacji, gdy kompilacja wymaga środowiska konfiguracji lubiane), albo użyć maszyny z stale odświeżanej puli hostowanych maszyn wirtualnych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="90ea8-338">Users can either bring their own build machines (great for if the build requires a meticulously set up environment) or use a machine from a constantly refreshed pool of Azure hosted virtual machines.</span></span> <span data-ttu-id="90ea8-339">Te hostowane agenci kompilacji są wstępnie zainstalowani z szeroką gamę narzędzi programistycznych, a nie tylko na platformie .NET.</span><span class="sxs-lookup"><span data-stu-id="90ea8-339">These hosted build agents come pre-installed with a wide range of development tools for not just .NET development but for everything from Java to Python to iPhone development.</span></span>

<span data-ttu-id="90ea8-340">DevOps zawiera szeroką gamę definicji kompilacji pól, które można dostosować dla każdej kompilacji.</span><span class="sxs-lookup"><span data-stu-id="90ea8-340">DevOps includes a wide range of out of the box build definitions that can be customized for any build.</span></span> <span data-ttu-id="90ea8-341">Definicje kompilacji są zdefiniowane w pliku o nazwie `azure-pipelines.yml` i zaewidencjonowane do repozytorium, dzięki czemu mogą być poddane wersji wraz z kodem źródłowym.</span><span class="sxs-lookup"><span data-stu-id="90ea8-341">The build definitions are defined in a file called `azure-pipelines.yml` and checked into the repository so they can be versioned along with the source code.</span></span> <span data-ttu-id="90ea8-342">Dzięki temu można znacznie łatwiej wprowadzać zmiany w potoku kompilacji w gałęzi, ponieważ zmiany mogą zostać zaewidencjonowane tylko do tej gałęzi.</span><span class="sxs-lookup"><span data-stu-id="90ea8-342">This makes it much easier to make changes to the build pipeline in a branch as the changes can be checked into just that branch.</span></span> <span data-ttu-id="90ea8-343">Przykładem `azure-pipelines.yml` tworzenia aplikacji sieci web ASP.NET na platformie Full przedstawiono na rysunku 10-9.</span><span class="sxs-lookup"><span data-stu-id="90ea8-343">An example `azure-pipelines.yml` for building an ASP.NET web application on full framework is show in Figure 10-9.</span></span>

```yml
name: $(rev:r)

variables:
  version: 9.2.0.$(Build.BuildNumber)
  solution: Portals.sln
  artifactName: drop
  buildPlatform: any cpu
  buildConfiguration: release
  
pool:
  name: Hosted VS2017
  demands:
  - msbuild
  - visualstudio
  - vstest

steps:
- task: NuGetToolInstaller@0
  displayName: 'Use NuGet 4.4.1'
  inputs:
    versionSpec: 4.4.1

- task: NuGetCommand@2
  displayName: 'NuGet restore'
  inputs:
    restoreSolution: '$(solution)'

- task: VSBuild@1
  displayName: 'Build solution'
  inputs:
    solution: '$(solution)'
    msbuildArgs: '-p:DeployOnBuild=true -p:WebPublishMethod=Package -p:PackageAsSingleFile=true -p:SkipInvalidConfigurations=true -p:PackageLocation="$(build.artifactstagingdirectory)\\"'
    platform: '$(buildPlatform)'
    configuration: '$(buildConfiguration)'

- task: VSTest@2
  displayName: 'Test Assemblies'
  inputs:
    testAssemblyVer2: |
     **\$(buildConfiguration)\**\*test*.dll
     !**\obj\**
     !**\*testadapter.dll
    platform: '$(buildPlatform)'
    configuration: '$(buildConfiguration)'

- task: CopyFiles@2
  displayName: 'Copy UI Test Files to: $(build.artifactstagingdirectory)'
  inputs:
    SourceFolder: UITests
    TargetFolder: '$(build.artifactstagingdirectory)/uitests'

- task: PublishBuildArtifacts@1
  displayName: 'Publish Artifact'
  inputs:
    PathtoPublish: '$(build.artifactstagingdirectory)'
    ArtifactName: '$(artifactName)'
  condition: succeededOrFailed()
```

<span data-ttu-id="90ea8-344">**Rysunek 10-9** — przykład Azure-Pipelines. yml</span><span class="sxs-lookup"><span data-stu-id="90ea8-344">**Figure 10-9** - A sample azure-pipelines.yml</span></span>

<span data-ttu-id="90ea8-345">Ta definicja kompilacji używa wielu wbudowanych zadań, które tworzą kompilacje tak proste jak kompilowanie zestawu o wysokiej rozdzielczości (prostszego niż bardzo duże Millennium Falcon).</span><span class="sxs-lookup"><span data-stu-id="90ea8-345">This build definition uses a number of built-in tasks that make creating builds as simple as building a Lego set (simpler than the giant Millennium Falcon).</span></span> <span data-ttu-id="90ea8-346">Na przykład zadanie NuGet przywraca pakiety NuGet, podczas gdy zadanie VSBuild wywołuje narzędzia kompilacji programu Visual Studio w celu wykonania rzeczywistej kompilacji.</span><span class="sxs-lookup"><span data-stu-id="90ea8-346">For instance, the NuGet task restores NuGet packages, while the VSBuild task calls the Visual Studio build tools to perform the actual compilation.</span></span> <span data-ttu-id="90ea8-347">Istnieją setki różnych zadań dostępnych w usłudze Azure DevOps z tysiącami, które są utrzymywane przez społeczność.</span><span class="sxs-lookup"><span data-stu-id="90ea8-347">There are hundreds of different tasks available in Azure DevOps, with thousands more that are maintained by the community.</span></span> <span data-ttu-id="90ea8-348">Prawdopodobnie nie ma znaczenia, jakie zadania kompilacji, które chcesz uruchomić, ktoś już ją utworzył.</span><span class="sxs-lookup"><span data-stu-id="90ea8-348">It's likely that no matter what build tasks you're looking to run, somebody has built one already.</span></span>

<span data-ttu-id="90ea8-349">Kompilacje mogą być wyzwalane ręcznie, przez zaewidencjonowanie, zgodnie z harmonogramem lub przez zakończenie innej kompilacji.</span><span class="sxs-lookup"><span data-stu-id="90ea8-349">Builds can be triggered manually, by a check-in, on a schedule, or by the completion of another build.</span></span> <span data-ttu-id="90ea8-350">W większości przypadków jest wymagane Kompilowanie każdej zaewidencjonowania.</span><span class="sxs-lookup"><span data-stu-id="90ea8-350">In most cases, building on every check-in is desirable.</span></span> <span data-ttu-id="90ea8-351">Kompilacje można filtrować w taki sposób, aby różne kompilacje były uruchamiane dla różnych części repozytorium lub do różnych gałęzi.</span><span class="sxs-lookup"><span data-stu-id="90ea8-351">Builds can be filtered so that different builds run against different parts of the repository or against different branches.</span></span> <span data-ttu-id="90ea8-352">Pozwala to na wykonywanie scenariuszy, takich jak uruchamianie szybkich kompilacji z ograniczoną testowaniem żądań ściągnięcia i uruchamianie pełnego pakietu regresji na magistrali w nocy.</span><span class="sxs-lookup"><span data-stu-id="90ea8-352">This allows for scenarios like running fast builds with reduced testing on pull requests and running a full regression suite against the trunk on a nightly basis.</span></span>

<span data-ttu-id="90ea8-353">Wynik końcowy kompilacji to kolekcja plików znana jako artefakty kompilacji.</span><span class="sxs-lookup"><span data-stu-id="90ea8-353">The end result of a build is a collection of files known as build artifacts.</span></span> <span data-ttu-id="90ea8-354">Te artefakty mogą być przesyłane do następnego kroku w procesie kompilacji lub dodawane do źródła artefaktów platformy Azure, dzięki czemu mogą być używane przez inne kompilacje.</span><span class="sxs-lookup"><span data-stu-id="90ea8-354">These artifacts can be passed along to the next step in the build process or added to an Azure Artifact feed, so they can be consumed by other builds.</span></span>

### <a name="azure-devops-releases"></a><span data-ttu-id="90ea8-355">Wersje usługi Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="90ea8-355">Azure DevOps releases</span></span>

<span data-ttu-id="90ea8-356">Kompilacje wymagają skompilowania oprogramowania do pakietu możliwego do wysyłki, ale artefakty nadal muszą zostać wypchnięte do środowiska testowego w celu ukończenia ciągłego dostarczania.</span><span class="sxs-lookup"><span data-stu-id="90ea8-356">Builds take care of compiling the software into a shippable package, but the artifacts still need to be pushed out to a testing environment to complete continuous delivery.</span></span> <span data-ttu-id="90ea8-357">W takim przypadku usługa Azure DevOps używa osobnego narzędzia o nazwie releases.</span><span class="sxs-lookup"><span data-stu-id="90ea8-357">For this, Azure DevOps uses a separate tool called Releases.</span></span> <span data-ttu-id="90ea8-358">Narzędzie releases korzysta z tej samej biblioteki zadań, która była dostępna dla kompilacji, ale wprowadza koncepcję "etapów".</span><span class="sxs-lookup"><span data-stu-id="90ea8-358">The Releases tool makes use of the same tasks' library that were available to the Build but introduce a concept of "stages".</span></span> <span data-ttu-id="90ea8-359">Etap jest izolowanym środowiskiem, w którym jest zainstalowany pakiet.</span><span class="sxs-lookup"><span data-stu-id="90ea8-359">A stage is an isolated environment into which the package is installed.</span></span> <span data-ttu-id="90ea8-360">Na przykład produkt może wykorzystywać programowanie, pytania i odpowiedzi oraz środowisko produkcyjne.</span><span class="sxs-lookup"><span data-stu-id="90ea8-360">For instance, a product might make use of a development, a QA, and a production environment.</span></span> <span data-ttu-id="90ea8-361">Kod jest stale dostarczany do środowiska programistycznego, w którym można uruchomić testy automatyczne.</span><span class="sxs-lookup"><span data-stu-id="90ea8-361">Code is continuously delivered into the development environment where automated tests can be run against it.</span></span> <span data-ttu-id="90ea8-362">Po przejściu tych testów do środowiska pytań i odpowiedzi na testowanie ręczne.</span><span class="sxs-lookup"><span data-stu-id="90ea8-362">Once those tests pass the release moves onto the QA environment for manual testing.</span></span> <span data-ttu-id="90ea8-363">Na koniec kod jest wypychany do środowiska produkcyjnego, w którym jest widoczny dla każdego.</span><span class="sxs-lookup"><span data-stu-id="90ea8-363">Finally, the code is pushed to production where it's visible to everybody.</span></span>

![Rysunek 10-10 przykład potoku wydania z etapami opracowywania, kontroli jakości i produkcji](./media/release-pipeline.png)

<span data-ttu-id="90ea8-365">**Rysunek 10-10** — potoku wydania</span><span class="sxs-lookup"><span data-stu-id="90ea8-365">**Figure 10-10** - Release pipeline</span></span>

<span data-ttu-id="90ea8-366">Każdy etap kompilacji może być automatycznie wyzwalany przez zakończenie poprzedniej fazy.</span><span class="sxs-lookup"><span data-stu-id="90ea8-366">Each stage in the build can be automatically triggered by the completion of the previous phase.</span></span> <span data-ttu-id="90ea8-367">Jednak w wielu przypadkach nie jest to pożądane.</span><span class="sxs-lookup"><span data-stu-id="90ea8-367">In many cases, however, this isn't desirable.</span></span> <span data-ttu-id="90ea8-368">Przeniesienie kodu do produkcji może wymagać od kogoś zatwierdzenia.</span><span class="sxs-lookup"><span data-stu-id="90ea8-368">Moving code into production might require approval from somebody.</span></span> <span data-ttu-id="90ea8-369">Narzędzie releases obsługuje to przez umożliwienie zatwierdzania na każdym etapie potoku wydania.</span><span class="sxs-lookup"><span data-stu-id="90ea8-369">The Releases tool supports this by allowing approvers at each step of the release pipeline.</span></span> <span data-ttu-id="90ea8-370">Zasady można skonfigurować w taki sposób, aby określona osoba lub grupa osób musiała się wylogować w wersji przed rozpoczęciem pracy w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="90ea8-370">Rules can be set up such that a specific person or group of people must sign off on a release before it makes into production.</span></span> <span data-ttu-id="90ea8-371">Te bramy umożliwiają ręczne sprawdzanie jakości oraz zgodność z wymaganiami prawnymi związanymi z kontrolą, co prowadzi do produkcji.</span><span class="sxs-lookup"><span data-stu-id="90ea8-371">These gates allow for manual quality checks and also for compliance with any regulatory requirements related to control what goes into production.</span></span>

### <a name="everybody-gets-a-build-pipeline"></a><span data-ttu-id="90ea8-372">Każdy pobiera potok kompilacji</span><span class="sxs-lookup"><span data-stu-id="90ea8-372">Everybody gets a build pipeline</span></span>

<span data-ttu-id="90ea8-373">Nie ma kosztu konfigurowania wielu potoków kompilacji, więc korzystne jest posiadanie co najmniej jednego potoku kompilacji dla mikrousług.</span><span class="sxs-lookup"><span data-stu-id="90ea8-373">There's no cost to configuring many build pipelines, so it's advantageous to have at least one build pipeline per microservice.</span></span> <span data-ttu-id="90ea8-374">W idealnym przypadku mikrousługi są niezależnie wdrażane w dowolnym środowisku, dzięki czemu każdy z nich jest możliwy do zwolnienia za pośrednictwem własnego potoku bez zwalniania masy niepowiązanego kodu jest idealnym rozwiązaniem.</span><span class="sxs-lookup"><span data-stu-id="90ea8-374">Ideally, microservices are independently deployable to any environment so having each one able to be released via its own pipeline without releasing a mass of unrelated code is perfect.</span></span> <span data-ttu-id="90ea8-375">Każdy potok może mieć swój własny zestaw zatwierdzeń, który pozwala na różnice w procesie kompilacji dla każdej usługi.</span><span class="sxs-lookup"><span data-stu-id="90ea8-375">Each pipeline can have its own set of approvals allowing for variations in build process for each service.</span></span>

### <a name="versioning-releases"></a><span data-ttu-id="90ea8-376">Wersje wersji</span><span class="sxs-lookup"><span data-stu-id="90ea8-376">Versioning releases</span></span>

<span data-ttu-id="90ea8-377">Jedną z wad korzystania z funkcji wydań jest to, że nie można jej zdefiniować w pliku zaewidencjonowania `azure-pipelines.yml` .</span><span class="sxs-lookup"><span data-stu-id="90ea8-377">One drawback to using the Releases functionality is that it can't be defined in a checked-in `azure-pipelines.yml` file.</span></span> <span data-ttu-id="90ea8-378">Istnieje wiele powodów, dla których warto wykonać te czynności, aby można było dołączać do nich szkielet wydania w szablonie projektu.</span><span class="sxs-lookup"><span data-stu-id="90ea8-378">There are many reasons you might want to do that from having per-branch release definitions to including a release skeleton in your project template.</span></span> <span data-ttu-id="90ea8-379">Na szczęście przesuniemy niektóre etapy obsługi do składnika kompilacji.</span><span class="sxs-lookup"><span data-stu-id="90ea8-379">Fortunately, work is ongoing to shift some of the stages support into the Build component.</span></span> <span data-ttu-id="90ea8-380">Ta wartość będzie znana jako kompilacja wieloetapowa, a [Pierwsza wersja jest teraz dostępna](https://devblogs.microsoft.com/devops/whats-new-with-azure-pipelines/)!</span><span class="sxs-lookup"><span data-stu-id="90ea8-380">This will be known as multi-stage build and the [first version is available now](https://devblogs.microsoft.com/devops/whats-new-with-azure-pipelines/)!</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="90ea8-381">[Poprzedni](azure-security.md) 
> [Dalej](feature-flags.md)</span><span class="sxs-lookup"><span data-stu-id="90ea8-381">[Previous](azure-security.md)
[Next](feature-flags.md)</span></span>
