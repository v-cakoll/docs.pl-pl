---
title: Importowanie i eksportowanie schematu
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF, schema import and export
- XsdDataContractExporter class
- XsdDataContractImporter class
ms.assetid: 0da32b50-ccd9-463a-844c-7fe803d3bf44
ms.openlocfilehash: 942ade69d92d8a213f65a3a2e463b6924e2f986e
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/09/2020
ms.locfileid: "84590218"
---
# <a name="schema-import-and-export"></a><span data-ttu-id="48600-102">Importowanie i eksportowanie schematu</span><span class="sxs-lookup"><span data-stu-id="48600-102">Schema Import and Export</span></span>
<span data-ttu-id="48600-103">Windows Communication Foundation (WCF) zawiera nowy aparat serializacji, <xref:System.Runtime.Serialization.DataContractSerializer> .</span><span class="sxs-lookup"><span data-stu-id="48600-103">Windows Communication Foundation (WCF) includes a new serialization engine, the <xref:System.Runtime.Serialization.DataContractSerializer>.</span></span> <span data-ttu-id="48600-104">`DataContractSerializer`Tłumaczy między obiektami .NET Framework i XML (w obu kierunkach).</span><span class="sxs-lookup"><span data-stu-id="48600-104">The `DataContractSerializer` translates between .NET Framework objects and XML (in both directions).</span></span> <span data-ttu-id="48600-105">Oprócz programu szeregującego, WCF zawiera skojarzone mechanizmy importowania schematu i eksportowania schematu.</span><span class="sxs-lookup"><span data-stu-id="48600-105">In addition to the serializer itself, WCF includes associated schema import and schema export mechanisms.</span></span> <span data-ttu-id="48600-106">*Schemat* to formalny, dokładny i czytelny dla maszyn opis kształtu XML, który tworzy serializator lub który Deserializator może uzyskać dostęp.</span><span class="sxs-lookup"><span data-stu-id="48600-106">*Schema* is a formal, precise, and machine-readable description of the shape of XML that the serializer produces or that the deserializer can access.</span></span> <span data-ttu-id="48600-107">Funkcja WCF używa organizacja World Wide Web Consortium (W3C) języka definicji schematu XML (XSD) jako reprezentacji schematu, która jest szeroko współdziałana z wieloma platformami innych firm.</span><span class="sxs-lookup"><span data-stu-id="48600-107">WCF uses the World Wide Web Consortium (W3C) XML Schema definition language (XSD) as its schema representation, which is widely interoperable with numerous third-party platforms.</span></span>  
  
 <span data-ttu-id="48600-108">Składnik importowania schematu, <xref:System.Runtime.Serialization.XsdDataContractImporter> , pobiera dokument schematu XSD i generuje klasy .NET Framework (zazwyczaj klasy kontraktu danych), tak że serializowane formularze odpowiadają danemu schematowi.</span><span class="sxs-lookup"><span data-stu-id="48600-108">The schema import component, <xref:System.Runtime.Serialization.XsdDataContractImporter>, takes an XSD schema document and generates .NET Framework classes (normally data contract classes) such that the serialized forms correspond to the given schema.</span></span>  
  
 <span data-ttu-id="48600-109">Na przykład poniższy fragment schematu:</span><span class="sxs-lookup"><span data-stu-id="48600-109">For example, the following schema fragment:</span></span>  
  
 [!code-csharp[c_SchemaImportExport#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#8)]
 [!code-vb[c_SchemaImportExport#8](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#8)]  
  
 <span data-ttu-id="48600-110">generuje następujący typ (uproszczony nieznacznie w celu zwiększenia czytelności).</span><span class="sxs-lookup"><span data-stu-id="48600-110">generates the following type (simplified slightly for better readability).</span></span>  
  
 [!code-csharp[c_SchemaImportExport#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#1)]
 [!code-vb[c_SchemaImportExport#1](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#1)]  
  
 <span data-ttu-id="48600-111">Należy zauważyć, że wygenerowany typ jest zgodny z kilkoma najlepszymi rozwiązaniami dotyczącymi kontraktu dotyczącego danych (które są dostępne w [najlepszych rozwiązaniach: wersja kontraktu danych](../best-practices-data-contract-versioning.md)):</span><span class="sxs-lookup"><span data-stu-id="48600-111">Note that the generated type follows several data contract best practices (found in [Best Practices: Data Contract Versioning](../best-practices-data-contract-versioning.md)):</span></span>  
  
- <span data-ttu-id="48600-112">Typ implementuje <xref:System.Runtime.Serialization.IExtensibleDataObject> interfejs.</span><span class="sxs-lookup"><span data-stu-id="48600-112">The type implements the <xref:System.Runtime.Serialization.IExtensibleDataObject> interface.</span></span> <span data-ttu-id="48600-113">Aby uzyskać więcej informacji, zobacz [Kontrakty danych zgodne z przekazywaniem dalej](forward-compatible-data-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="48600-113">For more information, see [Forward-Compatible Data Contracts](forward-compatible-data-contracts.md).</span></span>  
  
- <span data-ttu-id="48600-114">Elementy członkowskie danych są implementowane jako właściwości publiczne, które zawijają pola prywatne.</span><span class="sxs-lookup"><span data-stu-id="48600-114">Data members are implemented as public properties that wrap private fields.</span></span>  
  
- <span data-ttu-id="48600-115">Klasa jest klasą częściową, a dodatki można wprowadzać bez modyfikowania kodu wygenerowanego.</span><span class="sxs-lookup"><span data-stu-id="48600-115">The class is a partial class, and additions can be made without modifying generated code.</span></span>  
  
 <span data-ttu-id="48600-116"><xref:System.Runtime.Serialization.XsdDataContractExporter>Umożliwia przeprowadzenie odwrócenia — wykonaj typy, które można serializować przy użyciu `DataContractSerializer` i Generuj dokument schematu XSD.</span><span class="sxs-lookup"><span data-stu-id="48600-116">The <xref:System.Runtime.Serialization.XsdDataContractExporter> enables you to do the reverse—take types that are serializable with the `DataContractSerializer` and generate an XSD Schema document.</span></span>  
  
## <a name="fidelity-is-not-guaranteed"></a><span data-ttu-id="48600-117">Wierność nie jest gwarantowana</span><span class="sxs-lookup"><span data-stu-id="48600-117">Fidelity Is Not Guaranteed</span></span>  
 <span data-ttu-id="48600-118">Nie gwarantuje to, że schemat lub typy przedają w wyniku rundy całkowitą wierność.</span><span class="sxs-lookup"><span data-stu-id="48600-118">It is not guaranteed that schema or types make a round trip with total fidelity.</span></span> <span data-ttu-id="48600-119">(W wyniku *rundy* należy zaimportować schemat, aby utworzyć zestaw klas, i wyeksportować wynik, aby ponownie utworzyć schemat). Nie można zwrócić tego samego schematu.</span><span class="sxs-lookup"><span data-stu-id="48600-119">(A *round trip* means to import a schema to create a set of classes, and export the result to create a schema again.) The same schema may not be returned.</span></span> <span data-ttu-id="48600-120">Odwrócenie procesu nie gwarantuje również zachowania dokładności.</span><span class="sxs-lookup"><span data-stu-id="48600-120">Reversing the process is also not guaranteed to preserve fidelity.</span></span> <span data-ttu-id="48600-121">(Wyeksportuj typ, aby wygenerować jego schemat, a następnie zaimportuj typ z powrotem.</span><span class="sxs-lookup"><span data-stu-id="48600-121">(Export a type to generate its schema, and then import the type back.</span></span> <span data-ttu-id="48600-122">Jest mało prawdopodobne, że zwracany jest ten sam typ.)</span><span class="sxs-lookup"><span data-stu-id="48600-122">It is unlikely the same type is returned.)</span></span>  
  
## <a name="supported-types"></a><span data-ttu-id="48600-123">Obsługiwane typy</span><span class="sxs-lookup"><span data-stu-id="48600-123">Supported Types</span></span>  
 <span data-ttu-id="48600-124">Model kontraktu danych obsługuje tylko ograniczony podzbiór schematu WC3.</span><span class="sxs-lookup"><span data-stu-id="48600-124">The data contract model supports only a limited subset of the WC3 schema.</span></span> <span data-ttu-id="48600-125">Każdy schemat, który nie jest zgodny z tym podzbiorem, spowoduje wyjątek podczas procesu importowania.</span><span class="sxs-lookup"><span data-stu-id="48600-125">Any schema that does not conform to this subset will cause an exception during the import process.</span></span> <span data-ttu-id="48600-126">Na przykład nie istnieje sposób, aby określić, że element członkowski danych kontraktu danych powinien być serializowany jako atrybut XML.</span><span class="sxs-lookup"><span data-stu-id="48600-126">For example, there is no way to specify that a data member of a data contract should be serialized as an XML attribute.</span></span> <span data-ttu-id="48600-127">W związku z tym schematy, które wymagają użycia atrybutów XML, nie są obsługiwane i spowodują wyjątki podczas importowania, ponieważ nie można wygenerować kontraktu danych z poprawnym rzutowaniem XML.</span><span class="sxs-lookup"><span data-stu-id="48600-127">Thus, schemas that require the use of XML attributes are not supported and will cause exceptions during import, because it is impossible to generate a data contract with the correct XML projection.</span></span>  
  
 <span data-ttu-id="48600-128">Na przykład poniższy fragment schematu nie może zostać zaimportowany przy użyciu domyślnych ustawień importu.</span><span class="sxs-lookup"><span data-stu-id="48600-128">For example, the following schema fragment cannot be imported using the default import settings.</span></span>  
  
 [!code-xml[c_SchemaImportExport#9](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/common/source.config#9)]  
  
 <span data-ttu-id="48600-129">Aby uzyskać więcej informacji, zobacz informacje o [schemacie kontraktu danych](data-contract-schema-reference.md).</span><span class="sxs-lookup"><span data-stu-id="48600-129">For more information, see [Data Contract Schema Reference](data-contract-schema-reference.md).</span></span> <span data-ttu-id="48600-130">Jeśli schemat nie jest zgodny z regułami kontraktu danych, użyj innego aparatu serializacji.</span><span class="sxs-lookup"><span data-stu-id="48600-130">If a schema does not conform to the data contract rules, use a different serialization engine.</span></span> <span data-ttu-id="48600-131">Na przykład <xref:System.Xml.Serialization.XmlSerializer> używa własnego mechanizmu importowania schematu.</span><span class="sxs-lookup"><span data-stu-id="48600-131">For example, the <xref:System.Xml.Serialization.XmlSerializer> uses its own separate schema import mechanism.</span></span> <span data-ttu-id="48600-132">Ponadto istnieje specjalny tryb importu, w którym jest rozwinięty zakres obsługiwanego schematu.</span><span class="sxs-lookup"><span data-stu-id="48600-132">Also, there is a special import mode in which the range of supported schema is expanded.</span></span> <span data-ttu-id="48600-133">Aby uzyskać więcej informacji, zobacz sekcję dotyczącą generowania <xref:System.Xml.Serialization.IXmlSerializable> typów w temacie [Importowanie schematu do generowania klas](importing-schema-to-generate-classes.md).</span><span class="sxs-lookup"><span data-stu-id="48600-133">For more information, see the section about generating <xref:System.Xml.Serialization.IXmlSerializable> types in [Importing Schema to Generate Classes](importing-schema-to-generate-classes.md).</span></span>  
  
 <span data-ttu-id="48600-134">`XsdDataContractExporter`Obsługuje wszystkie typy .NET Framework, które można serializować przy użyciu `DataContractSerializer` .</span><span class="sxs-lookup"><span data-stu-id="48600-134">The `XsdDataContractExporter` supports any .NET Framework types that can be serialized with the `DataContractSerializer`.</span></span> <span data-ttu-id="48600-135">Aby uzyskać więcej informacji, zobacz [Typy obsługiwane przez serializator kontraktu danych](types-supported-by-the-data-contract-serializer.md).</span><span class="sxs-lookup"><span data-stu-id="48600-135">For more information, see [Types Supported by the Data Contract Serializer](types-supported-by-the-data-contract-serializer.md).</span></span> <span data-ttu-id="48600-136">Należy zauważyć, że schemat wygenerowany przy użyciu `XsdDataContractExporter` jest zwykle prawidłowymi danymi, które `XsdDataContractImporter` mogą być używane (chyba że <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> jest używany do dostosowywania schematu).</span><span class="sxs-lookup"><span data-stu-id="48600-136">Note that schema generated using the `XsdDataContractExporter` is normally valid data that the `XsdDataContractImporter` can use (unless the <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> is used to customize the schema).</span></span>  
  
 <span data-ttu-id="48600-137">Aby uzyskać więcej informacji o używaniu programu <xref:System.Runtime.Serialization.XsdDataContractImporter> , zobacz [Importowanie schematu do generowania klas](importing-schema-to-generate-classes.md).</span><span class="sxs-lookup"><span data-stu-id="48600-137">For more information about using the <xref:System.Runtime.Serialization.XsdDataContractImporter>, see [Importing Schema to Generate Classes](importing-schema-to-generate-classes.md).</span></span>  
  
 <span data-ttu-id="48600-138">Aby uzyskać więcej informacji o używaniu programu <xref:System.Runtime.Serialization.XsdDataContractExporter> , zobacz [Eksportowanie schematów z klas](exporting-schemas-from-classes.md).</span><span class="sxs-lookup"><span data-stu-id="48600-138">For more information about using the <xref:System.Runtime.Serialization.XsdDataContractExporter>, see [Exporting Schemas from Classes](exporting-schemas-from-classes.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="48600-139">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="48600-139">See also</span></span>

- <xref:System.Runtime.Serialization.DataContractSerializer>
- <xref:System.Runtime.Serialization.XsdDataContractImporter>
- <xref:System.Runtime.Serialization.XsdDataContractExporter>
- [<span data-ttu-id="48600-140">Importowanie schematu w celu generowania klas</span><span class="sxs-lookup"><span data-stu-id="48600-140">Importing Schema to Generate Classes</span></span>](importing-schema-to-generate-classes.md)
- [<span data-ttu-id="48600-141">Eksportowanie schematów z klas</span><span class="sxs-lookup"><span data-stu-id="48600-141">Exporting Schemas from Classes</span></span>](exporting-schemas-from-classes.md)
