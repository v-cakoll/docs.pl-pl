---
title: Różnice w funkcjach kolejkowania w systemach Windows Vista, Windows Server 2003 i Windows XP
ms.date: 03/30/2017
helpviewer_keywords:
- queues [WCF], differences in operating systems
ms.assetid: aa809d93-d0a3-4ae6-a726-d015cca37c04
ms.openlocfilehash: abd81b5e7bf611fc6b4f446a82628b83130f2d54
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/09/2020
ms.locfileid: "84599207"
---
# <a name="differences-in-queuing-features-in-windows-vista-windows-server-2003-and-windows-xp"></a><span data-ttu-id="8f61e-102">Różnice w funkcjach kolejkowania w systemach Windows Vista, Windows Server 2003 i Windows XP</span><span class="sxs-lookup"><span data-stu-id="8f61e-102">Differences in Queuing Features in Windows Vista, Windows Server 2003, and Windows XP</span></span>
<span data-ttu-id="8f61e-103">Ten temat zawiera podsumowanie różnic między systemem Windows Vista, Windows Server 2003 i Windows XP w ramach funkcji kolejek programu Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="8f61e-103">This topic summarizes the differences in the Windows Communication Foundation (WCF) queues feature between Windows Vista, Windows Server 2003, and Windows XP.</span></span>  
  
## <a name="application-specific-dead-letter-queue"></a><span data-ttu-id="8f61e-104">Kolejka utraconych wiadomości specyficznych dla aplikacji</span><span class="sxs-lookup"><span data-stu-id="8f61e-104">Application-Specific Dead-Letter Queue</span></span>  
 <span data-ttu-id="8f61e-105">Komunikaty w kolejce mogą pozostawać w kolejce w nieskończoność, jeśli aplikacja otrzymująca nie odczytuje ich w odpowiednim czasie.</span><span class="sxs-lookup"><span data-stu-id="8f61e-105">Queued messages can remain in the queue indefinitely if the receiving application does not read them in a timely fashion.</span></span> <span data-ttu-id="8f61e-106">Takie zachowanie nie jest zalecane, Jeśli komunikaty są zależne od czasu.</span><span class="sxs-lookup"><span data-stu-id="8f61e-106">This behavior is not advisable if the messages are time-sensitive.</span></span> <span data-ttu-id="8f61e-107">Komunikaty z uwzględnieniem czasu mają `TimeToLive` ustawioną właściwość w powiązaniu umieszczonym w kolejce.</span><span class="sxs-lookup"><span data-stu-id="8f61e-107">Time-sensitive messages have a `TimeToLive` property set in the queued binding.</span></span> <span data-ttu-id="8f61e-108">Ta właściwość wskazuje, jak długo komunikaty mogą znajdować się w kolejce przed ich wygaśnięciem.</span><span class="sxs-lookup"><span data-stu-id="8f61e-108">This property indicates how long the messages can be in the queue before they expire.</span></span> <span data-ttu-id="8f61e-109">Wygasłe komunikaty są wysyłane do kolejki specjalnej zwanej kolejką utraconych wiadomości.</span><span class="sxs-lookup"><span data-stu-id="8f61e-109">Expired messages are sent to a special queue called the dead-letter queue.</span></span> <span data-ttu-id="8f61e-110">Komunikat może również kończyć się w kolejce utraconych wiadomości z innych powodów, takich jak przekroczenie limitu przydziału kolejki lub wystąpił błąd uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="8f61e-110">A message can also end up in a dead-letter queue for other reasons, such as exceeding a queue quota or experiencing an authentication failure.</span></span>  
  
 <span data-ttu-id="8f61e-111">Zazwyczaj jedna kolejka utraconych wiadomości w całym systemie istnieje dla wszystkich aplikacji umieszczonych w kolejce, które współużytkują menedżera kolejek.</span><span class="sxs-lookup"><span data-stu-id="8f61e-111">Typically, a single system-wide dead-letter queue exists for all queued applications that share a queue manager.</span></span> <span data-ttu-id="8f61e-112">Kolejka utraconych wiadomości dla każdej aplikacji umożliwia lepszą izolację aplikacji w kolejce, które współużytkują menedżera kolejek, umożliwiając tym aplikacjom określenie własnej kolejki utraconych wiadomości specyficznych dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8f61e-112">A dead-letter queue for each application enables better isolation between queued applications that share a queue manager by allowing these applications to specify their own application-specific dead-letter queue.</span></span> <span data-ttu-id="8f61e-113">Aplikacja, która współużytkuje kolejkę utraconych wiadomości z innymi aplikacjami, musi przeglądać kolejkę, aby znaleźć komunikaty, które mają do nich zastosowanie.</span><span class="sxs-lookup"><span data-stu-id="8f61e-113">An application that shares a dead-letter queue with other applications has to browse the queue to find messages that are applicable to it.</span></span> <span data-ttu-id="8f61e-114">W przypadku kolejki utraconych wiadomości specyficznych dla aplikacji można mieć pewność, że wszystkie komunikaty w kolejce wiadomości utraconych mają do nich zastosowanie.</span><span class="sxs-lookup"><span data-stu-id="8f61e-114">With an application-specific dead-letter queue, the application can be assured that all messages in its dead-letter queue are applicable to it.</span></span>  
  
 <span data-ttu-id="8f61e-115">System Windows Vista zapewnia kolejki utraconych wiadomości specyficznych dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8f61e-115">Windows Vista provides for application-specific dead-letter queues.</span></span> <span data-ttu-id="8f61e-116">Kolejki utraconych wiadomości specyficznych dla aplikacji nie są dostępne w systemach Windows Server 2003 i Windows XP, a aplikacje muszą korzystać z kolejki utraconych wiadomości w całej system.</span><span class="sxs-lookup"><span data-stu-id="8f61e-116">Application-specific dead-letter queues are not available in Windows Server 2003 and Windows XP, and applications must use the system-wide dead-letter queue.</span></span>  
  
## <a name="poison-message-handling"></a><span data-ttu-id="8f61e-117">Obsługa komunikatów trujących</span><span class="sxs-lookup"><span data-stu-id="8f61e-117">Poison-Message Handling</span></span>  
 <span data-ttu-id="8f61e-118">Trująca wiadomość jest komunikatem, który przekroczył maksymalną liczbę prób dostarczenia do aplikacji odbiorczej.</span><span class="sxs-lookup"><span data-stu-id="8f61e-118">A poison message is a message that has exceeded the maximum number of delivery attempts to the receiving application.</span></span> <span data-ttu-id="8f61e-119">Taka sytuacja może wystąpić, gdy aplikacja, która odczytuje komunikat z kolejki transakcyjnej, nie może przetworzyć komunikatu natychmiast z powodu błędów.</span><span class="sxs-lookup"><span data-stu-id="8f61e-119">This situation can arise when an application that reads a message from a transactional queue cannot process the message immediately because of errors.</span></span> <span data-ttu-id="8f61e-120">Jeśli aplikacja przerywa transakcję, w której został odebrany komunikat w kolejce, zwraca komunikat do kolejki.</span><span class="sxs-lookup"><span data-stu-id="8f61e-120">If the application aborts the transaction in which the queued message was received, it returns the message to the queue.</span></span> <span data-ttu-id="8f61e-121">Następnie aplikacja próbuje pobrać komunikat ponownie w nowej transakcji.</span><span class="sxs-lookup"><span data-stu-id="8f61e-121">The application then tries to retrieve the message again in a new transaction.</span></span> <span data-ttu-id="8f61e-122">Jeśli problem powodujący błąd nie zostanie poprawiony, aplikacja otrzymująca może zostać zablokowana przez pętlę, która odbiera i przerywa ten sam komunikat do momentu przekroczenia maksymalnej liczby prób dostarczenia oraz zatrucie wyniki komunikatów.</span><span class="sxs-lookup"><span data-stu-id="8f61e-122">If the problem that causes the error is not corrected, the receiving application can get stuck in a loop receiving and aborting the same message until it exceeds the maximum number of delivery attempts, and a poison message results.</span></span>  
  
 <span data-ttu-id="8f61e-123">Najważniejsze różnice między usługą kolejkowania komunikatów (MSMQ) w systemach Windows Vista, Windows Server 2003 i Windows XP, które mają zastosowanie do obsługi zatrucia, obejmują następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="8f61e-123">The key differences between Message Queuing (MSMQ) on Windows Vista, Windows Server 2003, and Windows XP that are relevant to poison handling include the following:</span></span>  
  
- <span data-ttu-id="8f61e-124">Usługa MSMQ w systemie Windows Vista obsługuje podkolejki, a systemy Windows Server 2003 i Windows XP nie obsługują kolejek.</span><span class="sxs-lookup"><span data-stu-id="8f61e-124">MSMQ in Windows Vista supports subqueues, while Windows Server 2003 and Windows XP do not support subqueues.</span></span> <span data-ttu-id="8f61e-125">Kolejki podrzędne są używane w obsłudze komunikatów trujących.</span><span class="sxs-lookup"><span data-stu-id="8f61e-125">Subqueues are used in poison-message handling.</span></span> <span data-ttu-id="8f61e-126">Kolejki ponawiania prób i kolejka Trująca są podkolejkami do kolejki aplikacji utworzonej na podstawie ustawień obsługi komunikatów trujących.</span><span class="sxs-lookup"><span data-stu-id="8f61e-126">The retry queues and the poison queue are subqueues to the application queue that is created based on the poison-message handling settings.</span></span> <span data-ttu-id="8f61e-127">`MaxRetryCycles`Określa liczbę podkolejek ponowień do utworzenia.</span><span class="sxs-lookup"><span data-stu-id="8f61e-127">The `MaxRetryCycles` dictates how many retry subqueues to create.</span></span> <span data-ttu-id="8f61e-128">W związku z tym, gdy działa w systemie Windows Server 2003 lub Windows XP, `MaxRetryCycles` są ignorowane i `ReceiveErrorHandling.Move` nie jest dozwolone.</span><span class="sxs-lookup"><span data-stu-id="8f61e-128">Therefore, when running on Windows Server 2003 or Windows XP, `MaxRetryCycles` are ignored and `ReceiveErrorHandling.Move` is not allowed.</span></span>  
  
- <span data-ttu-id="8f61e-129">Usługa MSMQ w systemie Windows Vista obsługuje Potwierdzanie negatywne, natomiast systemy Windows Server 2003 i Windows XP nie.</span><span class="sxs-lookup"><span data-stu-id="8f61e-129">MSMQ in Windows Vista supports negative acknowledgment, while Windows Server 2003 and Windows XP do not.</span></span> <span data-ttu-id="8f61e-130">Negatywne potwierdzenie od Menedżera kolejki odbiorczej powoduje, że Menedżer kolejki wysyłania umieszcza odrzucony komunikat w kolejce utraconych wiadomości.</span><span class="sxs-lookup"><span data-stu-id="8f61e-130">A negative acknowledgment from the receiving queue manager causes the sending queue manager to place the rejected message in the dead-letter queue.</span></span> <span data-ttu-id="8f61e-131">W związku `ReceiveErrorHandling.Reject` z tym nie jest dozwolone w przypadku systemów Windows Server 2003 i Windows XP.</span><span class="sxs-lookup"><span data-stu-id="8f61e-131">As such, `ReceiveErrorHandling.Reject` is not allowed with Windows Server 2003 and Windows XP.</span></span>  
  
- <span data-ttu-id="8f61e-132">Usługa MSMQ w systemie Windows Vista obsługuje Właściwość komunikatu, która zachowuje liczbę prób dostarczenia komunikatu.</span><span class="sxs-lookup"><span data-stu-id="8f61e-132">MSMQ in Windows Vista supports a message property that keeps count of the number of times message delivery is attempted.</span></span> <span data-ttu-id="8f61e-133">Ta właściwość liczby przerwań nie jest dostępna w systemach Windows Server 2003 i Windows XP.</span><span class="sxs-lookup"><span data-stu-id="8f61e-133">This abort count property is not available on Windows Server 2003 and Windows XP.</span></span> <span data-ttu-id="8f61e-134">Funkcja WCF zachowuje liczbę przerwań w pamięci, dlatego jest możliwe, że ta właściwość nie może zawierać dokładnej wartości, gdy ten sam komunikat jest odczytywany przez więcej niż jedną usługę WCF w kolektywie serwerów sieci Web.</span><span class="sxs-lookup"><span data-stu-id="8f61e-134">WCF maintains the abort count in memory, so it is possible that this property may not contain an accurate value when the same message is read by more than one WCF service in a Web farm.</span></span>  
  
## <a name="remote-transactional-read"></a><span data-ttu-id="8f61e-135">Zdalne odczytywanie transakcyjne</span><span class="sxs-lookup"><span data-stu-id="8f61e-135">Remote Transactional Read</span></span>  
 <span data-ttu-id="8f61e-136">Usługa MSMQ w systemie Windows Vista obsługuje zdalne odczyty transakcyjne.</span><span class="sxs-lookup"><span data-stu-id="8f61e-136">MSMQ on Windows Vista supports remote transactional reads.</span></span> <span data-ttu-id="8f61e-137">Umożliwia to aplikacji odczytującej z kolejki, która ma być hostowana na komputerze innym niż komputer, na którym znajduje się kolejka.</span><span class="sxs-lookup"><span data-stu-id="8f61e-137">This allows an application that is reading from a queue to be hosted on a computer that is different from the computer on which the queue is hosted.</span></span> <span data-ttu-id="8f61e-138">Zapewnia to możliwość odczytywania farmy usług z kolejki centralnej, co zwiększa ogólną przepływność systemu.</span><span class="sxs-lookup"><span data-stu-id="8f61e-138">This ensures the ability to have a farm of services reading from a central queue, which increases the overall throughput of the system.</span></span> <span data-ttu-id="8f61e-139">Gwarantuje również, że w przypadku wystąpienia błędu podczas odczytywania i przetwarzania wiadomości transakcja zostanie wycofana, a komunikat pozostaje w kolejce do późniejszego przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="8f61e-139">It also ensures that if a failure occurs when reading and processing the message, the transaction rolls back and the message remains in the queue for later processing.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8f61e-140">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="8f61e-140">See also</span></span>

- [<span data-ttu-id="8f61e-141">Używanie utraconych kolejek na potrzeby obsługi transferów komunikatów zakończonych niepowodzeniem</span><span class="sxs-lookup"><span data-stu-id="8f61e-141">Using Dead-Letter Queues to Handle Message Transfer Failures</span></span>](using-dead-letter-queues-to-handle-message-transfer-failures.md)
- [<span data-ttu-id="8f61e-142">Obsługa komunikatów zanieczyszczonych</span><span class="sxs-lookup"><span data-stu-id="8f61e-142">Poison Message Handling</span></span>](poison-message-handling.md)
