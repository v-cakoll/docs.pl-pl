---
title: Analizator przenośności .NET — .NET
description: Dowiedz się, jak używać narzędzia analizatora przenośności platformy .NET do oceniania sposobu, w jaki przenośny kod znajduje się wśród różnych implementacji platformy .NET, w tym .NET Core, .NET Standard, platformy UWP i Xamarin.
ms.date: 09/13/2019
ms.technology: dotnet-standard
ms.assetid: 0375250f-5704-4993-a6d5-e21c499cea1e
ms.openlocfilehash: d2a9551565e9ef0a2ed76960c869829fc2e86a1f
ms.sourcegitcommit: 3824ff187947572b274b9715b60c11269335c181
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/17/2020
ms.locfileid: "84903613"
---
# <a name="the-net-portability-analyzer"></a><span data-ttu-id="6ebca-103">Analizator przenośności platformy .NET</span><span class="sxs-lookup"><span data-stu-id="6ebca-103">The .NET Portability Analyzer</span></span>

<span data-ttu-id="6ebca-104">Czy chcesz, aby biblioteki obsługiwały wiele platform?</span><span class="sxs-lookup"><span data-stu-id="6ebca-104">Want to make your libraries support multi-platform?</span></span> <span data-ttu-id="6ebca-105">Chcesz sprawdzić, ile pracy jest wymagane do uruchomienia aplikacji .NET Framework na platformie .NET Core?</span><span class="sxs-lookup"><span data-stu-id="6ebca-105">Want to see how much work is required to make your .NET Framework application run on .NET Core?</span></span> <span data-ttu-id="6ebca-106">[Analizator przenośności .NET](https://github.com/microsoft/dotnet-apiport) to narzędzie, które analizuje zestawy i udostępnia szczegółowy raport dotyczący interfejsów API platformy .NET, których brakuje w przypadku aplikacji lub bibliotek, które mają być przenośne na określonych przeznaczonych dla Ciebie platformach platformy .NET.</span><span class="sxs-lookup"><span data-stu-id="6ebca-106">The [.NET Portability Analyzer](https://github.com/microsoft/dotnet-apiport) is a tool that analyzes assemblies and provides a detailed report on .NET APIs that are missing for the applications or libraries to be portable on your specified targeted .NET platforms.</span></span> <span data-ttu-id="6ebca-107">Analizator przenośności jest oferowany jako [rozszerzenie programu Visual Studio](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer), które analizuje jeden zestaw na każdy projekt i jako [aplikację konsolową ApiPort](https://aka.ms/apiportdownload), która analizuje zestawy według określonych plików lub katalogów.</span><span class="sxs-lookup"><span data-stu-id="6ebca-107">The Portability Analyzer is offered as a [Visual Studio Extension](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer), which analyzes one assembly per project, and as a [ApiPort console app](https://aka.ms/apiportdownload), which analyzes assemblies by specified files or directory.</span></span>

<span data-ttu-id="6ebca-108">Po przeprowadzeniu konwersji projektu na nową platformę, taką jak .NET Core, można użyć [Narzędzia analizatora interfejsów API](api-analyzer.md) Roslyn, aby identyfikować interfejsy API zgłaszające <xref:System.PlatformNotSupportedException> wyjątki i inne problemy ze zgodnością.</span><span class="sxs-lookup"><span data-stu-id="6ebca-108">Once you've converted your project to target the new platform, like .NET Core, you can use the Roslyn-based [API Analyzer tool](api-analyzer.md) to identify APIs throwing <xref:System.PlatformNotSupportedException> exceptions and other compatibility issues.</span></span>

## <a name="common-targets"></a><span data-ttu-id="6ebca-109">Wspólne elementy docelowe</span><span class="sxs-lookup"><span data-stu-id="6ebca-109">Common targets</span></span>

- <span data-ttu-id="6ebca-110">[.NET Core](../../core/index.yml): ma model modularny, obsługuje instalację równoległą i kieruje scenariusze dla wielu platform.</span><span class="sxs-lookup"><span data-stu-id="6ebca-110">[.NET Core](../../core/index.yml): Has a modular design, supports side-by-side installation, and targets cross-platform scenarios.</span></span> <span data-ttu-id="6ebca-111">Instalacja równoczesna pozwala na zastosowanie nowych wersji platformy .NET Core bez przerywania innych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="6ebca-111">Side-by-side installation allows you to adopt new .NET Core versions without breaking other apps.</span></span> <span data-ttu-id="6ebca-112">Jeśli chcesz przenieść aplikację do platformy .NET Core i obsługiwać wiele platform, jest to zalecany element docelowy.</span><span class="sxs-lookup"><span data-stu-id="6ebca-112">If your goal is to port your app to .NET Core and support multiple platforms, this is the recommended target.</span></span>
- <span data-ttu-id="6ebca-113">. [Net Standard](../net-standard.md): zawiera interfejsy API .NET Standard dostępne we wszystkich implementacjach platformy .NET.</span><span class="sxs-lookup"><span data-stu-id="6ebca-113">.[NET Standard](../net-standard.md): Includes the .NET Standard APIs available on all .NET implementations.</span></span> <span data-ttu-id="6ebca-114">Jeśli chcesz, aby Twoja biblioteka działała na wszystkich platformach obsługiwanych przez platformę .NET, jest to zalecane.</span><span class="sxs-lookup"><span data-stu-id="6ebca-114">If your goal is to make your library run on all .NET supported platforms, this is recommended target.</span></span>
- <span data-ttu-id="6ebca-115">[ASP.NET Core](/aspnet/core): nowoczesne środowisko sieci Web oparte na platformie .NET Core.</span><span class="sxs-lookup"><span data-stu-id="6ebca-115">[ASP.NET Core](/aspnet/core): A modern web-framework built on .NET Core.</span></span> <span data-ttu-id="6ebca-116">Jeśli chcesz przenieść aplikację sieci Web do programu .NET Core w celu obsługi wielu platform, jest to zalecane miejsce docelowe.</span><span class="sxs-lookup"><span data-stu-id="6ebca-116">If your goal is to port your web app to .NET Core to support multiple platforms, this is the recommended target.</span></span>
- <span data-ttu-id="6ebca-117">Rozszerzenia platformy .NET Core + [platform](../../core/porting/windows-compat-pack.md): zawierają interfejsy API platformy .NET Core oprócz pakietu zgodności systemu Windows, który zapewnia wiele .NET Framework dostępnych technologii.</span><span class="sxs-lookup"><span data-stu-id="6ebca-117">.NET Core + [Platform Extensions](../../core/porting/windows-compat-pack.md): Includes the .NET Core APIs in addition to the Windows Compatibility Pack, which provides many of the .NET Framework available technologies.</span></span> <span data-ttu-id="6ebca-118">Jest to zalecany element docelowy do przenoszenia aplikacji z .NET Framework do platformy .NET Core w systemie Windows.</span><span class="sxs-lookup"><span data-stu-id="6ebca-118">This is a recommended target for porting your app from .NET Framework to .NET Core on Windows.</span></span>
- <span data-ttu-id="6ebca-119">Rozszerzenia .NET Standard i [platformy](../../core/porting/windows-compat-pack.md): zawierają interfejsy API .NET Standard oprócz pakietu zgodności systemu Windows, który zapewnia wiele .NET Framework dostępnych technologii.</span><span class="sxs-lookup"><span data-stu-id="6ebca-119">.NET Standard + [Platform Extensions](../../core/porting/windows-compat-pack.md): Includes the .NET Standard APIs in addition to the Windows Compatibility Pack, which provides many of the .NET Framework available technologies.</span></span> <span data-ttu-id="6ebca-120">Jest to zalecany element docelowy do przenoszenia biblioteki z .NET Framework do platformy .NET Core w systemie Windows.</span><span class="sxs-lookup"><span data-stu-id="6ebca-120">This is a recommended target for porting your library from .NET Framework to .NET Core on Windows.</span></span>

## <a name="how-to-use-the-net-portability-analyzer"></a><span data-ttu-id="6ebca-121">Jak używać analizatora przenośności platformy .NET</span><span class="sxs-lookup"><span data-stu-id="6ebca-121">How to use the .NET Portability Analyzer</span></span>

<span data-ttu-id="6ebca-122">Aby rozpocząć korzystanie z analizatora przenośności platformy .NET w programie Visual Studio, należy najpierw pobrać i zainstalować rozszerzenie z [Visual Studio Marketplace](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer).</span><span class="sxs-lookup"><span data-stu-id="6ebca-122">To begin using the .NET Portability Analyzer in Visual Studio, you first need to download and install the extension from the [Visual Studio Marketplace](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer).</span></span> <span data-ttu-id="6ebca-123">Działa on w programie Visual Studio 2017 i nowszych wersjach.</span><span class="sxs-lookup"><span data-stu-id="6ebca-123">It works on Visual Studio 2017 and later versions.</span></span> <span data-ttu-id="6ebca-124">Skonfiguruj je w programie Visual Studio za pomocą funkcji **Analizuj**  >  **Ustawienia analizatora przenośności** i wybierz Platformy docelowe, które są platformami/wersjami platformy .NET, które mają oszacować przerwy w przenośności porównujące z platformą/wersją, z których korzysta bieżący zestaw.</span><span class="sxs-lookup"><span data-stu-id="6ebca-124">Configure it in Visual Studio via **Analyze** > **Portability Analyzer Settings** and select your Target Platforms, which are the .NET platforms/versions that you want to evaluate the portability gaps comparing with the platform/version that your current assembly is built with.</span></span>

![Zrzut ekranu analizatora przenośności.](./media/portability-analyzer/portability-screenshot.png)

<span data-ttu-id="6ebca-126">Możesz również użyć aplikacji konsolowej ApiPort, pobrać ją z [repozytorium ApiPort](https://aka.ms/apiportdownload).</span><span class="sxs-lookup"><span data-stu-id="6ebca-126">You can also use the ApiPort console application, download it from [ApiPort repository](https://aka.ms/apiportdownload).</span></span> <span data-ttu-id="6ebca-127">Można użyć `listTargets` opcji polecenia, aby wyświetlić listę dostępnych obiektów docelowych, a następnie wybrać Platformy docelowe przez określenie `-t` lub `--target` opcję polecenia.</span><span class="sxs-lookup"><span data-stu-id="6ebca-127">You can use `listTargets` command option to display the available target list, then pick target platforms by specifying `-t` or `--target` command option.</span></span>

### <a name="solution-wide-view"></a><span data-ttu-id="6ebca-128">Widok szeroki dla rozwiązań</span><span class="sxs-lookup"><span data-stu-id="6ebca-128">Solution wide view</span></span>

<span data-ttu-id="6ebca-129">Przydatnym krokiem w analizowaniu rozwiązania z wieloma projektami byłoby Wizualizacja zależności, aby zrozumieć, który podzbiór zestawów zależą od tego, co.</span><span class="sxs-lookup"><span data-stu-id="6ebca-129">A useful step in analyzing a solution with many projects would be to visualize the dependencies to understand which subset of assemblies depend on what.</span></span> <span data-ttu-id="6ebca-130">Ogólne zalecenie polega na zastosowaniu wyników analizy w ujęciu dolnym, rozpoczynając od węzłów liścia w grafie zależności.</span><span class="sxs-lookup"><span data-stu-id="6ebca-130">The general recommendation is to apply the results of the analysis in a bottom-up approach starting with the leaf nodes in a dependency graph.</span></span>

<span data-ttu-id="6ebca-131">Aby je pobrać, możesz uruchomić następujące polecenie:</span><span class="sxs-lookup"><span data-stu-id="6ebca-131">To retrieve this, you may run the following command:</span></span>

```
ApiPort.exe analyze -r DGML -f [directory or file]
```

<span data-ttu-id="6ebca-132">Po otwarciu w programie Visual Studio wynik będzie wyglądać następująco:</span><span class="sxs-lookup"><span data-stu-id="6ebca-132">A result of this would look like the following when opened in Visual Studio:</span></span>

![Zrzut ekranu przedstawiający analizę DGML.](./media/portability-analyzer/dgml-example.png)

### <a name="analyze-portability"></a><span data-ttu-id="6ebca-134">Analiza przenośności</span><span class="sxs-lookup"><span data-stu-id="6ebca-134">Analyze portability</span></span>
<span data-ttu-id="6ebca-135">Aby analizować cały projekt w programie Visual Studio, kliknij prawym przyciskiem myszy projekt w **Eksplorator rozwiązań** i wybierz pozycję **Analizuj przenośność zestawu**.</span><span class="sxs-lookup"><span data-stu-id="6ebca-135">To analyze your entire project in Visual Studio, right-click on your project in **Solution Explorer** and select **Analyze Assembly Portability**.</span></span> <span data-ttu-id="6ebca-136">W przeciwnym razie przejdź do menu **Analizuj** i wybierz pozycję **Analizuj przenośność zestawu**.</span><span class="sxs-lookup"><span data-stu-id="6ebca-136">Otherwise, go to the **Analyze** menu and select **Analyze Assembly Portability**.</span></span> <span data-ttu-id="6ebca-137">Z tego miejsca wybierz plik wykonywalny lub DLL projektu.</span><span class="sxs-lookup"><span data-stu-id="6ebca-137">From there, select your project's executable or DLL.</span></span>

![Zrzut ekranu analizatora przenośności z Eksplorator rozwiązań.](./media/portability-analyzer/portability-solution-explorer.png)

<span data-ttu-id="6ebca-139">Możesz również użyć [aplikacji konsolowej ApiPort](https://aka.ms/apiportdownload).</span><span class="sxs-lookup"><span data-stu-id="6ebca-139">You can also use the [ApiPort console app](https://aka.ms/apiportdownload).</span></span>

- <span data-ttu-id="6ebca-140">Wpisz następujące polecenie, aby przeanalizować bieżący katalog:`ApiPort.exe analyze -f .`</span><span class="sxs-lookup"><span data-stu-id="6ebca-140">Type the following command to analyze the current directory: `ApiPort.exe analyze -f .`</span></span>
- <span data-ttu-id="6ebca-141">Aby przeanalizować określoną listę plików DLL, wpisz następujące polecenie:`ApiPort.exe analyze -f first.dll -f second.dll -f third.dll`</span><span class="sxs-lookup"><span data-stu-id="6ebca-141">To analyze a specific list of .dll files, type the following command: `ApiPort.exe analyze -f first.dll -f second.dll -f third.dll`</span></span>
- <span data-ttu-id="6ebca-142">Uruchom `ApiPort.exe -?` , aby uzyskać więcej pomocy</span><span class="sxs-lookup"><span data-stu-id="6ebca-142">Run `ApiPort.exe -?` to get more help</span></span>

<span data-ttu-id="6ebca-143">Zaleca się zawrzeć wszystkie powiązane pliki exe i dll, które mają być używane, i które mają być używane do portów, a także wykluczenie plików, od których zależy aplikacja, ale nie do portów.</span><span class="sxs-lookup"><span data-stu-id="6ebca-143">It is recommended that you include all the related exe and dll files that you own and want to port, and exclude the files that your app depends on, but you don't own and can't port.</span></span> <span data-ttu-id="6ebca-144">Zapewni to najbardziej odpowiedni raport dotyczący przenośności.</span><span class="sxs-lookup"><span data-stu-id="6ebca-144">This will give you most relevant portability report.</span></span>

### <a name="view-and-interpret-portability-result"></a><span data-ttu-id="6ebca-145">Wyświetl i Interpretuj wyniki przenośności</span><span class="sxs-lookup"><span data-stu-id="6ebca-145">View and interpret portability result</span></span>

<span data-ttu-id="6ebca-146">W raporcie są wyświetlane tylko interfejsy API, które nie są obsługiwane przez platformę docelową.</span><span class="sxs-lookup"><span data-stu-id="6ebca-146">Only APIs that are unsupported by a Target Platform appear in the report.</span></span>
<span data-ttu-id="6ebca-147">Po uruchomieniu analizy w programie Visual Studio zostanie wyświetlony link do pliku raportu przenośności platformy .NET.</span><span class="sxs-lookup"><span data-stu-id="6ebca-147">After running the analysis in Visual Studio, you'll see your .NET Portability report file link pops up.</span></span> <span data-ttu-id="6ebca-148">Jeśli użyto [aplikacji konsolowej ApiPort](https://aka.ms/apiportdownload), raport dotyczący przenośności platformy .NET jest zapisywany jako plik w określonym formacie.</span><span class="sxs-lookup"><span data-stu-id="6ebca-148">If you used the [ApiPort console app](https://aka.ms/apiportdownload), your .NET Portability report is saved as a file in the format you specified.</span></span> <span data-ttu-id="6ebca-149">Wartość domyślna to w pliku programu Excel (*xlsx*) w bieżącym katalogu.</span><span class="sxs-lookup"><span data-stu-id="6ebca-149">The default is in an Excel file (*.xlsx*) in your current directory.</span></span>

#### <a name="portability-summary"></a><span data-ttu-id="6ebca-150">Podsumowanie przenośności</span><span class="sxs-lookup"><span data-stu-id="6ebca-150">Portability Summary</span></span>

![Zrzut ekranu przedstawiający podsumowanie przenośności.](./media/portability-analyzer/api-catalog-portablility-summary.png)

<span data-ttu-id="6ebca-152">Sekcja podsumowania przenośności raportu przedstawia wartość procentową przenośności każdego zestawu zawartego w przebiegu.</span><span class="sxs-lookup"><span data-stu-id="6ebca-152">The Portability Summary section of the report shows the portability percentage for each assembly included in the run.</span></span> <span data-ttu-id="6ebca-153">W poprzednim przykładzie 71,24% interfejsów API .NET Framework używanych w `svcutil` aplikacji są dostępne w rozszerzeniach platformy .NET Core + platform.</span><span class="sxs-lookup"><span data-stu-id="6ebca-153">In the previous example, 71.24% of the .NET Framework APIs used in the `svcutil` app are available in .NET Core + Platform Extensions.</span></span> <span data-ttu-id="6ebca-154">Po uruchomieniu narzędzia analizatora przenośności platformy .NET dla wielu zestawów każdy zestaw powinien mieć wiersz w raporcie podsumowującym przenośność.</span><span class="sxs-lookup"><span data-stu-id="6ebca-154">If you run the .NET Portability Analyzer tool against multiple assemblies, each assembly should have a row in the Portability Summary report.</span></span>

#### <a name="details"></a><span data-ttu-id="6ebca-155">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="6ebca-155">Details</span></span>

![Zrzut ekranu przedstawiający szczegóły dotyczące przenośności.](./media/portability-analyzer/api-catalog-portablility-details.png)

<span data-ttu-id="6ebca-157">Sekcja **szczegóły** raportu zawiera listę interfejsów API, których brakuje na żadnej z wybranych **platform**.</span><span class="sxs-lookup"><span data-stu-id="6ebca-157">The **Details** section of the report lists the APIs missing from any of the selected **Targeted Platforms**.</span></span>

- <span data-ttu-id="6ebca-158">Typ docelowy: typ ma brakujący interfejs API z platformy docelowej</span><span class="sxs-lookup"><span data-stu-id="6ebca-158">Target type: the type has missing API from a Target Platform</span></span>
- <span data-ttu-id="6ebca-159">Docelowy element członkowski: brak metody z platformy docelowej</span><span class="sxs-lookup"><span data-stu-id="6ebca-159">Target member: the method is missing from a Target Platform</span></span>
- <span data-ttu-id="6ebca-160">Nazwa zestawu: zestaw .NET Framework, w którym znajduje się brakujący interfejs API.</span><span class="sxs-lookup"><span data-stu-id="6ebca-160">Assembly name: the .NET Framework assembly that the missing API lives in.</span></span>
- <span data-ttu-id="6ebca-161">Każda z wybranych platform docelowych jest jedną kolumną, taką jak ".NET Core": "nieobsługiwana" oznacza, że interfejs API nie jest obsługiwany na tej platformie docelowej.</span><span class="sxs-lookup"><span data-stu-id="6ebca-161">Each of the selected Target Platforms is one column, such as ".NET Core": "Not supported" value means the API is not supported on this Target Platform.</span></span>
- <span data-ttu-id="6ebca-162">Zalecane zmiany: zalecany interfejs API lub technologia do zmiany.</span><span class="sxs-lookup"><span data-stu-id="6ebca-162">Recommended Changes: the recommended API or technology to change to.</span></span> <span data-ttu-id="6ebca-163">Obecnie to pole jest puste lub nieaktualne w przypadku wielu interfejsów API.</span><span class="sxs-lookup"><span data-stu-id="6ebca-163">Currently, this field is empty or out of date for many APIs.</span></span> <span data-ttu-id="6ebca-164">Ze względu na dużą liczbę interfejsów API mamy duże wyzwanie, aby zachować aktualność.</span><span class="sxs-lookup"><span data-stu-id="6ebca-164">Due to the large number of APIs, we have a significant challenge to keep it up to date.</span></span> <span data-ttu-id="6ebca-165">Przeglądamy alternatywne rozwiązania, aby zapewnić klientom przydatne informacje.</span><span class="sxs-lookup"><span data-stu-id="6ebca-165">We're looking at alternative solutions to provide helpful information to customers.</span></span>

#### <a name="missing-assemblies"></a><span data-ttu-id="6ebca-166">Brakujące Zestawy</span><span class="sxs-lookup"><span data-stu-id="6ebca-166">Missing Assemblies</span></span>

![Zrzut ekranu przedstawiający brakujące zestawy.](./media/portability-analyzer/api-catalog-missing-assemblies.png)

<span data-ttu-id="6ebca-168">W raporcie można znaleźć sekcję brakujące zestawy.</span><span class="sxs-lookup"><span data-stu-id="6ebca-168">You may find a Missing Assemblies section in your report.</span></span> <span data-ttu-id="6ebca-169">Ta sekcja zawiera listę zestawów, do których odwołują się analizowane zestawy i które nie zostały przeanalizowane.</span><span class="sxs-lookup"><span data-stu-id="6ebca-169">This section contains a list of assemblies that are referenced by your analyzed assemblies and were not analyzed.</span></span> <span data-ttu-id="6ebca-170">Jeśli jest to zestaw, którego jesteś własnym, dołącz go do przebiegu analizatora przenośności interfejsu API, dzięki czemu możesz uzyskać szczegółowy raport dla tego poziomu interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="6ebca-170">If it's an assembly that you own, include it in the API portability analyzer run so that you can get a detailed, API-level portability report for it.</span></span> <span data-ttu-id="6ebca-171">Jeśli jest to biblioteka innych firm, sprawdź, czy jest dostępna nowsza wersja, która obsługuje platformę docelową, i rozważ przejście do nowszej wersji.</span><span class="sxs-lookup"><span data-stu-id="6ebca-171">If it's a third-party library, check if there is a newer version that supports your target platform, and consider moving to the newer version.</span></span> <span data-ttu-id="6ebca-172">Ostatecznie lista powinna obejmować wszystkie zestawy innych firm, od których zależy aplikacja, która ma wersję obsługującą platformę docelową.</span><span class="sxs-lookup"><span data-stu-id="6ebca-172">Eventually, the list should include all the third-party assemblies that your app depends on that have a version supporting your target platform.</span></span>

<span data-ttu-id="6ebca-173">Aby uzyskać więcej informacji na temat analizatora przenośności platformy .NET, zapoznaj się z [dokumentacją dotyczącą usługi GitHub](https://github.com/Microsoft/dotnet-apiport#documentation) i zapoznaj się z tematem wideo dotyczącego kanału 9 usługi [.NET przenośności](https://channel9.msdn.com/Blogs/Seth-Juarez/A-Brief-Look-at-the-NET-Portability-Analyzer) .</span><span class="sxs-lookup"><span data-stu-id="6ebca-173">For more information on the .NET Portability Analyzer, visit the [GitHub documentation](https://github.com/Microsoft/dotnet-apiport#documentation) and [A Brief Look at the .NET Portability Analyzer](https://channel9.msdn.com/Blogs/Seth-Juarez/A-Brief-Look-at-the-NET-Portability-Analyzer) Channel 9 video.</span></span>
