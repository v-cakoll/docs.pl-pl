---
title: Problemy podczas migracji programu .NET Framework 4
description: Informacje o problemach migracji między .NET Framework 3,5 z dodatkiem Service Pack 1 i .NET Framework 4, w tym poprawki i zmiany zgodności ze standardami i zabezpieczeniami.
ms.date: 05/02/2017
helpviewer_keywords:
- .NET Framework 4, migration
- application compatibility
ms.assetid: df478548-8c05-4de2-8ba7-adcdbe1c2a60
ms.openlocfilehash: bbb9a3803986c922fd1ef04a87cd1e230fc3d623
ms.sourcegitcommit: cf5a800a33de64d0aad6d115ffcc935f32375164
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/20/2020
ms.locfileid: "86475284"
---
# <a name="net-framework-4-migration-issues"></a><span data-ttu-id="0fa02-103">Problemy podczas migracji programu .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="0fa02-103">.NET Framework 4 migration issues</span></span>

<span data-ttu-id="0fa02-104">W tym artykule opisano problemy dotyczące migracji między .NET Framework wersja 3,5 Service Pack 1 i .NET Framework wersja 4, w tym poprawki, zmiany zgodności i zabezpieczeń oraz zmiany w oparciu o opinie klientów.</span><span class="sxs-lookup"><span data-stu-id="0fa02-104">This article describes migration issues between .NET Framework version 3.5 Service Pack 1 and .NET Framework version 4, including fixes, changes for standards compliance and security, and changes based on customer feedback.</span></span> <span data-ttu-id="0fa02-105">Większość tych zmian nie wymaga żadnych modyfikacji programistycznych w aplikacjach.</span><span class="sxs-lookup"><span data-stu-id="0fa02-105">Most of these changes do not require any programming modifications in your applications.</span></span> <span data-ttu-id="0fa02-106">Dla tych, które mogą zawierać modyfikacje, zobacz kolumnę **zalecane zmiany** w tabeli.</span><span class="sxs-lookup"><span data-stu-id="0fa02-106">For those that may involve modifications, see the **Recommended changes** column of the table.</span></span> <span data-ttu-id="0fa02-107">Istotne zmiany są podzielone według obszaru, na przykład ASP.NET i Windows Presentation Foundation (WPF).</span><span class="sxs-lookup"><span data-stu-id="0fa02-107">Notable changes are broken down by area, for example, ASP.NET and Windows Presentation Foundation (WPF).</span></span>

<span data-ttu-id="0fa02-108">Więcej informacji o problemach z tego artykułu znajduje się w temacie [Przewodnik migracji do .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="0fa02-108">For a higher-level overview of the issues in this article, see [Migration Guide to .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29).</span></span>

<span data-ttu-id="0fa02-109">Aby uzyskać informacje o nowych funkcjach, zobacz [co nowego w .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="0fa02-109">For information about new features, see [What's New in .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29).</span></span>

## <a name="aspnet-and-web"></a><span data-ttu-id="0fa02-110">ASP.NET i Internet</span><span class="sxs-lookup"><span data-stu-id="0fa02-110">ASP.NET and Web</span></span>

<span data-ttu-id="0fa02-111">Przestrzenie nazw: <xref:System.Web> , <xref:System.Web.Mobile> , <xref:System.Web.Security> ,<xref:System.Web.UI.WebControls></span><span class="sxs-lookup"><span data-stu-id="0fa02-111">Namespaces: <xref:System.Web>, <xref:System.Web.Mobile>, <xref:System.Web.Security>, <xref:System.Web.UI.WebControls></span></span>

<span data-ttu-id="0fa02-112">Zestaw: System. Web (w System.Web.dll)</span><span class="sxs-lookup"><span data-stu-id="0fa02-112">Assembly: System.Web (in System.Web.dll)</span></span>

| <span data-ttu-id="0fa02-113">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-113">Feature</span></span>  | <span data-ttu-id="0fa02-114">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-114">Differences from 3.5 SP1</span></span> | <span data-ttu-id="0fa02-115">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="0fa02-115">Recommended changes</span></span> |
| -------- | ------------------------ | ------------------- |
| <span data-ttu-id="0fa02-116">**Pliki definicji przeglądarki**</span><span class="sxs-lookup"><span data-stu-id="0fa02-116">**Browser definition files**</span></span> | <span data-ttu-id="0fa02-117">Pliki definicji przeglądarki zostały zaktualizowane w celu uwzględnienia informacji o nowych i zaktualizowanych przeglądarkach i urządzeniach.</span><span class="sxs-lookup"><span data-stu-id="0fa02-117">The browser definition files have been updated to include information about new and updated browsers and devices.</span></span> <span data-ttu-id="0fa02-118">Zostały usunięte starsze przeglądarki i urządzenia, takie jak Netscape Navigator, i dodano nowsze przeglądarki i urządzenia, takie jak Google Chrome i Apple iPhone.</span><span class="sxs-lookup"><span data-stu-id="0fa02-118">Older browsers and devices such as Netscape Navigator have been removed, and newer browsers and devices such as Google Chrome and Apple iPhone have been added.</span></span><br><br><span data-ttu-id="0fa02-119">Jeśli aplikacja zawiera niestandardowe definicje przeglądarki dziedziczące z jednej z definicji przeglądarki, które zostały usunięte, zostanie wyświetlony komunikat o błędzie.</span><span class="sxs-lookup"><span data-stu-id="0fa02-119">If your application contains custom browser definitions that inherit from one of the browser definitions that have been removed, you will see an error.</span></span><br><br><span data-ttu-id="0fa02-120"><xref:System.Web.HttpBrowserCapabilities>Obiekt, który jest udostępniany przez właściwość strony, `Request.Browse` jest oparty na plikach definicji przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="0fa02-120">The <xref:System.Web.HttpBrowserCapabilities> object (which is exposed by the page's `Request.Browse` property) is driven by the browser definition files.</span></span> <span data-ttu-id="0fa02-121">W związku z tym informacje zwracane przez uzyskanie dostępu do właściwości tego obiektu w ASP.NET 4 mogą różnić się od informacji, które zostały zwrócone we wcześniejszej wersji ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0fa02-121">Therefore, the information that is returned by accessing a property of this object in ASP.NET 4 might be different than the information that was returned in an earlier version of ASP.NET.</span></span> | <span data-ttu-id="0fa02-122">Jeśli aplikacja korzysta ze starych plików definicji przeglądarki, można je skopiować z następującego folderu:</span><span class="sxs-lookup"><span data-stu-id="0fa02-122">If your application relies on the old browser definition files, you can copy them from the following folder:</span></span><br><br><span data-ttu-id="0fa02-123">*\\Przeglądarki konfiguracji systemu Windows Microsoft.NET \\ Framework \\ v 2.0.50727 \\ \\*</span><span class="sxs-lookup"><span data-stu-id="0fa02-123">*Windows\\Microsoft.NET\\Framework\\v2.0.50727\\CONFIG\\Browsers*</span></span><br><br><span data-ttu-id="0fa02-124">Skopiuj pliki do odpowiedniego folderu \* \\ \\ przeglądarki konfiguracji\* dla ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="0fa02-124">Copy the files into the corresponding *\\CONFIG\\Browsers* folder for ASP.NET 4.</span></span> <span data-ttu-id="0fa02-125">Po skopiowaniu plików uruchom narzędzie wiersza polecenia [Aspnet_regbrowsers.exe](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms229858(v=vs.90)) .</span><span class="sxs-lookup"><span data-stu-id="0fa02-125">After you copy the files, run the [Aspnet_regbrowsers.exe](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms229858(v=vs.90)) command-line tool.</span></span> <span data-ttu-id="0fa02-126">Aby uzyskać więcej informacji, zobacz [https://www.asp.net/mobile](/aspnet/mobile/overview) witrynę sieci Web.</span><span class="sxs-lookup"><span data-stu-id="0fa02-126">For more information, see the [https://www.asp.net/mobile](/aspnet/mobile/overview) Web site.</span></span> |
| <span data-ttu-id="0fa02-127">**Aplikacje podrzędne działające w ramach mieszanych wersji programu ASP.NET**</span><span class="sxs-lookup"><span data-stu-id="0fa02-127">**Child applications running under mixed versions of ASP.NET**</span></span> | <span data-ttu-id="0fa02-128">Nie można uruchomić aplikacji ASP.NET 4, które są skonfigurowane jako elementy podrzędne aplikacji, które działają we wcześniejszych wersjach programu ASP.NET z powodu błędów konfiguracji lub kompilacji.</span><span class="sxs-lookup"><span data-stu-id="0fa02-128">ASP.NET 4 applications that are configured as children of applications that run earlier versions of ASP.NET might fail to start because of configuration or compilation errors.</span></span> <span data-ttu-id="0fa02-129">Konkretny błąd zależy od tego, czy aplikacja działa w ramach usług IIS 6,0, czy w ramach usług IIS 7 lub IIS 7,5.</span><span class="sxs-lookup"><span data-stu-id="0fa02-129">The specific error that occurs depends on whether the application runs under IIS 6.0, or under IIS 7 or IIS 7.5.</span></span> | <span data-ttu-id="0fa02-130">Można wprowadzać zmiany w plikach konfiguracji odpowiednich aplikacji, aby system konfiguracji prawidłowo rozpoznawał aplikację ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="0fa02-130">You can make changes to the configuration files of the affected applications so that the configuration system correctly recognizes the ASP.NET 4 application.</span></span> <span data-ttu-id="0fa02-131">Aby uzyskać informacje o zmianach, które należy wykonać, zobacz sekcję "aplikacje podrzędne ASP.NET 4 nie mogą zostać uruchomione, gdy w obszarze ASP.NET 2,0 lub ASP.NET 3,5 aplikacje" w dokumencie [ASP.NET 4 zmiany](/aspnet/whitepapers/aspnet4/breaking-changes) w witrynie sieci Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0fa02-131">For information about the changes you must make, see the section "ASP.NET 4 Child Applications Fail to Start When Under ASP.NET 2.0 or ASP.NET 3.5 Applications" in the document [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="0fa02-132">**ClientID zmiany**</span><span class="sxs-lookup"><span data-stu-id="0fa02-132">**ClientID changes**</span></span> | <span data-ttu-id="0fa02-133">Nowe `clientIDMode` ustawienie w ASP.NET 4 pozwala określić sposób, w jaki ASP.NET generuje `id` atrybut dla elementów HTML.</span><span class="sxs-lookup"><span data-stu-id="0fa02-133">The new `clientIDMode` setting in ASP.NET 4 lets you specify how ASP.NET generates the `id` attribute for HTML elements.</span></span> <span data-ttu-id="0fa02-134">W poprzednich wersjach ASP.NET zachowanie domyślne było równoważne `AutoID` ustawieniu `clientIDMode` .</span><span class="sxs-lookup"><span data-stu-id="0fa02-134">In previous versions of ASP.NET, the default behavior was equivalent to the `AutoID` setting of `clientIDMode`.</span></span> <span data-ttu-id="0fa02-135">Ustawienie domyślne to teraz `Predictable` .</span><span class="sxs-lookup"><span data-stu-id="0fa02-135">The default setting is now `Predictable`.</span></span> <span data-ttu-id="0fa02-136">Aby uzyskać więcej informacji, zobacz [Identyfikacja kontrolki serwera sieci Web ASP.NET](https://docs.microsoft.com/previous-versions/aspnet/1d04y8ss%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="0fa02-136">For more information, see [ASP.NET Web Server Control Identification](https://docs.microsoft.com/previous-versions/aspnet/1d04y8ss%28v=vs.100%29).</span></span> | <span data-ttu-id="0fa02-137">Jeśli używasz programu Visual Studio do uaktualnienia aplikacji z ASP.NET 2,0 lub ASP.NET 3,5, narzędzie automatycznie dodaje ustawienie do pliku Web.config, który zachowuje zachowanie wcześniejszych wersji .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="0fa02-137">If you use Visual Studio to upgrade your application from ASP.NET 2.0 or ASP.NET 3.5, the tool automatically adds a setting to the Web.config file that preserves the behavior of earlier versions of .NET Framework.</span></span> <span data-ttu-id="0fa02-138">Jednak w przypadku uaktualniania aplikacji przez zmianę puli aplikacji w programie IIS na wartość docelową .NET Framework 4, ASP.NET domyślnie używa trybu nowy.</span><span class="sxs-lookup"><span data-stu-id="0fa02-138">However, if you upgrade an application by changing the application pool in IIS to target .NET Framework 4, ASP.NET uses the new mode by default.</span></span> <span data-ttu-id="0fa02-139">Aby wyłączyć nowy tryb identyfikatora klienta, Dodaj następujące ustawienie do pliku Web.config:</span><span class="sxs-lookup"><span data-stu-id="0fa02-139">To disable the new client ID mode, add the following setting to the Web.config file:</span></span><br><br>`<pages clientIDMode="AutoID" />` |
| <span data-ttu-id="0fa02-140">**Zabezpieczenia dostępu kodu (CAS)**</span><span class="sxs-lookup"><span data-stu-id="0fa02-140">**Code access security (CAS)**</span></span> | <span data-ttu-id="0fa02-141">Funkcje sieci ASP.NET 2,0, które zostały dodane w ASP.NET 3,5, korzystają z modelu .NET Framework 1,1 i .NET Framework 2,0 zabezpieczenia dostępu kodu (CAS).</span><span class="sxs-lookup"><span data-stu-id="0fa02-141">ASP.NET 2.0 NET features that were added in ASP.NET 3.5 use the .NET Framework 1.1 and .NET Framework 2.0 code access security (CAS) model.</span></span> <span data-ttu-id="0fa02-142">Jednakże implementacja urzędów certyfikacji w ASP.NET 4 została znacząco przestawiona.</span><span class="sxs-lookup"><span data-stu-id="0fa02-142">However, the implementation of CAS in ASP.NET 4 has been substantially overhauled.</span></span> <span data-ttu-id="0fa02-143">Z tego powodu aplikacje ASP.NET częściowo zaufane, które opierają się na zaufanym kodzie uruchomionym w globalnej pamięci podręcznej zestawów, mogą zakończyć się niepowodzeniem z różnymi wyjątkami zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="0fa02-143">As a result, partial-trust ASP.NET applications that rely on trusted code running in the global assembly cache might fail with various security exceptions.</span></span> <span data-ttu-id="0fa02-144">Aplikacje częściowej relacji zaufania, które opierają się na rozległych modyfikacjach zasad CAS komputera, mogą również kończyć się niepowodzeniem i generować wyjątki zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="0fa02-144">Partial-trust applications that rely on extensive modifications to machine CAS policy might also fail and throw security exceptions.</span></span> | <span data-ttu-id="0fa02-145">Można przywrócić częściowe zaufanie ASP.NET 4 aplikacji do zachowania ASP.NET 1,1 i 2,0 przy użyciu nowego `legacyCasModel` atrybutu w `trust` elemencie konfiguracji, jak pokazano w poniższym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="0fa02-145">You can revert partial-trust ASP.NET 4 applications to the behavior of ASP.NET 1.1 and 2.0 by using the new `legacyCasModel` attribute in the `trust` configuration element, as shown in the following example:</span></span><br><br>`<trust level= "Medium" legacyCasModel="true" />`<br><br><span data-ttu-id="0fa02-146">Ważne: powrót do starszego modelu CAS może reprezentować mniejsze zabezpieczenia.</span><span class="sxs-lookup"><span data-stu-id="0fa02-146">Important: Reverting to the older CAS model might represent reduced security.</span></span><br><br><span data-ttu-id="0fa02-147">Aby uzyskać więcej informacji na temat nowego modelu zabezpieczeń dostępu kodu ASP.NET 4, zobacz [zabezpieczenia dostępu kodu w aplikacjach ASP.NET 4](https://docs.microsoft.com/previous-versions/dd984947(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="0fa02-147">For more information about the new ASP.NET 4 code access security model, see [Code Access Security in ASP.NET 4 Applications](https://docs.microsoft.com/previous-versions/dd984947(v=vs.100)).</span></span> |
| <span data-ttu-id="0fa02-148">**Pliki konfiguracji**</span><span class="sxs-lookup"><span data-stu-id="0fa02-148">**Configuration files**</span></span> | <span data-ttu-id="0fa02-149">Pliki konfiguracji głównej (plik machine.config i główny plik Web.config) dla .NET Framework i ASP.NET 4 zostały zaktualizowane w celu uwzględnienia większości standardowych informacji o konfiguracji, które zostały znalezione w plikach Web.config aplikacji w ASP.NET 3,5.</span><span class="sxs-lookup"><span data-stu-id="0fa02-149">The root configuration files (the machine.config file and the root Web.config file) for .NET Framework and ASP.NET 4 have been updated to include most of the boilerplate configuration information that was found in the application Web.config files in ASP.NET 3.5.</span></span> <span data-ttu-id="0fa02-150">Ze względu na złożoność zarządzanych systemów konfiguracyjnych usług IIS 7 i usług IIS 7,5, na których działają aplikacje ASP.NET 3,5 w ASP.NET 4 i w usługach IIS 7 i IIS 7,5 mogą wystąpić błędy ASP.NET lub błędy usług IIS.</span><span class="sxs-lookup"><span data-stu-id="0fa02-150">Because of the complexity of the managed IIS 7 and IIS 7.5 configuration systems, running ASP.NET 3.5 applications under ASP.NET 4 and under IIS 7 and IIS 7.5 can result in either ASP.NET errors or IIS errors.</span></span> | <span data-ttu-id="0fa02-151">Uaktualnij aplikacje ASP.NET 3,5 do ASP.NET 4 przy użyciu narzędzi uaktualniania projektu w programie Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="0fa02-151">Upgrade ASP.NET 3.5 applications to ASP.NET 4 by using the project upgrade tools in Visual Studio.</span></span> <span data-ttu-id="0fa02-152">Program Visual Studio 2010 automatycznie modyfikuje plik Web.config aplikacji ASP.NET 3,5, aby zawierał odpowiednie ustawienia dla ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="0fa02-152">Visual Studio 2010 automatically modifies the ASP.NET 3.5 application's Web.config file to contain the appropriate settings for ASP.NET 4.</span></span><br><br><span data-ttu-id="0fa02-153">Można jednak uruchamiać aplikacje ASP.NET 3,5 przy użyciu .NET Framework 4 bez ponownej kompilacji.</span><span class="sxs-lookup"><span data-stu-id="0fa02-153">However, you can run ASP.NET 3.5 applications using .NET Framework 4 without recompilation.</span></span> <span data-ttu-id="0fa02-154">W takim przypadku może być konieczne ręczne zmodyfikowanie pliku Web.config aplikacji przed uruchomieniem aplikacji w .NET Framework 4 i w usługach IIS 7 lub IIS 7,5.</span><span class="sxs-lookup"><span data-stu-id="0fa02-154">In that case, you might have to manually modify the application's Web.config file before you run the application under .NET Framework 4 and under IIS 7 or IIS 7.5.</span></span> <span data-ttu-id="0fa02-155">Wymagana zmiana musi być zależna od kombinacji oprogramowania, z którym pracujesz, wraz z wersjami dodatku Service Pack (SP).</span><span class="sxs-lookup"><span data-stu-id="0fa02-155">The specific change you must make depends on the combination of software you are working with, including Service Pack (SP) releases.</span></span> <span data-ttu-id="0fa02-156">Aby uzyskać informacje o możliwych kombinacjach oprogramowania, których dotyczy ta zmiana i sposobach rozwiązywania problemów z określonymi kombinacjami, zobacz sekcję "błędy konfiguracji dotyczące nowej konfiguracji głównej ASP.NET 4" w dokumencie [ASP.NET 4 zmiany](/aspnet/whitepapers/aspnet4/breaking-changes) w witrynie sieci Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0fa02-156">For information about the possible software combinations that are affected by this change and how to resolve problems with specific combinations, see the section "Configuration Errors Related to New ASP.NET 4 Root Configuration" in the document [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="0fa02-157">**Renderowanie kontrolki**</span><span class="sxs-lookup"><span data-stu-id="0fa02-157">**Control rendering**</span></span> | <span data-ttu-id="0fa02-158">W poprzednich wersjach programu ASP.NET niektóre kontrolki emitują adiustację, której nie można wyłączyć.</span><span class="sxs-lookup"><span data-stu-id="0fa02-158">In previous versions of ASP.NET, some controls emitted markup that you could not disable.</span></span> <span data-ttu-id="0fa02-159">Domyślnie ten typ znaczników nie jest już generowany w ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="0fa02-159">By default, this type of markup is no longer generated in ASP.NET 4.</span></span> <span data-ttu-id="0fa02-160">Zmiany renderowania mają wpływ na następujące kontrolki:</span><span class="sxs-lookup"><span data-stu-id="0fa02-160">The rendering changes affect the following controls:</span></span><br><br><span data-ttu-id="0fa02-161">\*`Image`Formanty i `ImageButton` nie są już renderowane `border="0"` atrybutu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-161">\* The `Image` and `ImageButton` controls no longer render a `border="0"` attribute.</span></span><br><span data-ttu-id="0fa02-162">\*`BaseValidator`Kontrolki klasy i walidacji, które pochodzą od niej, nie domyślnie renderują czerwony tekst.</span><span class="sxs-lookup"><span data-stu-id="0fa02-162">\* The `BaseValidator` class and validation controls that derive from it no longer render red text by default.</span></span><br><span data-ttu-id="0fa02-163">\*`HtmlForm`Formant nie renderuje `name` atrybutu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-163">\* The `HtmlForm` control does not render a `name` attribute.</span></span><br><span data-ttu-id="0fa02-164">\*`Table`Kontrolka nie renderuje już `border="0"` atrybutu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-164">\* The `Table` control no longer renders a `border="0"` attribute.</span></span><br><br><span data-ttu-id="0fa02-165">Kontrolki, które nie są przeznaczone do wprowadzania danych przez użytkownika (na przykład `Label` kontrolki), nie są już renderowane `disabled="disabled"` atrybutu, jeśli ich `Enabled` właściwości są ustawione na `false` (lub dziedziczą to ustawienie z kontrolki kontenera).</span><span class="sxs-lookup"><span data-stu-id="0fa02-165">Controls that are not designed for user input (for example, the `Label` control) no longer render the `disabled="disabled"` attribute if their `Enabled` property is set to `false` (or if they inherit this setting from a container control).</span></span> | <span data-ttu-id="0fa02-166">Jeśli używasz programu Visual Studio do uaktualnienia aplikacji z ASP.NET 2,0 lub ASP.NET 3,5, narzędzie automatycznie dodaje ustawienie do pliku Web.config, który zachowuje starsze renderowanie.</span><span class="sxs-lookup"><span data-stu-id="0fa02-166">If you use Visual Studio to upgrade your application from ASP.NET 2.0 or ASP.NET 3.5, the tool automatically adds a setting to the Web.config file that preserves legacy rendering.</span></span> <span data-ttu-id="0fa02-167">Jednak w przypadku uaktualniania aplikacji przez zmianę puli aplikacji w programie IIS na wartość docelową .NET Framework 4, ASP.NET domyślnie korzysta z nowego trybu renderowania.</span><span class="sxs-lookup"><span data-stu-id="0fa02-167">However, if you upgrade an application by changing the application pool in IIS to target .NET Framework 4, ASP.NET uses the new rendering mode by default.</span></span> <span data-ttu-id="0fa02-168">Aby wyłączyć nowy tryb renderowania, Dodaj następujące ustawienie do pliku Web.config:</span><span class="sxs-lookup"><span data-stu-id="0fa02-168">To disable the new rendering mode, add the following setting to the Web.config file:</span></span><br><br>`<pages controlRenderingCompatibilityVersion="3.5" />` |
| <span data-ttu-id="0fa02-169">**Programy obsługi zdarzeń w dokumentach domyślnych**</span><span class="sxs-lookup"><span data-stu-id="0fa02-169">**Event handlers in default documents**</span></span> | <span data-ttu-id="0fa02-170">ASP.NET 4 renderuje `form` `action` wartość atrybutu elementu HTML jako pusty ciąg, gdy żądanie zostanie wysłane do adresu URL, który ma przypisany dokument domyślny.</span><span class="sxs-lookup"><span data-stu-id="0fa02-170">ASP.NET  4 renders the HTML `form` element's `action` attribute value as an empty string when a request is made to an extensionless URL that has a default document mapped to it.</span></span> <span data-ttu-id="0fa02-171">W starszych wersjach ASP.NET żądanie `http://contoso.com` mogłoby spowodować żądanie do default. aspx.</span><span class="sxs-lookup"><span data-stu-id="0fa02-171">In earlier releases of ASP.NET, a request to `http://contoso.com` would result in a request to Default.aspx.</span></span> <span data-ttu-id="0fa02-172">W tym dokumencie tag otwierający będzie `form` renderowany jak w poniższym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="0fa02-172">In that document, the opening `form` tag would be rendered as in the following example:</span></span><br><br>`<form action="Default.aspx" />`<br><br><span data-ttu-id="0fa02-173">W ASP.NET 4, żądanie również powoduje `http://contoso.com` żądanie do pliku default. aspx, ale ASP.NET teraz renderuje tag otwierającego HTML `form` tak jak w poniższym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="0fa02-173">In ASP.NET 4, a request to `http://contoso.com` also results in a request to Default.aspx, but ASP.NET now renders the HTML opening `form` tag as in the following example:</span></span><br><br>`<form action="" />`<br><br><span data-ttu-id="0fa02-174">Gdy `action` atrybut jest pustym ciągiem, `DefaultDocumentModule` obiekt IIS tworzy żądanie podrzędne do default. aspx.</span><span class="sxs-lookup"><span data-stu-id="0fa02-174">When the `action` attribute is an empty string, the IIS `DefaultDocumentModule` object creates a child request to Default.aspx.</span></span> <span data-ttu-id="0fa02-175">W większości warunków to żądanie podrzędne jest niewidoczne dla kodu aplikacji, a domyślna strona. aspx działa normalnie.</span><span class="sxs-lookup"><span data-stu-id="0fa02-175">Under most conditions, this child request is transparent to application code, and the Default.aspx page runs normally.</span></span> <span data-ttu-id="0fa02-176">Jednak potencjalna interakcja między zarządzanym kodem i usługami IIS 7 lub IIS 7,5 może spowodować, że zarządzane strony. aspx przestaną działać prawidłowo podczas żądania podrzędnego.</span><span class="sxs-lookup"><span data-stu-id="0fa02-176">However, a potential interaction between managed code and IIS 7 or IIS 7.5 Integrated mode can cause managed .aspx pages to stop working properly during the child request.</span></span> <span data-ttu-id="0fa02-177">W przypadku wystąpienia następujących warunków żądanie podrzędne do domyślnego dokumentu. aspx spowoduje błąd lub w nieoczekiwanym zachowaniu:</span><span class="sxs-lookup"><span data-stu-id="0fa02-177">If the following conditions occur, the child request to a default .aspx document will result in an error or in unexpected behavior:</span></span><br><br><span data-ttu-id="0fa02-178">\*Strona. aspx jest wysyłana do przeglądarki z `form` `action` atrybutem elementu ustawionym na "".</span><span class="sxs-lookup"><span data-stu-id="0fa02-178">\* An .aspx page is sent to the browser with the `form` element's `action` attribute set to "".</span></span><br><span data-ttu-id="0fa02-179">\*Formularz zostanie opublikowany z powrotem do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0fa02-179">\* The form is posted back to ASP.NET.</span></span><br><span data-ttu-id="0fa02-180">\*Zarządzany moduł HTTP odczytuje część treści jednostki, na przykład `Request.Form` lub `Request.Params` .</span><span class="sxs-lookup"><span data-stu-id="0fa02-180">\* A managed HTTP module reads some part of the entity body, such as `Request.Form` or `Request.Params`.</span></span> <span data-ttu-id="0fa02-181">Powoduje to, że treść jednostki żądania POST ma zostać odczytana do pamięci zarządzanej.</span><span class="sxs-lookup"><span data-stu-id="0fa02-181">This causes the entity body of the POST request to be read into managed memory.</span></span> <span data-ttu-id="0fa02-182">W związku z tym treść jednostki nie jest już dostępna dla żadnych modułów kodu natywnego, które działają w trybie zintegrowanym usług IIS 7 lub IIS 7,5.</span><span class="sxs-lookup"><span data-stu-id="0fa02-182">As a result, the entity body is no longer available to any native code modules that are running in IIS 7 or IIS 7.5 Integrated mode.</span></span><br><span data-ttu-id="0fa02-183">\*Obiekt IIS `DefaultDocumentModule` zostaje ostatecznie uruchomiony i tworzy żądanie podrzędne do domyślnego dokumentu. aspx.</span><span class="sxs-lookup"><span data-stu-id="0fa02-183">\* The IIS `DefaultDocumentModule` object eventually runs and creates a child request to the Default.aspx document.</span></span> <span data-ttu-id="0fa02-184">Jednak ponieważ treść jednostki została już odczytana przez fragment kodu zarządzanego, nie istnieje żadna treść jednostki do wysłania do żądania podrzędnego.</span><span class="sxs-lookup"><span data-stu-id="0fa02-184">However, because the entity body has already been read by a piece of managed code, there is no entity body available to send to the child request.</span></span><br><span data-ttu-id="0fa02-185">\*Gdy potok HTTP jest uruchamiany dla żądania podrzędnego, program obsługi plików. aspx jest uruchamiany podczas fazy wykonywania procedury obsługi.</span><span class="sxs-lookup"><span data-stu-id="0fa02-185">\* When the HTTP pipeline runs for the child request, the handler for .aspx files runs during the handler-execute phase.</span></span><br><br><span data-ttu-id="0fa02-186">Ponieważ nie ma treści jednostki, nie ma żadnych zmiennych formularzy i nie ma stanu widoku.</span><span class="sxs-lookup"><span data-stu-id="0fa02-186">Because there is no entity body, there are no form variables and no view state.</span></span> <span data-ttu-id="0fa02-187">W związku z tym nie ma informacji dostępnych dla programu obsługi stron. aspx, aby określić, jakie zdarzenie (jeśli istnieje) powinno zostać zgłoszone.</span><span class="sxs-lookup"><span data-stu-id="0fa02-187">Therefore there is no information available for the .aspx page handler to determine what event (if any) should be raised.</span></span> <span data-ttu-id="0fa02-188">W związku z tym żaden z programów obsługi zdarzeń ogłaszania zwrotnego nie zostanie uruchomiony na stronie, której dotyczy.</span><span class="sxs-lookup"><span data-stu-id="0fa02-188">As a result, none of the postback event handlers for the affected .aspx page run.</span></span> | <span data-ttu-id="0fa02-189">Aby uzyskać informacje o sposobach obejścia problemów, które mogą wystąpić w wyniku tej zmiany, zobacz "programy obsługi zdarzeń mogą nie zostać zgłoszone w dokumencie domyślnym w programie IIS 7 lub w trybie zintegrowanym usług IIS 7,5" w dokumencie [ASP.NET 4 zmiany](/aspnet/whitepapers/aspnet4/breaking-changes) w witrynie sieci Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0fa02-189">For information about ways to work around problems that might arise as a result of this change, see "Event Handlers Might Not Be Not Raised in a Default Document in IIS 7 or IIS 7.5 Integrated Mode" in the document [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="0fa02-190">**Algorytm wyznaczania wartości skrótu**</span><span class="sxs-lookup"><span data-stu-id="0fa02-190">**Hashing algorithm**</span></span> | <span data-ttu-id="0fa02-191">ASP.NET używa algorytmów szyfrowania i wyznaczania wartości skrótu, aby zabezpieczyć dane, takie jak pliki cookie uwierzytelniania formularzy i stan widoku.</span><span class="sxs-lookup"><span data-stu-id="0fa02-191">ASP.NET uses both encryption and hashing algorithms to help secure data such as forms authentication cookies and view state.</span></span> <span data-ttu-id="0fa02-192">Domyślnie ASP.NET 4 używa <xref:System.Security.Cryptography.HMACSHA256> algorytmu dla operacji mieszania dla plików cookie i stanu widoku.</span><span class="sxs-lookup"><span data-stu-id="0fa02-192">By default, ASP.NET 4 uses the <xref:System.Security.Cryptography.HMACSHA256> algorithm for hash operations on cookies and view state.</span></span> <span data-ttu-id="0fa02-193">We wcześniejszych wersjach ASP.NET użyto starszego <xref:System.Security.Cryptography.HMACSHA1> algorytmu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-193">Earlier versions of ASP.NET used the older <xref:System.Security.Cryptography.HMACSHA1> algorithm.</span></span> | <span data-ttu-id="0fa02-194">Jeśli uruchamiasz aplikacje, które mieszają ASP.NET 2,0 i ASP.NET 4, gdzie dane takie jak pliki cookie uwierzytelniania formularzy muszą działać w różnych wersjach .NET Framework, skonfiguruj aplikację sieci Web ASP.NET 4, aby użyć starszego <xref:System.Security.Cryptography.HMACSHA1> algorytmu przez dodanie następującego ustawienia w pliku Web.config:</span><span class="sxs-lookup"><span data-stu-id="0fa02-194">If you run applications that mix ASP.NET 2.0 and ASP.NET 4, where data such as forms authentication cookies must work across .NET Framework versions, configure an ASP.NET 4 Web application to use the older <xref:System.Security.Cryptography.HMACSHA1> algorithm by adding the following setting in the Web.config file:</span></span><br><br>`<machineKey validation="SHA1" />` |
| <span data-ttu-id="0fa02-195">**Hostowanie formantów w programie Internet Explorer**</span><span class="sxs-lookup"><span data-stu-id="0fa02-195">**Hosting controls in Internet Explorer**</span></span> | <span data-ttu-id="0fa02-196">W programie Internet Explorer nie można już hostować formantów Windows Forms, ponieważ istnieją lepsze rozwiązania hostingu formantów w sieci Web.</span><span class="sxs-lookup"><span data-stu-id="0fa02-196">You can no longer host Windows Forms controls in the Internet Explorer, because there are better solutions for hosting controls on the Web.</span></span> <span data-ttu-id="0fa02-197">W związku z tym zestawy IEHost.dll i IEExec.exe zostały usunięte z .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="0fa02-197">Therefore, the IEHost.dll and IEExec.exe assemblies have been removed from .NET Framework.</span></span> | <span data-ttu-id="0fa02-198">Możesz użyć następujących technologii do tworzenia niestandardowych kontrolek w aplikacjach sieci Web:</span><span class="sxs-lookup"><span data-stu-id="0fa02-198">You can use the following technologies for custom control development in Web applications:</span></span><br><br><span data-ttu-id="0fa02-199">\*Można utworzyć aplikację Silverlight i skonfigurować ją do uruchamiania poza przeglądarką.</span><span class="sxs-lookup"><span data-stu-id="0fa02-199">\* You can create a Silverlight application and configure it to run outside the browser.</span></span> <span data-ttu-id="0fa02-200">Aby uzyskać więcej informacji, zobacz [Obsługa braku przeglądarki](https://docs.microsoft.com/previous-versions/windows/silverlight/dotnet-windows-silverlight/dd550721%28v=vs.95%29).</span><span class="sxs-lookup"><span data-stu-id="0fa02-200">For more information, see [Out-of-Browser Support](https://docs.microsoft.com/previous-versions/windows/silverlight/dotnet-windows-silverlight/dd550721%28v=vs.95%29).</span></span><br><span data-ttu-id="0fa02-201">\*Możesz utworzyć aplikację przeglądarki XAML (XBAP), aby korzystać z możliwości platformy WPF (wymaga .NET Framework na komputerach klienckich).</span><span class="sxs-lookup"><span data-stu-id="0fa02-201">\* You can build a XAML browser application (XBAP) to take advantage of WPF capabilities (requires .NET Framework on client machines).</span></span> <span data-ttu-id="0fa02-202">Aby uzyskać więcej informacji, zobacz [Omówienie aplikacji w przeglądarce WPF XAML](../wpf/app-development/wpf-xaml-browser-applications-overview.md).</span><span class="sxs-lookup"><span data-stu-id="0fa02-202">For more information, see [WPF XAML Browser Applications Overview](../wpf/app-development/wpf-xaml-browser-applications-overview.md).</span></span> |
| <span data-ttu-id="0fa02-203">**Metody HtmlEncode i UrlEncode**</span><span class="sxs-lookup"><span data-stu-id="0fa02-203">**HtmlEncode and UrlEncode methods**</span></span> | <span data-ttu-id="0fa02-204">`HtmlEncode`Metody i `UrlEncode` <xref:System.Web.HttpUtility> klas i zostały <xref:System.Web.HttpServerUtility> zaktualizowane w celu kodowania znaku pojedynczego cudzysłowu (') w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="0fa02-204">The `HtmlEncode` and `UrlEncode` methods of the <xref:System.Web.HttpUtility> and <xref:System.Web.HttpServerUtility> classes have been updated to encode the single quotation mark character (') as follows:</span></span><br><br><span data-ttu-id="0fa02-205">\*`HtmlEncode`Metoda koduje wystąpienia pojedynczego cudzysłowu jako`&#39;`</span><span class="sxs-lookup"><span data-stu-id="0fa02-205">\* The `HtmlEncode` method encodes instances of the single quotation mark as `&#39;`</span></span><br><span data-ttu-id="0fa02-206">\*`UrlEncode`Metoda koduje wystąpienia pojedynczego cudzysłowu jako`%27`</span><span class="sxs-lookup"><span data-stu-id="0fa02-206">\* The `UrlEncode` method encodes instances of the single quotation mark as `%27`</span></span> | <span data-ttu-id="0fa02-207">Sprawdź swój kod pod kątem miejsc, w których używasz `HtmlEncode` metod i i upewnij się, `UrlEncode` że zmiana kodowania nie powoduje zmiany, która mogłaby mieć wpływ na aplikację.</span><span class="sxs-lookup"><span data-stu-id="0fa02-207">Examine your code for places where you use the `HtmlEncode` and `UrlEncode` methods, and make sure that the change in encoding does not result in a change that would affect your application.</span></span> |
| <span data-ttu-id="0fa02-208">**Błędy HttpException w aplikacjach ASP.NET 2,0**</span><span class="sxs-lookup"><span data-stu-id="0fa02-208">**HttpException errors in ASP.NET 2.0 applications**</span></span> | <span data-ttu-id="0fa02-209">Po włączeniu ASP.NET 4 w usługach IIS 6, ASP.NET 2,0, które działają w usługach IIS 6 (w systemie Windows Server 2003 lub Windows Server 2003 R2) mogą generować następujące błędy:`System.Web.HttpException: Path '/[yourApplicationRoot]/eurl.axd/[Value]' was not found.`</span><span class="sxs-lookup"><span data-stu-id="0fa02-209">After ASP.NET 4 has been enabled on IIS 6, ASP.NET 2.0 applications that run on IIS 6 (in either Windows Server 2003 or Windows Server 2003 R2) might generate errors such as the following: `System.Web.HttpException: Path '/[yourApplicationRoot]/eurl.axd/[Value]' was not found.`</span></span> | <span data-ttu-id="0fa02-210">\* Jeśli ASP.NET 4 nie jest wymagany do uruchomienia witryny sieci Web, należy ponownie zamapować lokację, tak aby korzystała z ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="0fa02-210">\* If ASP.NET 4 is not required in order to run the Web site, remap the site to use ASP.NET 2.0 instead.</span></span><br><br><span data-ttu-id="0fa02-211">-lub-</span><span class="sxs-lookup"><span data-stu-id="0fa02-211">-or-</span></span><br><br><span data-ttu-id="0fa02-212">\*Jeśli ASP.NET 4 jest wymagany do uruchomienia witryny sieci Web, Przenieś wszystkie podrzędne katalogi wirtualne ASP.NET 2,0 do innej witryny sieci Web, która jest zamapowana na ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="0fa02-212">\* If ASP.NET 4 is required in order to run the Web site, move any child ASP.NET 2.0 virtual directories to a different Web site that is mapped to ASP.NET 2.0.</span></span><br><br><span data-ttu-id="0fa02-213">-lub-</span><span class="sxs-lookup"><span data-stu-id="0fa02-213">-or-</span></span><br><br><span data-ttu-id="0fa02-214">\*Wyłącz adresy URL bezrozszerzenia.</span><span class="sxs-lookup"><span data-stu-id="0fa02-214">\* Disable extensionless URLs.</span></span> <span data-ttu-id="0fa02-215">Aby uzyskać więcej informacji, zobacz "aplikacje ASP.NET 2,0 mogą generować błędy HttpException odwołujące się do EURL. axd" w dokumencie [ASP.NETe zmiany](/aspnet/whitepapers/aspnet4/breaking-changes) w witrynie sieci Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0fa02-215">For more information, see "ASP.NET 2.0 Applications Might Generate HttpException Errors That Reference eurl.axd" in the document [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="0fa02-216">**Typy członkostwa**</span><span class="sxs-lookup"><span data-stu-id="0fa02-216">**Membership types**</span></span> | <span data-ttu-id="0fa02-217">Niektóre typy (na przykład <xref:System.Web.Security.MembershipProvider> ), które są używane w członkostwie ASP.NET, zostały przeniesione z System.Web.dll do zestawu System.Web.ApplicationServices.dll.</span><span class="sxs-lookup"><span data-stu-id="0fa02-217">Some types (for example, <xref:System.Web.Security.MembershipProvider>) that are used in ASP.NET membership have been moved from System.Web.dll to the System.Web.ApplicationServices.dll assembly.</span></span> <span data-ttu-id="0fa02-218">Typy zostały przeniesione w celu rozwiązania zależności między typami w kliencie a rozszerzonymi jednostkami SKU .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="0fa02-218">The types were moved in order to resolve architectural layering dependencies between types in the client and in extended .NET Framework SKUs.</span></span> | <span data-ttu-id="0fa02-219">Biblioteki klas, które zostały uaktualnione z wcześniejszych wersji programu ASP.NET i które używają typów członkostwa, które zostały przeniesione, mogą nie zostać skompilowane, gdy są używane w projekcie ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="0fa02-219">Class libraries that have been upgraded from earlier versions of ASP.NET and that use membership types that have been moved might fail to compile when used in an ASP.NET 4 project.</span></span> <span data-ttu-id="0fa02-220">Jeśli tak, Dodaj odwołanie w projekcie biblioteki klas, aby System.Web.ApplicationServices.dll.</span><span class="sxs-lookup"><span data-stu-id="0fa02-220">If so, add a reference in the class library project to System.Web.ApplicationServices.dll.</span></span> |
| <span data-ttu-id="0fa02-221">**Zmiany kontrolki menu**</span><span class="sxs-lookup"><span data-stu-id="0fa02-221">**Menu control changes**</span></span> | <span data-ttu-id="0fa02-222">Zmiany wprowadzone w <xref:System.Web.UI.WebControls.Menu> formancie powodują następujące zachowanie:</span><span class="sxs-lookup"><span data-stu-id="0fa02-222">Changes to the <xref:System.Web.UI.WebControls.Menu> control result in the following behavior:</span></span><br><br><span data-ttu-id="0fa02-223">\*Jeśli <xref:System.Web.UI.WebControls.MenuRenderingMode> jest ustawiona na `List` , lub jeśli <xref:System.Web.UI.WebControls.MenuRenderingMode> jest ustawiona na `Default` i <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> ma ustawioną wartość `4.0` lub nowszą, <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> Właściwość nie ma wpływu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-223">\* If <xref:System.Web.UI.WebControls.MenuRenderingMode> is set to `List`, or if <xref:System.Web.UI.WebControls.MenuRenderingMode> is set to `Default` and <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> is set to `4.0` or later, the <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> property has no effect.</span></span><br><span data-ttu-id="0fa02-224">\*Jeśli ścieżka ustawiona we <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> właściwościach i zawiera ukośnik odwrotny ( \\ ), obrazy nie są renderowane.</span><span class="sxs-lookup"><span data-stu-id="0fa02-224">\* If the path that is set in the <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> and <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> properties contains a backslash (\\), the images do not render.</span></span> <span data-ttu-id="0fa02-225">(We wcześniejszych wersjach ASP.NET ścieżka może zawierać ukośnik odwrotny).</span><span class="sxs-lookup"><span data-stu-id="0fa02-225">(In earlier versions of ASP.NET, the path could include a backslash.)</span></span> | <span data-ttu-id="0fa02-226">\* Zamiast ustawiania <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> właściwości dla poszczególnych elementów menu, ustaw <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> lub <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> <xref:System.Web.UI.WebControls.Menu> kontrolki nadrzędnej.</span><span class="sxs-lookup"><span data-stu-id="0fa02-226">\* Instead of setting the <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> property for individual menu items, set the <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> or <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> of the parent <xref:System.Web.UI.WebControls.Menu> control.</span></span><br><br><span data-ttu-id="0fa02-227">-lub-</span><span class="sxs-lookup"><span data-stu-id="0fa02-227">-or-</span></span><br><br><span data-ttu-id="0fa02-228">Ustaw <xref:System.Web.UI.WebControls.MenuRenderingMode> wartość `Table` lub jako wartość <xref:System.Web.UI.WebControls.MenuRenderingMode> `Default` i ustaw wartość <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> `3.5` .</span><span class="sxs-lookup"><span data-stu-id="0fa02-228">Set <xref:System.Web.UI.WebControls.MenuRenderingMode> to `Table`, or set <xref:System.Web.UI.WebControls.MenuRenderingMode> to `Default` and set <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> to `3.5`.</span></span> <span data-ttu-id="0fa02-229">Te ustawienia powodują, <xref:System.Web.UI.WebControls.Menu> że formant używa układu opartego na tabeli HTML, który był używany we wcześniejszych wersjach ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0fa02-229">These settings cause the <xref:System.Web.UI.WebControls.Menu> control to use the HTML table-based layout that it used in earlier versions of ASP.NET.</span></span><br><span data-ttu-id="0fa02-230">\*Jeśli ścieżka we <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> właściwości lub zawiera ukośnik odwrotny ( \\ ), Zastąp znak ukośnika (/).</span><span class="sxs-lookup"><span data-stu-id="0fa02-230">\* If the path in the <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> or <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> property contains a backslash (\\), substitute a slash character (/).</span></span> |
| <span data-ttu-id="0fa02-231">**Zestaw mobilny w pliku Web.config**</span><span class="sxs-lookup"><span data-stu-id="0fa02-231">**Mobile assembly in Web.config file**</span></span> | <span data-ttu-id="0fa02-232">W poprzednich wersjach programu ASP.NET odwołanie do zestawu System.Web.Mobile.dll zostało dołączone do głównego pliku Web.config w `assemblies` sekcji poniżej `system.web` / `compilation` .</span><span class="sxs-lookup"><span data-stu-id="0fa02-232">In previous versions of ASP.NET, a reference to the System.Web.Mobile.dll assembly was included in the root Web.config file in the `assemblies` section under `system.web`/`compilation`.</span></span> <span data-ttu-id="0fa02-233">Aby zwiększyć wydajność, odwołanie do tego zestawu zostało usunięte.</span><span class="sxs-lookup"><span data-stu-id="0fa02-233">To improve performance, the reference to this assembly has been removed.</span></span><br><br><span data-ttu-id="0fa02-234">Uwaga: zestaw System.Web.Mobile.dll i kontrolki ASP.NET Mobile są zawarte w ASP.NET 4, ale są przestarzałe.</span><span class="sxs-lookup"><span data-stu-id="0fa02-234">Note: The System.Web.Mobile.dll assembly and the ASP.NET mobile controls are included in ASP.NET 4, but they are deprecated.</span></span> | <span data-ttu-id="0fa02-235">Jeśli chcesz użyć typów z tego zestawu, Dodaj odwołanie do zestawu w katalogu głównym Web.config lub w pliku Web.config aplikacji.</span><span class="sxs-lookup"><span data-stu-id="0fa02-235">If you want to use types from this assembly, add a reference to the assembly in either the root Web.config file or in an application Web.config file.</span></span> |
| <span data-ttu-id="0fa02-236">**Buforowanie danych wyjściowych**</span><span class="sxs-lookup"><span data-stu-id="0fa02-236">**Output caching**</span></span> | <span data-ttu-id="0fa02-237">W programie ASP.NET 1,0 usterka spowodowała przeprowadzenie zbuforowanych stron, które zostały określone `Location="ServerAndClient"` jako ustawienia wyjściowej &euro; pamięci podręcznej w celu emitowania `Vary:*` nagłówka HTTP w odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="0fa02-237">In ASP.NET 1.0, a bug caused cached pages that specified `Location="ServerAndClient"` as an output&euro;"cache setting to emit a `Vary:*` HTTP header in the response.</span></span> <span data-ttu-id="0fa02-238">Miało to wpływ na to, że przeglądarki klienta nigdy nie buforują strony lokalnie.</span><span class="sxs-lookup"><span data-stu-id="0fa02-238">This had the effect of telling client browsers to never cache the page locally.</span></span> <span data-ttu-id="0fa02-239">W ASP.NET 1,1 <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> Metoda została dodana, która może być wywoływana w celu pomijania `Vary:*` nagłówka.</span><span class="sxs-lookup"><span data-stu-id="0fa02-239">In ASP.NET 1.1, the <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> method was added, which could be called in order to suppress the `Vary:*` header.</span></span> <span data-ttu-id="0fa02-240">Jednak raporty o usterkach sugerują, że deweloperzy nie znają istniejących `SetOmitVaryStar` zachowań.</span><span class="sxs-lookup"><span data-stu-id="0fa02-240">However, bug reports suggest that developers are unaware of the existing `SetOmitVaryStar` behavior.</span></span><br><br><span data-ttu-id="0fa02-241">W ASP.NET 4 `Vary:*` nagłówek HTTP nie jest już emitowany z odpowiedzi, które określają następującą dyrektywę:</span><span class="sxs-lookup"><span data-stu-id="0fa02-241">In ASP.NET 4, the `Vary:*` HTTP header is no longer emitted from responses that specify the following directive:</span></span><br><br>`<%@ OutputCache Location="ServerAndClient" %>`<br><br><span data-ttu-id="0fa02-242">W związku z tym <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> Metoda nie jest już wymagana, aby pominąć `Vary:*` nagłówek.</span><span class="sxs-lookup"><span data-stu-id="0fa02-242">As a result, the <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> method is no longer needed in order to suppress the `Vary:*` header.</span></span> <span data-ttu-id="0fa02-243">W aplikacjach, które określają "ServerAndClient" dla `Location` atrybutu, strony będą w pamięci podręcznej w przeglądarce bez konieczności wywoływania <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> .</span><span class="sxs-lookup"><span data-stu-id="0fa02-243">In applications that specify "ServerAndClient" for the `Location` attribute, pages will be cacheable in the browser without requiring that you call <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A>.</span></span> | <span data-ttu-id="0fa02-244">Jeśli strony w aplikacji muszą emitować `Vary:*` , wywołaj <xref:System.Web.HttpResponse.AppendHeader%2A> metodę, jak pokazano w następującym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="0fa02-244">If pages in the application must emit `Vary:*`, call the <xref:System.Web.HttpResponse.AppendHeader%2A> method as shown in the following example:</span></span><br><br>`System.Web.HttpResponse.AppendHeader("Vary","*");`<br><br><span data-ttu-id="0fa02-245">Alternatywnie można zmienić wartość atrybutu buforowania danych wyjściowych `Location` na "serwer".</span><span class="sxs-lookup"><span data-stu-id="0fa02-245">Alternatively, you can change the value of the output caching `Location` attribute to "Server".</span></span> |
| <span data-ttu-id="0fa02-246">**Analizowanie strony**</span><span class="sxs-lookup"><span data-stu-id="0fa02-246">**Page parsing**</span></span> | <span data-ttu-id="0fa02-247">Analizator stron dla stron sieci Web ASP.NET (pliki. aspx) i kontrolki użytkownika (pliki. ascx) są bardziej rygorystyczne w ASP.NET 4 niż we wcześniejszych wersjach ASP.NET, i flaguje więcej znaczników jako nieprawidłowych niż we wcześniejszych wersjach.</span><span class="sxs-lookup"><span data-stu-id="0fa02-247">The page parser for ASP.NET Web pages (.aspx files) and user controls (.ascx files) is stricter in ASP.NET 4 than in earlier versions of ASP.NET, and it flags more markup as invalid than in earlier versions.</span></span> | <span data-ttu-id="0fa02-248">Badaj komunikaty o błędach, które są generowane, gdy strona jest uruchamiana i naprawia błędy wynikające z nieprawidłowego oznaczenia.</span><span class="sxs-lookup"><span data-stu-id="0fa02-248">Examine error messages that are produced when a page runs and fix errors that result from invalid markup.</span></span> |
| <span data-ttu-id="0fa02-249">**Typy paszportów**</span><span class="sxs-lookup"><span data-stu-id="0fa02-249">**Passport types**</span></span> | <span data-ttu-id="0fa02-250">Obsługa paszportów wbudowana w ASP.NET 2,0 jest przestarzała i nie jest obsługiwana ze względu na zmiany w usłudze Passport (teraz dynamiczny Identyfikator SDK).</span><span class="sxs-lookup"><span data-stu-id="0fa02-250">The Passport support built into ASP.NET 2.0 is obsolete and is unsupported due to changes in Passport (now Live ID SDK).</span></span> <span data-ttu-id="0fa02-251">W związku z tym typy powiązane z paszportem w programie <xref:System.Web.Security> są teraz oznaczone `ObsoleteAttribute` atrybutem.</span><span class="sxs-lookup"><span data-stu-id="0fa02-251">As a result, the types related to Passport in <xref:System.Web.Security> are now marked with the `ObsoleteAttribute` attribute.</span></span> | <span data-ttu-id="0fa02-252">Zmień dowolny kod używający typów paszportów w <xref:System.Web.Security> przestrzeni nazw (na przykład <xref:System.Web.Security.PassportIdentity> ), aby użyć zestawu SDK usługi Windows Live ID.</span><span class="sxs-lookup"><span data-stu-id="0fa02-252">Change any code that uses Passport types in the <xref:System.Web.Security> namespace (for example, <xref:System.Web.Security.PassportIdentity>) to use the Windows Live ID SDK.</span></span> |
| <span data-ttu-id="0fa02-253">**PathInfo informacje we właściwości FilePath**</span><span class="sxs-lookup"><span data-stu-id="0fa02-253">**PathInfo information in the FilePath property**</span></span> | <span data-ttu-id="0fa02-254">ASP.NET 4 nie zawiera już `PathInfo` wartości w zwracanych wartościach z właściwości takich jak <xref:System.Web.HttpRequest.FilePath> , <xref:System.Web.HttpRequest.AppRelativeCurrentExecutionFilePath> , i <xref:System.Web.HttpRequest.CurrentExecutionFilePath> .</span><span class="sxs-lookup"><span data-stu-id="0fa02-254">ASP.NET 4 no longer includes the `PathInfo` value in the return values from properties such as <xref:System.Web.HttpRequest.FilePath>, <xref:System.Web.HttpRequest.AppRelativeCurrentExecutionFilePath>, and <xref:System.Web.HttpRequest.CurrentExecutionFilePath>.</span></span> <span data-ttu-id="0fa02-255">Zamiast tego `PathInfo` informacje są dostępne w <xref:System.Web.HttpRequest.PathInfo> .</span><span class="sxs-lookup"><span data-stu-id="0fa02-255">Instead, the `PathInfo` information is available in <xref:System.Web.HttpRequest.PathInfo>.</span></span> <span data-ttu-id="0fa02-256">Załóżmy na przykład następujący fragment adresu URL:</span><span class="sxs-lookup"><span data-stu-id="0fa02-256">For example, imagine the following URL fragment:</span></span><br><br>`/testapp/Action.mvc/SomeAction`<br><br><span data-ttu-id="0fa02-257">We wcześniejszych wersjach programu ASP.NET <xref:System.Web.HttpRequest> właściwości mają następujące wartości:</span><span class="sxs-lookup"><span data-stu-id="0fa02-257">In earlier versions of ASP.NET, <xref:System.Web.HttpRequest> properties have the following values:</span></span><br><br><span data-ttu-id="0fa02-258">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc/SomeAction`</span><span class="sxs-lookup"><span data-stu-id="0fa02-258">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc/SomeAction`</span></span><br><span data-ttu-id="0fa02-259">\*<xref:System.Web.HttpRequest.PathInfo>: (puste)</span><span class="sxs-lookup"><span data-stu-id="0fa02-259">\* <xref:System.Web.HttpRequest.PathInfo>: (empty)</span></span><br><br><span data-ttu-id="0fa02-260">W ASP.NET 4 <xref:System.Web.HttpRequest> właściwości powinny mieć następujące wartości:</span><span class="sxs-lookup"><span data-stu-id="0fa02-260">In ASP.NET 4, <xref:System.Web.HttpRequest> properties instead have the following values:</span></span><br><br><span data-ttu-id="0fa02-261">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc`</span><span class="sxs-lookup"><span data-stu-id="0fa02-261">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc`</span></span><br><span data-ttu-id="0fa02-262">\* <xref:System.Web.HttpRequest.PathInfo>: `SomeAction`</span><span class="sxs-lookup"><span data-stu-id="0fa02-262">\* <xref:System.Web.HttpRequest.PathInfo>: `SomeAction`</span></span> | <span data-ttu-id="0fa02-263">Sprawdź swój kod dla miejsc, w których opierasz się na właściwościach <xref:System.Web.HttpRequest> klasy do zwracania informacji o ścieżce; Zmień kod, aby odzwierciedlić zmiany w sposobie zwracania informacji o ścieżce.</span><span class="sxs-lookup"><span data-stu-id="0fa02-263">Examine your code for places where you rely on properties of the <xref:System.Web.HttpRequest> class to return path information; change the code to reflect the changes in how path information is returned.</span></span> |
| <span data-ttu-id="0fa02-264">**Żądaj weryfikacji**</span><span class="sxs-lookup"><span data-stu-id="0fa02-264">**Request validation**</span></span> | <span data-ttu-id="0fa02-265">Aby poprawić sprawdzanie poprawności żądań, weryfikacja żądania ASP.NET jest wywoływana wcześniej w cyklu życia żądania.</span><span class="sxs-lookup"><span data-stu-id="0fa02-265">To improve request validation, the ASP.NET request validation is invoked earlier in the request life cycle.</span></span> <span data-ttu-id="0fa02-266">W związku z tym sprawdzanie poprawności żądań jest przeprowadzane w przypadku żądań, które nie są przeznaczone dla plików aspx, na przykład dla wywołań usługi sieci Web i niestandardowych programów obsługi.</span><span class="sxs-lookup"><span data-stu-id="0fa02-266">As a result, request validation runs for requests that are not for .aspx files, such as for Web service calls and for custom handlers.</span></span> <span data-ttu-id="0fa02-267">Sprawdzanie poprawności żądań będzie również aktywne, gdy niestandardowe moduły HTTP działają w potoku przetwarzania żądań.</span><span class="sxs-lookup"><span data-stu-id="0fa02-267">Request validation will also be active when custom HTTP modules are running in the request processing pipeline.</span></span><br><br><span data-ttu-id="0fa02-268">W wyniku tej zmiany żądania dotyczące zasobów innych niż pliki aspx mogą zgłosić błędy walidacji żądania.</span><span class="sxs-lookup"><span data-stu-id="0fa02-268">As a result of this change, requests for resources other than .aspx files might throw request validation errors.</span></span> <span data-ttu-id="0fa02-269">Kod niestandardowy, który jest uruchamiany w potoku żądania (na przykład niestandardowe moduły HTTP), może również generować błędy walidacji żądania.</span><span class="sxs-lookup"><span data-stu-id="0fa02-269">Custom code that runs in the request pipeline (for example, custom HTTP modules) might also throw request validation errors.</span></span> | <span data-ttu-id="0fa02-270">W razie potrzeby można powrócić do starego zachowania dla wszystkich stron aspx wyzwalających weryfikację żądań przy użyciu następującego ustawienia w pliku konfiguracji sieci Web:</span><span class="sxs-lookup"><span data-stu-id="0fa02-270">If necessary, you can revert to the old behavior of having only .aspx pages triggering request validation by using the following setting in the Web configuration file:</span></span><br><br>`<httpRuntime requestValidationMode="2.0" />`<br><br><span data-ttu-id="0fa02-271">Ostrzeżenie: w przypadku przywrócenia starego zachowania upewnij się, że cały kod istniejących programów obsługi, modułów i innego kodu niestandardowego sprawdza potencjalnie niebezpieczne dane wejściowe HTTP, które mogą być nosicielami ataków typu XSS.</span><span class="sxs-lookup"><span data-stu-id="0fa02-271">Warning: If you revert to the old behavior, make sure that all code in existing handlers, modules, and other custom code performs checks for potentially unsafe HTTP inputs that could be XSS attack vectors.</span></span> |
| <span data-ttu-id="0fa02-272">**Routing**</span><span class="sxs-lookup"><span data-stu-id="0fa02-272">**Routing**</span></span> | <span data-ttu-id="0fa02-273">W przypadku tworzenia witryny sieci Web systemu plików w programie Visual Studio 2010, a witryna sieci Web znajduje się w folderze zawierającym kropkę (.) w nazwie folderu, routing adresów URL nie działa w sposób niezawodny.</span><span class="sxs-lookup"><span data-stu-id="0fa02-273">If you create a file system Web site in Visual Studio 2010 and the Web site is in a folder that contains a dot (.) in the folder name, URL routing will not work reliably.</span></span> <span data-ttu-id="0fa02-274">W niektórych ścieżkach wirtualnych jest zwracany błąd HTTP 404.</span><span class="sxs-lookup"><span data-stu-id="0fa02-274">An HTTP 404 error is returned from some virtual paths.</span></span> <span data-ttu-id="0fa02-275">Dzieje się tak, ponieważ program Visual Studio 2010 uruchamia serwer programistyczny programu Visual Studio przy użyciu nieprawidłowej ścieżki dla głównego katalogu wirtualnego.</span><span class="sxs-lookup"><span data-stu-id="0fa02-275">This occurs because Visual Studio 2010 launches the Visual Studio Development Server using an incorrect path for the root virtual directory.</span></span> | <span data-ttu-id="0fa02-276">\* Na stronie **Właściwości** witryny sieci Web opartej na plikach Zmień wartość atrybutu **ścieżka wirtualna** na "/".</span><span class="sxs-lookup"><span data-stu-id="0fa02-276">\* In the **Properties** page for the file-based Web site, change the **Virtual Path** attribute to "/".</span></span><br><br><span data-ttu-id="0fa02-277">-lub-</span><span class="sxs-lookup"><span data-stu-id="0fa02-277">-or-</span></span><br><br><span data-ttu-id="0fa02-278">\*Utwórz projekt aplikacji sieci Web, a nie projekt witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="0fa02-278">\* Create a Web application project instead of a Web site project.</span></span> <span data-ttu-id="0fa02-279">Projekty aplikacji sieci Web nie mają tego problemu, a Routing adresów URL działa nawet wtedy, gdy nazwa folderu projektu jest kropką.</span><span class="sxs-lookup"><span data-stu-id="0fa02-279">Web application projects do not have this issue, and URL routing works even if the project folder has a dot in its name.</span></span><br><br><span data-ttu-id="0fa02-280">-lub-</span><span class="sxs-lookup"><span data-stu-id="0fa02-280">-or-</span></span><br><br><span data-ttu-id="0fa02-281">\*Utwórz witrynę sieci Web opartą na protokole HTTP, która jest hostowana w usługach IIS.</span><span class="sxs-lookup"><span data-stu-id="0fa02-281">\* Create an HTTP-based Web site that is hosted in IIS.</span></span> <span data-ttu-id="0fa02-282">Witryny sieci Web hostowane przez usługi IIS mogą zawierać kropki w ścieżce wirtualnej, a także w folderze plików projektu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-282">IIS-hosted Web sites can have dots in the virtual path as well as in the project file folder.</span></span> |
| <span data-ttu-id="0fa02-283">**Witryny programu SharePoint**</span><span class="sxs-lookup"><span data-stu-id="0fa02-283">**SharePoint sites**</span></span> | <span data-ttu-id="0fa02-284">Jeśli spróbujesz uruchomić witrynę sieci Web ASP.NET 4, która jest wdrażana jako podrzędna witryna sieci Web programu SharePoint, która zawiera niestandardowy poziom zaufania "o nazwie" `WSS_Minimal` , zostanie wyświetlony następujący błąd:</span><span class="sxs-lookup"><span data-stu-id="0fa02-284">If you try to run an ASP.NET 4 Web site that is deployed as a child of a SharePoint Web site that contains a custom partial-trust level named `WSS_Minimal`, you will see the following error:</span></span><br><br>`Could not find permission set named 'ASP.Net'.` | <span data-ttu-id="0fa02-285">Obecnie żadna wersja programu SharePoint nie jest zgodna z ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0fa02-285">Currently, no versions of SharePoint are compatible with ASP.NET.</span></span> <span data-ttu-id="0fa02-286">W związku z tym nie należy próbować uruchamiać witryny sieci Web ASP.NET 4 jako elementu podrzędnego witryny sieci Web programu SharePoint.</span><span class="sxs-lookup"><span data-stu-id="0fa02-286">As a result, you should not attempt to run an ASP.NET 4 Web site as a child of a SharePoint Web site.</span></span> |
| <span data-ttu-id="0fa02-287">**Standardy XHTML 1,1**</span><span class="sxs-lookup"><span data-stu-id="0fa02-287">**XHTML 1.1 standards**</span></span> | <span data-ttu-id="0fa02-288">Aby włączyć zgodność XHTML 1,1 dla nowych witryn sieci Web, formanty ASP.NET w .NET Framework 4 generują kod HTML zgodny z XHTML 1,1.</span><span class="sxs-lookup"><span data-stu-id="0fa02-288">To enable XHTML 1.1 compliance for new Web sites, the ASP.NET controls in .NET Framework 4 will generate XHTML 1.1 compliant HTML.</span></span> <span data-ttu-id="0fa02-289">To renderowanie jest włączone przy użyciu następującej opcji w pliku Web.config wewnątrz `<system.Web>` elementu:</span><span class="sxs-lookup"><span data-stu-id="0fa02-289">This rendering is enabled using the following option in the Web.config file inside the `<system.Web>` element:</span></span><br><br>`<pages controlRenderingCompatibilityVersion="4.0"/>`<br><br><span data-ttu-id="0fa02-290">Ta opcja jest domyślnie ustawiona na 4,0.</span><span class="sxs-lookup"><span data-stu-id="0fa02-290">This option is set by default to 4.0.</span></span> <span data-ttu-id="0fa02-291">Projekty sieci Web, które są uaktualnione z programu Visual Studio 2008, mają włączone ustawienie 3,5.</span><span class="sxs-lookup"><span data-stu-id="0fa02-291">Web projects that are upgraded from Visual Studio 2008 have the 3.5 setting enabled for compatibility.</span></span> | <span data-ttu-id="0fa02-292">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-292">None.</span></span> |

## <a name="core"></a><span data-ttu-id="0fa02-293">Core</span><span class="sxs-lookup"><span data-stu-id="0fa02-293">Core</span></span>

### <a name="general-features"></a><span data-ttu-id="0fa02-294">Funkcje ogólne</span><span class="sxs-lookup"><span data-stu-id="0fa02-294">General features</span></span>

| <span data-ttu-id="0fa02-295">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-295">Feature</span></span> | <span data-ttu-id="0fa02-296">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-296">Differences from 3.5 SP1</span></span> | <span data-ttu-id="0fa02-297">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="0fa02-297">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="0fa02-298">**CardSpace**</span><span class="sxs-lookup"><span data-stu-id="0fa02-298">**CardSpace**</span></span> | <span data-ttu-id="0fa02-299">Windows CardSpace nie jest już uwzględniony w .NET Framework; jest on dostarczany osobno.</span><span class="sxs-lookup"><span data-stu-id="0fa02-299">Windows CardSpace is no longer included in .NET Framework; it is provided separately.</span></span> | <span data-ttu-id="0fa02-300">Pobierz program Windows CardSpace z [Centrum pobierania Microsoft](https://go.microsoft.com/fwlink/?LinkId=199868).</span><span class="sxs-lookup"><span data-stu-id="0fa02-300">Download Windows CardSpace from the [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=199868).</span></span> |
| <span data-ttu-id="0fa02-301">**Pliki konfiguracji**</span><span class="sxs-lookup"><span data-stu-id="0fa02-301">**Configuration files**</span></span> | <span data-ttu-id="0fa02-302">Wprowadzono poprawki dotyczące sposobu, w jaki .NET Framework uzyskać dostęp do plików konfiguracji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="0fa02-302">Corrections have been made in how .NET Framework accesses application configuration files.</span></span> | <span data-ttu-id="0fa02-303">Jeśli plik konfiguracyjny aplikacji ma nazwę *application-name.config*, zmień go na *application-name.exe.config*. Na przykład zmień nazwę *MyApp.config* na *MyApp.exe.config*.</span><span class="sxs-lookup"><span data-stu-id="0fa02-303">If your application configuration file is named *application-name.config*, rename it to *application-name.exe.config*. For example, rename *MyApp.config* to *MyApp.exe.config*.</span></span> |
| <span data-ttu-id="0fa02-304">**Kompilator kodu C#**</span><span class="sxs-lookup"><span data-stu-id="0fa02-304">**C# code compiler**</span></span> | <span data-ttu-id="0fa02-305">`Compiler`Klasy, `CompilerError` i, `ErrorLevel` które znajdowały się w <xref:Microsoft.CSharp> przestrzeni nazw, nie są już dostępne, a ich zestawy (cscompmgd.dll) nie są już uwzględnione w .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="0fa02-305">The `Compiler`, `CompilerError`, and `ErrorLevel` classes that were in the <xref:Microsoft.CSharp> namespace are no longer available, and their assembly (cscompmgd.dll) is no longer included in .NET Framework.</span></span> | <span data-ttu-id="0fa02-306">Użyj <xref:System.CodeDom.Compiler.CodeDomProvider> klasy i innych klas w <xref:System.CodeDom.Compiler> przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="0fa02-306">Use the <xref:System.CodeDom.Compiler.CodeDomProvider> class and other classes in the <xref:System.CodeDom.Compiler> namespace.</span></span> <span data-ttu-id="0fa02-307">Aby uzyskać więcej informacji, zobacz [użycie CodeDOM](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/y2k85ax6%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="0fa02-307">For more information, see [Using the CodeDOM](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/y2k85ax6%28v=vs.100%29).</span></span> |
| <span data-ttu-id="0fa02-308">**Hosting** (Niezarządzany interfejs API)</span><span class="sxs-lookup"><span data-stu-id="0fa02-308">**Hosting** (unmanaged API)</span></span> | <span data-ttu-id="0fa02-309">Aby zwiększyć możliwości hostingu, niektóre interfejsy API aktywacji hostingu są przestarzałe.</span><span class="sxs-lookup"><span data-stu-id="0fa02-309">To improve hosting capabilities, some of the hosting activation APIs have been deprecated.</span></span> <span data-ttu-id="0fa02-310">Wbudowane funkcje wykonywania równoczesnego umożliwiają aplikacji ładowanie i uruchamianie wielu wersji .NET Framework w tym samym procesie.</span><span class="sxs-lookup"><span data-stu-id="0fa02-310">In-process side-by-side execution features enable an application to load and start multiple versions of .NET Framework in the same process.</span></span> <span data-ttu-id="0fa02-311">Na przykład można uruchamiać aplikacje, które ładują Dodatki (lub składniki), które są oparte na .NET Framework 2,0 z dodatkiem SP1 i dodatkach opartych na .NET Framework 4 w tym samym procesie.</span><span class="sxs-lookup"><span data-stu-id="0fa02-311">For example, you can run applications that load add-ins (or components) that are based on .NET Framework 2.0 SP1 and add-ins that are based on .NET Framework 4 in the same process.</span></span> <span data-ttu-id="0fa02-312">Starsze składniki nadal korzystają ze starszej wersji .NET Framework, a nowe składniki używają nowej wersji .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="0fa02-312">Older components continue to use the older .NET Framework version, and new components use the new .NET Framework version.</span></span> | <span data-ttu-id="0fa02-313">Użyj konfiguracji opisanych w [procesie wykonywania równoczesnego](../deployment/in-process-side-by-side-execution.md).</span><span class="sxs-lookup"><span data-stu-id="0fa02-313">Use the configurations described in [In-Process Side-by-Side Execution](../deployment/in-process-side-by-side-execution.md).</span></span> |
| <span data-ttu-id="0fa02-314">**Nowy model zabezpieczeń**</span><span class="sxs-lookup"><span data-stu-id="0fa02-314">**New security model**</span></span> | <span data-ttu-id="0fa02-315">Zasady zabezpieczeń dostępu kodu (CAS) zostały wyłączone i zastąpione uproszczonym modelem, zgodnie z opisem w temacie [zmiany zabezpieczeń w .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd233103%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="0fa02-315">The code access security (CAS) policy has been turned off and replaced with a simplified model, as described in [Security Changes in .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd233103%28v=vs.100%29).</span></span> | <span data-ttu-id="0fa02-316">Zmiany mogą być wymagane, jeśli są zależne od urzędów certyfikacji w aplikacjach.</span><span class="sxs-lookup"><span data-stu-id="0fa02-316">Modifications may be required if you depend on CAS in your applications.</span></span> <span data-ttu-id="0fa02-317">Aby uzyskać więcej informacji, zobacz temat [zgodność i migracja zasad zabezpieczeń dostępu kodu](../misc/code-access-security-policy-compatibility-and-migration.md).</span><span class="sxs-lookup"><span data-stu-id="0fa02-317">For more information, see [Code Access Security Policy Compatibility and Migration](../misc/code-access-security-policy-compatibility-and-migration.md).</span></span> |

### <a name="date-and-time"></a><span data-ttu-id="0fa02-318">Data i godzina</span><span class="sxs-lookup"><span data-stu-id="0fa02-318">Date and time</span></span>

<span data-ttu-id="0fa02-319">Obszaru<xref:System></span><span class="sxs-lookup"><span data-stu-id="0fa02-319">Namespace: <xref:System></span></span>

<span data-ttu-id="0fa02-320">Zestaw: mscorlib (w mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="0fa02-320">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="0fa02-321">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-321">Feature</span></span> | <span data-ttu-id="0fa02-322">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-322">Differences from 3.5 SP1</span></span> | <span data-ttu-id="0fa02-323">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="0fa02-323">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="0fa02-324">**Oszczędności czasu letniego**</span><span class="sxs-lookup"><span data-stu-id="0fa02-324">**Daylight savings**</span></span> | <span data-ttu-id="0fa02-325">Aby zachować spójność z zegarem systemowym, właściwościami czasu (na przykład <xref:System.TimeZoneInfo.Local> i <xref:System.DateTime.Now> ) używają teraz reguł systemu operacyjnego zamiast innych .NET Framework danych dla operacji czasu letniego.</span><span class="sxs-lookup"><span data-stu-id="0fa02-325">To be consistent with the system clock, time properties (such as <xref:System.TimeZoneInfo.Local> and <xref:System.DateTime.Now>) now use operating system rules instead of other .NET Framework data for daylight saving time operations.</span></span> | <span data-ttu-id="0fa02-326">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-326">None.</span></span> |
| <span data-ttu-id="0fa02-327">**Formatowanie ciągów**</span><span class="sxs-lookup"><span data-stu-id="0fa02-327">**Formatting strings**</span></span> | <span data-ttu-id="0fa02-328">Aby zapewnić obsługę formatowania z uwzględnieniem kultur, <xref:System.TimeSpan> Struktura obejmuje nowe przeciążenia `ToString` metod, `Parse` i, `TryParse` oprócz nowych `ParseExact` i `TryParseExact` metod.</span><span class="sxs-lookup"><span data-stu-id="0fa02-328">To support culture-sensitive formatting, the <xref:System.TimeSpan> structure includes new overloads of the `ToString`, `Parse`, and `TryParse` methods in addition to new `ParseExact` and `TryParseExact` methods.</span></span> | <span data-ttu-id="0fa02-329">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-329">None.</span></span> |

### <a name="globalization"></a><span data-ttu-id="0fa02-330">Globalizacja</span><span class="sxs-lookup"><span data-stu-id="0fa02-330">Globalization</span></span>

<span data-ttu-id="0fa02-331">Aby zapoznać się z listą nowych kultur neutralnych i specyficznych, zobacz [co nowego w globalizacji i lokalizacji](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd997383%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="0fa02-331">For a list of new neutral and specific cultures, see [What's New in Globalization and Localization](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd997383%28v=vs.100%29).</span></span>

<span data-ttu-id="0fa02-332">Obszaru<xref:System.Globalization></span><span class="sxs-lookup"><span data-stu-id="0fa02-332">Namespace: <xref:System.Globalization></span></span>

<span data-ttu-id="0fa02-333">Zestaw: mscorlib (w mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="0fa02-333">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="0fa02-334">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-334">Feature</span></span> | <span data-ttu-id="0fa02-335">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-335">Differences from 3.5 SP1</span></span> | <span data-ttu-id="0fa02-336">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="0fa02-336">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="0fa02-337">**Nazwy kultur**</span><span class="sxs-lookup"><span data-stu-id="0fa02-337">**Culture names**</span></span> | <span data-ttu-id="0fa02-338">Następujące zmiany nazw mają wpływ na kulturę niemiecką, malediwski i Afrykańskią:</span><span class="sxs-lookup"><span data-stu-id="0fa02-338">The following name changes affect the German, Divehi, and African cultures:</span></span><br><br><span data-ttu-id="0fa02-339">\*<xref:System.Globalization.CultureAndRegionInfoBuilder.CurrencyEnglishName>: Nazwa waluty dla kultury niemieckiej (Szwajcaria) (de-ch) została zmieniona z "sFr".</span><span class="sxs-lookup"><span data-stu-id="0fa02-339">\* <xref:System.Globalization.CultureAndRegionInfoBuilder.CurrencyEnglishName>: The currency name for the German (Switzerland) (de-CH) culture has changed from "sFr."</span></span> <span data-ttu-id="0fa02-340">na "fr".</span><span class="sxs-lookup"><span data-stu-id="0fa02-340">to "Fr.".</span></span><br><span data-ttu-id="0fa02-341">\*<xref:System.Globalization.DateTimeFormatInfo.LongDatePattern>: Wzorzec daty długiej dla kultury Malediwski (Malediwy) (z DV-MV) został zmieniony z "dd/MMMM/RRRR" na "dd/mm/rrrr".</span><span class="sxs-lookup"><span data-stu-id="0fa02-341">\* <xref:System.Globalization.DateTimeFormatInfo.LongDatePattern>: The long date pattern for the Divehi (Maldives) (dv-MV) culture has changed from "dd/MMMM/yyyy" to "dd/MM/yyyy".</span></span><br><span data-ttu-id="0fa02-342">\*<xref:System.Globalization.DateTimeFormatInfo.PMDesignator>: P.M.</span><span class="sxs-lookup"><span data-stu-id="0fa02-342">\* <xref:System.Globalization.DateTimeFormatInfo.PMDesignator>: The P.M.</span></span> <span data-ttu-id="0fa02-343">oznaczenie kultury Afrikaans (Republika Południowej Afryki) (AF-w) zostało zmienione z "nm" na "PM".</span><span class="sxs-lookup"><span data-stu-id="0fa02-343">designator of the Afrikaans (South Africa) (af-ZA) culture has changed from "nm" to "PM".</span></span> | <span data-ttu-id="0fa02-344">Zwróć uwagę na zmiany nazw kultur.</span><span class="sxs-lookup"><span data-stu-id="0fa02-344">Note culture name changes.</span></span> |
| <span data-ttu-id="0fa02-345">**Parametr LCID**</span><span class="sxs-lookup"><span data-stu-id="0fa02-345">**LCID parameter**</span></span> | <span data-ttu-id="0fa02-346">Aby zachować zgodność z oczekiwanym zachowaniem w ustawieniach serwera automatyzacji, środowisko CLR nie przekazuje już bieżącej kultury dla `LCID` parametru do niezarządzanych aplikacji opartych na modelu com.</span><span class="sxs-lookup"><span data-stu-id="0fa02-346">To be consistent with expected behavior in automation server settings, the CLR no longer passes the current culture for the `LCID` parameter to unmanaged COM-based applications.</span></span> <span data-ttu-id="0fa02-347">Zamiast tego przechodzą 1033 (EN-US) dla kultury.</span><span class="sxs-lookup"><span data-stu-id="0fa02-347">Instead, it passes 1033 (en-us) for the culture.</span></span> | <span data-ttu-id="0fa02-348">Nie trzeba modyfikować żadnych modyfikacji z wyjątkiem aplikacji natywnych, które wymagają określonej kultury.</span><span class="sxs-lookup"><span data-stu-id="0fa02-348">No modifications necessary except for native applications that require a specified culture.</span></span> |
| <span data-ttu-id="0fa02-349">**Przestarzałe typy kultur**</span><span class="sxs-lookup"><span data-stu-id="0fa02-349">**Obsolete culture types**</span></span> | <span data-ttu-id="0fa02-350"><xref:System.Globalization.CultureTypes> <xref:System.Globalization.CultureTypes> Typy kultur i są obecnie przestarzałe.</span><span class="sxs-lookup"><span data-stu-id="0fa02-350">The <xref:System.Globalization.CultureTypes> and <xref:System.Globalization.CultureTypes> culture types are now obsolete.</span></span><br><br><span data-ttu-id="0fa02-351">W celu zapewnienia zgodności z poprzednimi wersjami <xref:System.Globalization.CultureTypes> zwraca teraz neutralną i charakterystyczną kulturę, która została uwzględniona w poprzednim .NET Framework i <xref:System.Globalization.CultureTypes> teraz zwraca listę pustą.</span><span class="sxs-lookup"><span data-stu-id="0fa02-351">For backward compatibility, <xref:System.Globalization.CultureTypes> now returns neutral and specific cultures that were included with the previous .NET Framework, and <xref:System.Globalization.CultureTypes> now returns an empty list.</span></span> | <span data-ttu-id="0fa02-352">Użyj innych wartości <xref:System.Globalization.CultureTypes> wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="0fa02-352">Use other values of the <xref:System.Globalization.CultureTypes> enumeration.</span></span> |
| <span data-ttu-id="0fa02-353">**Pobieranie kultury**</span><span class="sxs-lookup"><span data-stu-id="0fa02-353">**Retrieving culture**</span></span> | <span data-ttu-id="0fa02-354">Począwszy od systemu Windows 7, .NET Framework 4 pobiera informacje o kulturze z systemu operacyjnego, zamiast przechowywać same dane.</span><span class="sxs-lookup"><span data-stu-id="0fa02-354">Beginning with Windows 7, .NET Framework 4 retrieves culture information from the operating system instead of storing the data itself.</span></span> <span data-ttu-id="0fa02-355">Ponadto .NET Framework synchronizuje się z systemem Windows w celu sortowania i znakowania danych.</span><span class="sxs-lookup"><span data-stu-id="0fa02-355">In addition, .NET Framework synchronizes with Windows for sorting and casing data.</span></span> | <span data-ttu-id="0fa02-356">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-356">None.</span></span> |
| <span data-ttu-id="0fa02-357">**Standardy Unicode 5,1**</span><span class="sxs-lookup"><span data-stu-id="0fa02-357">**Unicode 5.1 standards**</span></span> | <span data-ttu-id="0fa02-358">.NET Framework obsługuje teraz wszystkie znaki Unicode 5,1--dodanie około 1400 znaków.</span><span class="sxs-lookup"><span data-stu-id="0fa02-358">.NET Framework now supports all Unicode 5.1 characters -- an addition of approximately 1400 characters.</span></span> <span data-ttu-id="0fa02-359">Dodatkowe znaki to nowe symbole, strzałki, znaki diakrytyczne, interpunkcja, symbole matematyczne, pociągnięcia i ideogramy CJK, dodatkowe znaki w języku malajalam i telugu oraz różne znaki Myanmar, łaciński, arabski, grecki, mongolski i cyrylica.</span><span class="sxs-lookup"><span data-stu-id="0fa02-359">The additional characters include new symbols, arrows, diacritics, punctuation, mathematical symbols, CJK strokes and ideographs, additional Malayalam and Telugu numeric characters, and various Myanmar, Latin, Arabic, Greek, Mongolian, and Cyrillic characters.</span></span> <span data-ttu-id="0fa02-360">Następujące nowe skrypty są obsługiwane w standardzie Unicode 5,1: Sundanese, Lepcha, OL Chiki, Vai, saurashtra, Kayah li, Rejang, Gurmukhi, Odia,</span><span class="sxs-lookup"><span data-stu-id="0fa02-360">The following new scripts are supported with Unicode 5.1: Sundanese, Lepcha, Ol Chiki, Vai, Saurashtra, Kayah Li, Rejang, Gurmukhi, Odia, Tamil, Telugu, and Malayalam characters and Cham.</span></span> | <span data-ttu-id="0fa02-361">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-361">None.</span></span> |

### <a name="exceptions"></a><span data-ttu-id="0fa02-362">Wyjątki</span><span class="sxs-lookup"><span data-stu-id="0fa02-362">Exceptions</span></span>

<span data-ttu-id="0fa02-363">Przestrzenie nazw: <xref:System> ,<xref:System.Runtime.ExceptionServices></span><span class="sxs-lookup"><span data-stu-id="0fa02-363">Namespaces: <xref:System>, <xref:System.Runtime.ExceptionServices></span></span>

<span data-ttu-id="0fa02-364">Zestaw: mscorlib (w mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="0fa02-364">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="0fa02-365">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-365">Feature</span></span> | <span data-ttu-id="0fa02-366">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-366">Differences from 3.5 SP1</span></span> | <span data-ttu-id="0fa02-367">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="0fa02-367">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="0fa02-368">**Wyjątki dotyczące uszkodzonego stanu procesu**</span><span class="sxs-lookup"><span data-stu-id="0fa02-368">**Exceptions for corrupted process state**</span></span> | <span data-ttu-id="0fa02-369">Środowisko CLR nie dostarcza już wyjątków dla uszkodzonego stanu procesu do obsługi wyjątków w kodzie zarządzanym.</span><span class="sxs-lookup"><span data-stu-id="0fa02-369">The CLR no longer delivers exceptions for corrupted process state to exception handlers in managed code.</span></span> | <span data-ttu-id="0fa02-370">Te wyjątki wskazują, że stan procesu został uszkodzony.</span><span class="sxs-lookup"><span data-stu-id="0fa02-370">These exceptions indicate that the state of a process has been corrupted.</span></span> <span data-ttu-id="0fa02-371">Nie zalecamy uruchamiania aplikacji w tym stanie.</span><span class="sxs-lookup"><span data-stu-id="0fa02-371">We do not recommend that you run your application in this state.</span></span><br><br><span data-ttu-id="0fa02-372">Aby uzyskać więcej informacji, zapoznaj się z <xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute> [wyjątkami dotyczącymi stanu uszkodzonych Stanów](https://docs.microsoft.com/archive/msdn-magazine/2009/february/clr-inside-out-handling-corrupted-state-exceptions) w magazynie MSDN.</span><span class="sxs-lookup"><span data-stu-id="0fa02-372">For more information, see the <xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute> and the entry [Handling Corrupted State Exceptions](https://docs.microsoft.com/archive/msdn-magazine/2009/february/clr-inside-out-handling-corrupted-state-exceptions) in the MSDN magazine.</span></span> |
| <span data-ttu-id="0fa02-373">**Wyjątki aparatu wykonywania**</span><span class="sxs-lookup"><span data-stu-id="0fa02-373">**Execution engine exceptions**</span></span> | <span data-ttu-id="0fa02-374"><xref:System.ExecutionEngineException>jest obecnie przestarzały, ponieważ możliwe do przechwycenia wyjątek umożliwi kontynuowanie działania procesu niestabilnego.</span><span class="sxs-lookup"><span data-stu-id="0fa02-374"><xref:System.ExecutionEngineException> is now obsolete, because a catchable exception will allow an unstable process to continue to run.</span></span> <span data-ttu-id="0fa02-375">Ta zmiana poprawia przewidywalność i niezawodność w środowisku uruchomieniowym.</span><span class="sxs-lookup"><span data-stu-id="0fa02-375">This change improves predictability and reliability in the runtime.</span></span> | <span data-ttu-id="0fa02-376">Użyj, <xref:System.InvalidOperationException> Aby sygnalizować warunek.</span><span class="sxs-lookup"><span data-stu-id="0fa02-376">Use an <xref:System.InvalidOperationException> to signal the condition.</span></span> |

### <a name="reflection"></a><span data-ttu-id="0fa02-377">Odbicie</span><span class="sxs-lookup"><span data-stu-id="0fa02-377">Reflection</span></span>

<span data-ttu-id="0fa02-378">Obszaru<xref:System.Reflection></span><span class="sxs-lookup"><span data-stu-id="0fa02-378">Namespace: <xref:System.Reflection></span></span>

<span data-ttu-id="0fa02-379">Zestaw: mscorlib (w mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="0fa02-379">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="0fa02-380">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-380">Feature</span></span> | <span data-ttu-id="0fa02-381">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-381">Differences from 3.5 SP1</span></span> | <span data-ttu-id="0fa02-382">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="0fa02-382">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="0fa02-383">**Algorytmy skrótu zestawu**</span><span class="sxs-lookup"><span data-stu-id="0fa02-383">**Assembly hash algorithms**</span></span> | <span data-ttu-id="0fa02-384"><xref:System.Reflection.AssemblyName.HashAlgorithm>Właściwość zwraca teraz <xref:System.Configuration.Assemblies.AssemblyHashAlgorithm> , ponieważ środowisko uruchomieniowe nie zna algorytmu wyznaczania wartości skrótu przywoływanego zestawu, gdy zestaw nie jest załadowany.</span><span class="sxs-lookup"><span data-stu-id="0fa02-384">The <xref:System.Reflection.AssemblyName.HashAlgorithm> property now returns <xref:System.Configuration.Assemblies.AssemblyHashAlgorithm>, because the runtime does not know the hash algorithm of the referenced assembly when the assembly is not loaded.</span></span> <span data-ttu-id="0fa02-385">(Dotyczy to użycia właściwości w przywoływanym zestawie, takiej jak zwracany przez <xref:System.Reflection.Assembly.GetReferencedAssemblies%2A> metodę).</span><span class="sxs-lookup"><span data-stu-id="0fa02-385">(This refers to using the property on a referenced assembly such as that returned by the <xref:System.Reflection.Assembly.GetReferencedAssemblies%2A> method.)</span></span> | <span data-ttu-id="0fa02-386">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-386">None.</span></span> |
| <span data-ttu-id="0fa02-387">**Ładowanie zestawu**</span><span class="sxs-lookup"><span data-stu-id="0fa02-387">**Assembly loading**</span></span> | <span data-ttu-id="0fa02-388">Aby uniknąć nadmiarowego ładowania zestawów i zapisywania wirtualnej przestrzeni adresowej, środowisko CLR ładuje teraz zestawy za pomocą tylko `MapViewOfFile` funkcji Win32.</span><span class="sxs-lookup"><span data-stu-id="0fa02-388">To prevent redundant loading of assemblies and to save virtual address space, the CLR now loads assemblies by using only the Win32 `MapViewOfFile` function.</span></span> <span data-ttu-id="0fa02-389">Nie wywołuje już również `LoadLibrary` funkcji.</span><span class="sxs-lookup"><span data-stu-id="0fa02-389">It no longer also calls the `LoadLibrary` function.</span></span><br><br><span data-ttu-id="0fa02-390">Ta zmiana wpływa na aplikacje diagnostyczne w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="0fa02-390">This change affects diagnostic applications in the following ways:</span></span><br><br><span data-ttu-id="0fa02-391">\*Program <xref:System.Diagnostics.ProcessModuleCollection> nie będzie już zawierał żadnych modułów z biblioteki klas (plik. dll) uzyskanych z wywołania do `Process.GetCurrentProcess().Modules` .</span><span class="sxs-lookup"><span data-stu-id="0fa02-391">\* A <xref:System.Diagnostics.ProcessModuleCollection> will no longer contain any modules from a class library (.dll file), as obtained from a call to `Process.GetCurrentProcess().Modules`.</span></span><br><span data-ttu-id="0fa02-392">\*Aplikacje Win32 używające `EnumProcessModules` funkcji nie będą widziały wszystkich wymienionych modułów zarządzanych.</span><span class="sxs-lookup"><span data-stu-id="0fa02-392">\* Win32 applications that use the `EnumProcessModules` function will not see all managed modules listed.</span></span> | <span data-ttu-id="0fa02-393">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-393">None.</span></span> |
| <span data-ttu-id="0fa02-394">**Typ deklarujący**</span><span class="sxs-lookup"><span data-stu-id="0fa02-394">**Declaring type**</span></span> | <span data-ttu-id="0fa02-395"><xref:System.Type.DeclaringType>Teraz Właściwość zwraca wartość null, jeśli typ nie ma typu deklarującego.</span><span class="sxs-lookup"><span data-stu-id="0fa02-395">The <xref:System.Type.DeclaringType> property now correctly returns null when the type does not have a declaring type.</span></span> | <span data-ttu-id="0fa02-396">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-396">None.</span></span> |
| <span data-ttu-id="0fa02-397">**Delegaci**</span><span class="sxs-lookup"><span data-stu-id="0fa02-397">**Delegates**</span></span> | <span data-ttu-id="0fa02-398">Delegat teraz zgłasza <xref:System.ArgumentNullException> zamiast elementu, <xref:System.NullReferenceException> gdy wartość null jest przenoszona do konstruktora delegata.</span><span class="sxs-lookup"><span data-stu-id="0fa02-398">A delegate now throws an <xref:System.ArgumentNullException> instead of a <xref:System.NullReferenceException> when a null value is passed to the delegate's constructor.</span></span> | <span data-ttu-id="0fa02-399">Upewnij się, że jakakolwiek obsługa wyjątków przechwytuje <xref:System.ArgumentNullException> .</span><span class="sxs-lookup"><span data-stu-id="0fa02-399">Ensure that any exception handling catches <xref:System.ArgumentNullException>.</span></span> |
| <span data-ttu-id="0fa02-400">**Zmiana lokalizacji globalnej pamięci podręcznej zestawów**</span><span class="sxs-lookup"><span data-stu-id="0fa02-400">**Global assembly cache location change**</span></span> | <span data-ttu-id="0fa02-401">W przypadku zestawów .NET Framework 4 globalna pamięć podręczna zestawów została przeniesiona z katalogu systemu Windows (% WINDIR%) do podkatalogu Microsoft.Net (*% windir% \\ Microsoft.NET*).</span><span class="sxs-lookup"><span data-stu-id="0fa02-401">For .NET Framework 4 assemblies, the global assembly cache has been moved from the Windows directory (%WINDIR%) to the Microsoft.Net subdirectory (*%WINDIR%\\Microsoft.Net*).</span></span> <span data-ttu-id="0fa02-402">Zestawy z wcześniejszych wersji pozostają w starszym katalogu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-402">Assemblies from earlier versions remain in the older directory.</span></span><br><br><span data-ttu-id="0fa02-403">Niezarządzana Wyliczenie [ASM_CACHE_FLAGS](../unmanaged-api/fusion/asm-cache-flags-enumeration.md) zawiera nową `ASM_CACHE_ROOT_EX` flagę.</span><span class="sxs-lookup"><span data-stu-id="0fa02-403">The unmanaged [ASM_CACHE_FLAGS](../unmanaged-api/fusion/asm-cache-flags-enumeration.md) enumeration contains the new `ASM_CACHE_ROOT_EX` flag.</span></span> <span data-ttu-id="0fa02-404">Ta flaga Pobiera lokalizację pamięci podręcznej dla zestawów .NET Framework 4, które mogą być uzyskane przez funkcję [GetCachePath —](../unmanaged-api/fusion/getcachepath-function.md) .</span><span class="sxs-lookup"><span data-stu-id="0fa02-404">This flag gets the cache location for .NET Framework 4 assemblies, which can be obtained by the [GetCachePath](../unmanaged-api/fusion/getcachepath-function.md) function.</span></span> | <span data-ttu-id="0fa02-405">Brak, przy założeniu, że aplikacje nie używają jawnych ścieżek do zestawów, które nie są zalecanymi rozwiązaniami.</span><span class="sxs-lookup"><span data-stu-id="0fa02-405">None, assuming that applications do not use explicit paths to assemblies, which is not a recommended practice.</span></span> |
| <span data-ttu-id="0fa02-406">**Narzędzie globalnej pamięci podręcznej zestawów**</span><span class="sxs-lookup"><span data-stu-id="0fa02-406">**Global assembly cache tool**</span></span> | <span data-ttu-id="0fa02-407">[Gacutil.exe (Global Assembly Cache Tool)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ex0ss12c%28v=vs.100%29) nie obsługuje już podglądu wtyczki powłoki.</span><span class="sxs-lookup"><span data-stu-id="0fa02-407">The [Gacutil.exe (Global Assembly Cache Tool)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ex0ss12c%28v=vs.100%29) no longer supports the shell plugin viewer.</span></span> | <span data-ttu-id="0fa02-408">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-408">None.</span></span> |

### <a name="interoperability"></a><span data-ttu-id="0fa02-409">Współdziałanie</span><span class="sxs-lookup"><span data-stu-id="0fa02-409">Interoperability</span></span>

<span data-ttu-id="0fa02-410">Obszaru<xref:System.Runtime.InteropServices></span><span class="sxs-lookup"><span data-stu-id="0fa02-410">Namespace: <xref:System.Runtime.InteropServices></span></span>

<span data-ttu-id="0fa02-411">Zestaw: mscorlib (w mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="0fa02-411">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="0fa02-412">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-412">Feature</span></span> | <span data-ttu-id="0fa02-413">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-413">Differences from 3.5 SP1</span></span> | <span data-ttu-id="0fa02-414">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="0fa02-414">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="0fa02-415">**Długość buforu** (Niezarządzany interfejs API)</span><span class="sxs-lookup"><span data-stu-id="0fa02-415">**Buffer length** (unmanaged API)</span></span> | <span data-ttu-id="0fa02-416">Aby zaoszczędzić pamięć, funkcjonalność dla `pBufferLengthOffset` parametru metody [ICorProfilerInfo2:: GetStringLayout —](../unmanaged-api/profiling/icorprofilerinfo2-getstringlayout-method.md) została zmieniona w taki sposób, aby pasowała do `pStringLengthOffset` parametru.</span><span class="sxs-lookup"><span data-stu-id="0fa02-416">To save memory, the functionality for the `pBufferLengthOffset` parameter for the [ICorProfilerInfo2::GetStringLayout](../unmanaged-api/profiling/icorprofilerinfo2-getstringlayout-method.md) method has been changed to match the `pStringLengthOffset` parameter.</span></span> <span data-ttu-id="0fa02-417">Oba parametry teraz wskazują lokalizację przesunięcia długości ciągu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-417">Both parameters now point to the offset location of the string's length.</span></span> <span data-ttu-id="0fa02-418">Długość buforu została usunięta z reprezentacji klasy String.</span><span class="sxs-lookup"><span data-stu-id="0fa02-418">Buffer length has been removed from the representation of the string class.</span></span> | <span data-ttu-id="0fa02-419">Usuń każdą zależność od długości buforu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-419">Remove any dependency on the buffer length.</span></span> |
| <span data-ttu-id="0fa02-420">**Debugowanie JIT**</span><span class="sxs-lookup"><span data-stu-id="0fa02-420">**JIT debugging**</span></span> | <span data-ttu-id="0fa02-421">Aby uprościć rejestrację dla debugowania just-in-Time (JIT), debuger .NET Framework używa teraz tylko klucza rejestru AeDebug, który kontroluje zachowanie debugowania JIT dla kodu natywnego.</span><span class="sxs-lookup"><span data-stu-id="0fa02-421">To simplify registration for just-in-time (JIT) debugging, the .NET Framework debugger now uses only the AeDebug registry key, which controls the JIT debugging behavior for native code.</span></span> <span data-ttu-id="0fa02-422">Spowoduje to następujące zmiany:</span><span class="sxs-lookup"><span data-stu-id="0fa02-422">This change results in the following:</span></span><br><br><span data-ttu-id="0fa02-423">\*Nie można już rejestrować dwóch różnych debugerów dla kodu zarządzanego i natywnego.</span><span class="sxs-lookup"><span data-stu-id="0fa02-423">\* You can no longer register two different debuggers for managed and native code.</span></span><br><span data-ttu-id="0fa02-424">\*Nie można już automatycznie uruchamiać debugera dla procesu nieinteraktywnego, ale możesz monitować użytkownika o proces interaktywny.</span><span class="sxs-lookup"><span data-stu-id="0fa02-424">\* You can no longer start the debugger automatically for a non-interactive process, but you can prompt the user for an interactive process.</span></span><br><span data-ttu-id="0fa02-425">\*Nie jest już powiadamiany, gdy uruchomienie debugera nie powiedzie się lub gdy nie ma żadnego zarejestrowanego debugera, który powinien zostać uruchomiony.</span><span class="sxs-lookup"><span data-stu-id="0fa02-425">\* You are no longer notified when the debugger fails to start, or when there is no registered debugger that should be started.</span></span><br><span data-ttu-id="0fa02-426">\*Zasady autostartu, które są zależne od interakcji z aplikacją, nie są już obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="0fa02-426">\* Auto-launch policies that depend on the interactivity of the application are no longer supported.</span></span> | <span data-ttu-id="0fa02-427">Dostosuj operacje debugowania zgodnie z potrzebami.</span><span class="sxs-lookup"><span data-stu-id="0fa02-427">Adjust debugging operations as required.</span></span> |
| <span data-ttu-id="0fa02-428">**Wywołanie platformy**</span><span class="sxs-lookup"><span data-stu-id="0fa02-428">**Platform invoke**</span></span> | <span data-ttu-id="0fa02-429">Aby zwiększyć wydajność w przypadku współdziałania z kodem niezarządzanym, nieprawidłowe konwencje wywoływania w wywołaniu platformy powodują, że aplikacja nie powiedzie się.</span><span class="sxs-lookup"><span data-stu-id="0fa02-429">To improve performance in interoperability with unmanaged code, incorrect calling conventions in a platform invoke now cause the application to fail.</span></span> <span data-ttu-id="0fa02-430">W poprzednich wersjach warstwa kierująca rozwiązała te błędy w górę stosu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-430">In previous versions, the marshaling layer resolved these errors up the stack.</span></span> | <span data-ttu-id="0fa02-431">Debugowanie aplikacji w programie Microsoft Visual Studio ostrzega o tych błędach, aby można było je poprawić.</span><span class="sxs-lookup"><span data-stu-id="0fa02-431">Debugging your applications in Microsoft Visual Studio alerts you to these errors so you can correct them.</span></span><br><br><span data-ttu-id="0fa02-432">Jeśli masz dane binarne, których nie można zaktualizować, możesz dołączyć [\<NetFx40_PInvokeStackResilience>](../configure-apps/file-schema/runtime/netfx40-pinvokestackresilience-element.md) element w pliku konfiguracyjnym aplikacji, aby umożliwić rozliczenie błędów wywoływania stosu, jak w poprzednich wersjach.</span><span class="sxs-lookup"><span data-stu-id="0fa02-432">If you have binaries that cannot be updated, you can include the [\<NetFx40_PInvokeStackResilience>](../configure-apps/file-schema/runtime/netfx40-pinvokestackresilience-element.md) element in your application's configuration file to enable calling errors to be resolved up the stack as in earlier versions.</span></span> <span data-ttu-id="0fa02-433">Może to jednak mieć wpływ na wydajność aplikacji.</span><span class="sxs-lookup"><span data-stu-id="0fa02-433">However, this may affect the performance of your application.</span></span> |
| <span data-ttu-id="0fa02-434">**Usunięte interfejsy** (Niezarządzany interfejs API)</span><span class="sxs-lookup"><span data-stu-id="0fa02-434">**Removed interfaces** (unmanaged API)</span></span> | <span data-ttu-id="0fa02-435">Aby uniknąć pomylenia deweloperów, następujące interfejsy zostały usunięte, ponieważ nie zapewniały one przydatnych scenariuszy czasu wykonywania, a środowisko CLR nie dostarczyło ani nie akceptuje żadnych implementacji:</span><span class="sxs-lookup"><span data-stu-id="0fa02-435">To avoid developer confusion, the following interfaces were removed, because they did not provide any useful run-time scenarios, and the CLR did not provide or accept any implementations:</span></span><br><br><span data-ttu-id="0fa02-436">\***INativeImageINativeImageDependency**</span><span class="sxs-lookup"><span data-stu-id="0fa02-436">\* **INativeImageINativeImageDependency**</span></span><br><span data-ttu-id="0fa02-437">\***INativeImageInstallInfo**</span><span class="sxs-lookup"><span data-stu-id="0fa02-437">\* **INativeImageInstallInfo**</span></span><br><span data-ttu-id="0fa02-438">\***INativeImageEvaluate**</span><span class="sxs-lookup"><span data-stu-id="0fa02-438">\* **INativeImageEvaluate**</span></span><br><span data-ttu-id="0fa02-439">\***INativeImageConverter**</span><span class="sxs-lookup"><span data-stu-id="0fa02-439">\* **INativeImageConverter**</span></span><br><span data-ttu-id="0fa02-440">\***ICorModule**</span><span class="sxs-lookup"><span data-stu-id="0fa02-440">\* **ICorModule**</span></span><br><span data-ttu-id="0fa02-441">\***IMetaDataConverter**</span><span class="sxs-lookup"><span data-stu-id="0fa02-441">\* **IMetaDataConverter**</span></span> | <span data-ttu-id="0fa02-442">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-442">None.</span></span> |

## <a name="data"></a><span data-ttu-id="0fa02-443">Dane</span><span class="sxs-lookup"><span data-stu-id="0fa02-443">Data</span></span>

<span data-ttu-id="0fa02-444">W tej sekcji opisano problemy dotyczące migracji dotyczące korzystania z zestawów danych i klientów SQL, serwerów Entity Framework, LINQ to SQL i danych WCF (wcześniej znanych jako ADO.NET Data Services).</span><span class="sxs-lookup"><span data-stu-id="0fa02-444">This section describes migration issues for using data sets and SQL clients, the Entity Framework, LINQ to SQL, and WCF Data Servers (formerly known as ADO.NET Data Services).</span></span>

### <a name="dataset-and-sql-client"></a><span data-ttu-id="0fa02-445">Zestaw danych i klient SQL</span><span class="sxs-lookup"><span data-stu-id="0fa02-445">DataSet and SQL Client</span></span>

<span data-ttu-id="0fa02-446">W poniższej tabeli opisano ulepszenia dotyczące funkcji, które wcześniej miały ograniczenia lub inne problemy.</span><span class="sxs-lookup"><span data-stu-id="0fa02-446">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="0fa02-447">Przestrzenie nazw: <xref:System.Data> , <xref:System.Data.Objects.DataClasses> ,<xref:System.Data.SqlClient></span><span class="sxs-lookup"><span data-stu-id="0fa02-447">Namespaces: <xref:System.Data>, <xref:System.Data.Objects.DataClasses>, <xref:System.Data.SqlClient></span></span>

<span data-ttu-id="0fa02-448">Zestawy: System. Data (w System.Data.dll), system. Data. Entity (w System.Data.Entity.dll)</span><span class="sxs-lookup"><span data-stu-id="0fa02-448">Assemblies: System.Data (in System.Data.dll), System.Data.Entity (in System.Data.Entity.dll)</span></span>

| <span data-ttu-id="0fa02-449">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-449">Feature</span></span> | <span data-ttu-id="0fa02-450">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-450">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="0fa02-451">**Scenariusze POCO**</span><span class="sxs-lookup"><span data-stu-id="0fa02-451">**POCO Scenarios**</span></span> | <span data-ttu-id="0fa02-452"><xref:System.Data.Objects.DataClasses.IRelatedEnd>Interfejs ma nowe metody, aby zwiększyć jego użyteczność w zwykłych scenariuszach obiektów CLR (POCO).</span><span class="sxs-lookup"><span data-stu-id="0fa02-452">The <xref:System.Data.Objects.DataClasses.IRelatedEnd> interface has new methods to improve its usability in Plain Old CLR Object (POCO) scenarios.</span></span> <span data-ttu-id="0fa02-453">Te nowe metody pobierają <xref:System.Object> zamiast <xref:System.Data.Objects.DataClasses.IEntityWithRelationships> jednostki jako parametr.</span><span class="sxs-lookup"><span data-stu-id="0fa02-453">These new methods take an <xref:System.Object> instead of an <xref:System.Data.Objects.DataClasses.IEntityWithRelationships> entity as a parameter.</span></span> |
| <span data-ttu-id="0fa02-454">**Edytowanie wierszy**</span><span class="sxs-lookup"><span data-stu-id="0fa02-454">**Editing Rows**</span></span> | <span data-ttu-id="0fa02-455"><xref:System.Collections.IList.IndexOf%2A>Metoda, zgodnie z implementacją <xref:System.Data.DataView> klasy, teraz prawidłowo zwraca wartość edytowanego wiersza, a nie zwraca-1.</span><span class="sxs-lookup"><span data-stu-id="0fa02-455">The <xref:System.Collections.IList.IndexOf%2A> method, as implemented by the <xref:System.Data.DataView> class, now correctly returns the value of a row that is being edited, instead of returning -1.</span></span> |
| <span data-ttu-id="0fa02-456">**Zdarzenia**</span><span class="sxs-lookup"><span data-stu-id="0fa02-456">**Events**</span></span> | <span data-ttu-id="0fa02-457"><xref:System.Data.DataRowView.PropertyChanged>Zdarzenie jest teraz wywoływane, gdy wiersz jest w stanie zmodyfikowany i <xref:System.Data.DataRow.RejectChanges%2A> Metoda jest wywoływana.</span><span class="sxs-lookup"><span data-stu-id="0fa02-457">The <xref:System.Data.DataRowView.PropertyChanged> event is now raised when a row is in a modified state and the <xref:System.Data.DataRow.RejectChanges%2A> method is called.</span></span> <span data-ttu-id="0fa02-458">Ta zmiana ułatwia tworzenie formantów interfejsu użytkownika, które uwidaczniają zawartość <xref:System.Data.DataSet> obiektu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-458">This change makes it easier to create UI controls that expose the contents of a <xref:System.Data.DataSet> object.</span></span> |
| <span data-ttu-id="0fa02-459">**Wyjątki**</span><span class="sxs-lookup"><span data-stu-id="0fa02-459">**Exceptions**</span></span> | <span data-ttu-id="0fa02-460"><xref:System.Data.SqlClient.SqlCommand.Prepare%2A>Metoda teraz zgłasza, <xref:System.InvalidOperationException> gdy połączenie nie jest ustawione lub otwarte zamiast <xref:System.NullReferenceException> .</span><span class="sxs-lookup"><span data-stu-id="0fa02-460">The <xref:System.Data.SqlClient.SqlCommand.Prepare%2A> method now throws an <xref:System.InvalidOperationException> when a connection is not set or open instead of a <xref:System.NullReferenceException>.</span></span> |
| <span data-ttu-id="0fa02-461">**Mapowanie widoków**</span><span class="sxs-lookup"><span data-stu-id="0fa02-461">**Mapping Views**</span></span> | <span data-ttu-id="0fa02-462">Błędy mapowania widoku zapytania są teraz przechwytywane w czasie projektowania zamiast zgłaszać <xref:System.NullReferenceException> w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="0fa02-462">Query view mapping errors are now caught at design time instead of throwing a <xref:System.NullReferenceException> at run time.</span></span><br><br><span data-ttu-id="0fa02-463">Sprawdzanie poprawności mapowania teraz przechwytuje błąd, w którym dwa zestawy skojarzeń w schemacie koncepcyjnym są zamapowane na tę samą kolumnę.</span><span class="sxs-lookup"><span data-stu-id="0fa02-463">Mapping validation now catches the error in which two association sets in Conceptual Schema (CSDL) are mapped to the same column.</span></span> |
| <span data-ttu-id="0fa02-464">**Transakcje**</span><span class="sxs-lookup"><span data-stu-id="0fa02-464">**Transactions**</span></span> | <span data-ttu-id="0fa02-465">Jeśli aplikacja próbuje wykonać instrukcję dla połączenia po zakończeniu transakcji (w tym przerwanych lub wycofanych), <xref:System.InvalidOperationException> zostanie zgłoszony.</span><span class="sxs-lookup"><span data-stu-id="0fa02-465">If an application tries to execute a statement on a connection after a transaction has been completed (including aborted or rolled back), an <xref:System.InvalidOperationException> is now thrown.</span></span> <span data-ttu-id="0fa02-466">Poprzednie wersje nie zgłosiły wyjątku i umożliwiają wykonywanie dodatkowych poleceń nawet wtedy, gdy transakcja została przerwana.</span><span class="sxs-lookup"><span data-stu-id="0fa02-466">Previous versions did not throw an exception and let you execute additional commands even if a transaction was aborted.</span></span> |

### <a name="entity-framework"></a><span data-ttu-id="0fa02-467">Entity Framework</span><span class="sxs-lookup"><span data-stu-id="0fa02-467">Entity Framework</span></span>

<span data-ttu-id="0fa02-468">W poniższej tabeli opisano ulepszenia dotyczące funkcji, które wcześniej miały ograniczenia lub inne problemy.</span><span class="sxs-lookup"><span data-stu-id="0fa02-468">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="0fa02-469">Przestrzenie nazw: <xref:System.Data> , <xref:System.Data.Objects> ,<xref:System.Data.Objects.DataClasses></span><span class="sxs-lookup"><span data-stu-id="0fa02-469">Namespaces: <xref:System.Data>, <xref:System.Data.Objects>, <xref:System.Data.Objects.DataClasses></span></span>

<span data-ttu-id="0fa02-470">Zestawy: System. Data. Entity (w System.Data.Entity.dll)</span><span class="sxs-lookup"><span data-stu-id="0fa02-470">Assemblies: System.Data.Entity (in System.Data.Entity.dll)</span></span>

| <span data-ttu-id="0fa02-471">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-471">Feature</span></span> | <span data-ttu-id="0fa02-472">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-472">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="0fa02-473">**Obiekty jednostek**</span><span class="sxs-lookup"><span data-stu-id="0fa02-473">**Entity objects**</span></span> | <span data-ttu-id="0fa02-474">Teraz występuje parzystość między <xref:System.Data.Objects.ObjectContext.Detach%2A> metodą i stanem obiektu jednostki, gdy <xref:System.Data.Objects.ObjectContext.SaveChanges%2A> wywoływana jest metoda.</span><span class="sxs-lookup"><span data-stu-id="0fa02-474">There is now parity between the <xref:System.Data.Objects.ObjectContext.Detach%2A> method and the state of the entity object when the <xref:System.Data.Objects.ObjectContext.SaveChanges%2A> method is called.</span></span> <span data-ttu-id="0fa02-475">Ta ulepszona spójność uniemożliwia zgłaszanie nieoczekiwanych wyjątków.</span><span class="sxs-lookup"><span data-stu-id="0fa02-475">This improved consistency prevents unexpected exceptions from being thrown.</span></span> |
| <span data-ttu-id="0fa02-476">**Entity SQL**</span><span class="sxs-lookup"><span data-stu-id="0fa02-476">**Entity SQL**</span></span> | <span data-ttu-id="0fa02-477">Udoskonalono reguły dla rozwiązań identyfikatora w Entity SQL.</span><span class="sxs-lookup"><span data-stu-id="0fa02-477">Rules have been improved for identifier resolutions in Entity SQL.</span></span><br><br><span data-ttu-id="0fa02-478">Analizator Entity SQL ma udoskonaloną logikę rozpoznawania wieloczęściowych identyfikatorów.</span><span class="sxs-lookup"><span data-stu-id="0fa02-478">The Entity SQL parser has improved logic for resolving multipart identifiers.</span></span> |
| <span data-ttu-id="0fa02-479">**Adnotacje strukturalne**</span><span class="sxs-lookup"><span data-stu-id="0fa02-479">**Structural annotations**</span></span> | <span data-ttu-id="0fa02-480">Entity Framework teraz rozpoznaje strukturalne adnotacje.</span><span class="sxs-lookup"><span data-stu-id="0fa02-480">The Entity Framework now recognizes structural annotations.</span></span> |
| <span data-ttu-id="0fa02-481">**Zapytania**</span><span class="sxs-lookup"><span data-stu-id="0fa02-481">**Queries**</span></span> | <span data-ttu-id="0fa02-482">W zapytaniach wprowadzono następujące ulepszenia:</span><span class="sxs-lookup"><span data-stu-id="0fa02-482">The following improvements were made in queries:</span></span><br><br><span data-ttu-id="0fa02-483">\*`GroupBy`Zapytanie wykorzystujące klucz o wartości null w pustej kolekcji nie zwróci żadnych wierszy, niezależnie od tego, czy w zapytaniu są jakieś dodatkowe.</span><span class="sxs-lookup"><span data-stu-id="0fa02-483">\* A `GroupBy` query using a null key over an empty collection will not return any rows, regardless if there are any additional selects in the query.</span></span><br><span data-ttu-id="0fa02-484">\*Generowanie kodu SQL w zapytaniach LINQ i Entity — zapytania SQL teraz traktują parametry ciągu jako wartości inne niż Unicode.</span><span class="sxs-lookup"><span data-stu-id="0fa02-484">\* Generated SQL in LINQ and Entity-SQL queries now treat string parameters as non-Unicode values by default.</span></span> |

### <a name="linq-to-sql"></a><span data-ttu-id="0fa02-485">LINQ do SQL</span><span class="sxs-lookup"><span data-stu-id="0fa02-485">LINQ to SQL</span></span>

<span data-ttu-id="0fa02-486">W poniższej tabeli opisano ulepszenia dotyczące funkcji, które wcześniej miały ograniczenia lub inne problemy.</span><span class="sxs-lookup"><span data-stu-id="0fa02-486">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="0fa02-487">Obszaru<xref:System.Data.Linq></span><span class="sxs-lookup"><span data-stu-id="0fa02-487">Namespace: <xref:System.Data.Linq></span></span>

<span data-ttu-id="0fa02-488">Zestaw: System. Data. LINQ (w System.Data.Linq.dll)</span><span class="sxs-lookup"><span data-stu-id="0fa02-488">Assembly: System.Data.Linq (in System.Data.Linq.dll)</span></span>

| <span data-ttu-id="0fa02-489">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-489">Feature</span></span> | <span data-ttu-id="0fa02-490">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-490">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="0fa02-491">**Zdarzenia**</span><span class="sxs-lookup"><span data-stu-id="0fa02-491">**Events**</span></span> | <span data-ttu-id="0fa02-492"><xref:System.Data.Linq.EntitySet%601>Kolekcja wywołuje teraz <xref:System.Data.Linq.EntitySet%601.ListChanged> zdarzenie dla operacji dodawania i usuwania <xref:System.Data.Linq.EntitySet%601> , jeśli jest zwolnione, a także do podniesienia zdarzenia podczas ładowania kolekcji.</span><span class="sxs-lookup"><span data-stu-id="0fa02-492">A <xref:System.Data.Linq.EntitySet%601> collection now raises the <xref:System.Data.Linq.EntitySet%601.ListChanged> event for add and remove operations if the <xref:System.Data.Linq.EntitySet%601> is unloaded, in addition to raising the event when the collection is loaded.</span></span> |
| <span data-ttu-id="0fa02-493">**Zapytania**</span><span class="sxs-lookup"><span data-stu-id="0fa02-493">**Queries**</span></span> | <span data-ttu-id="0fa02-494">`Skip(0)`nie jest już ignorowany w zapytaniach LINQ to SQL.</span><span class="sxs-lookup"><span data-stu-id="0fa02-494">`Skip(0)` is no longer ignored in LINQ to SQL queries.</span></span> <span data-ttu-id="0fa02-495">W efekcie zapytania, które mają tę metodę, mogą zachowywać się inaczej.</span><span class="sxs-lookup"><span data-stu-id="0fa02-495">As a result, queries that have this method might behave differently.</span></span> <span data-ttu-id="0fa02-496">Na przykład w niektórych przypadkach `OrderBy` klauzula jest wymagana z `Skip(0)` , a zapytanie będzie teraz zgłaszać <xref:System.NotSupportedException> wyjątek, jeśli `OrderBy` klauzula nie została uwzględniona.</span><span class="sxs-lookup"><span data-stu-id="0fa02-496">For example, in some cases, an `OrderBy` clause is required with `Skip(0)`, and the query will now throw a <xref:System.NotSupportedException> exception if the `OrderBy` clause was not included.</span></span> |

### <a name="wcf-data-services"></a><span data-ttu-id="0fa02-497">Usługi danych WCF</span><span class="sxs-lookup"><span data-stu-id="0fa02-497">WCF Data Services</span></span>

<span data-ttu-id="0fa02-498">W poniższej tabeli opisano ulepszenia dotyczące funkcji, które wcześniej miały ograniczenia lub inne problemy.</span><span class="sxs-lookup"><span data-stu-id="0fa02-498">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="0fa02-499">Przestrzenie nazw: <xref:System.Data.Services> , <xref:System.Data.Services.Client> , <xref:System.Data.Services.Common> ,<xref:System.Data.Services.Providers></span><span class="sxs-lookup"><span data-stu-id="0fa02-499">Namespaces: <xref:System.Data.Services>, <xref:System.Data.Services.Client>, <xref:System.Data.Services.Common>, <xref:System.Data.Services.Providers></span></span>

<span data-ttu-id="0fa02-500">Zestawy: System. Data. Services (w System.Data.Services.dll), system. Data. Services. Client (w System.Data.Services.Client.dll)</span><span class="sxs-lookup"><span data-stu-id="0fa02-500">Assemblies: System.Data.Services (in System.Data.Services.dll), System.Data.Services.Client (in System.Data.Services.Client.dll)</span></span>

| <span data-ttu-id="0fa02-501">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-501">Feature</span></span> | <span data-ttu-id="0fa02-502">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-502">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="0fa02-503">**Wsadowa zawartość binarna**</span><span class="sxs-lookup"><span data-stu-id="0fa02-503">**Batched Binary Content**</span></span> | <span data-ttu-id="0fa02-504">Usługi danych programu WCF teraz obsługuje wsadową zawartość binarną w żądaniach i odpowiedziach.</span><span class="sxs-lookup"><span data-stu-id="0fa02-504">WCF Data Services now supports batched binary content in requests and responses.</span></span> |
| <span data-ttu-id="0fa02-505">**Przechwycenia zmian**</span><span class="sxs-lookup"><span data-stu-id="0fa02-505">**Change interceptors**</span></span> | <span data-ttu-id="0fa02-506">Przechwycenia zmian są teraz wykonywane dla żądania Delete.</span><span class="sxs-lookup"><span data-stu-id="0fa02-506">Change interceptors are now executed for a delete request.</span></span><br><br><span data-ttu-id="0fa02-507">Interceptor zmian to metoda, która jest uruchamiana za każdym razem, gdy żądanie jest odbierane przez serwer w celu zmodyfikowania jednostki w zestawie jednostek.</span><span class="sxs-lookup"><span data-stu-id="0fa02-507">A change interceptor is a method that runs every time a request is received by the server to modify an entity in the entity set.</span></span> <span data-ttu-id="0fa02-508">Jest ono uruchamiane przed wykonaniem żądania przychodzącego.</span><span class="sxs-lookup"><span data-stu-id="0fa02-508">It runs before the incoming request is executed.</span></span> <span data-ttu-id="0fa02-509">Interceptor zmiany zapewnia dostęp do obiektu, który jest zmieniany, i operacji, która jest wykonywana na nim.</span><span class="sxs-lookup"><span data-stu-id="0fa02-509">The change interceptor provides access to the entity that is being changed and the operation that is being performed on it.</span></span> |
| <span data-ttu-id="0fa02-510">**Wyjątki**</span><span class="sxs-lookup"><span data-stu-id="0fa02-510">**Exceptions**</span></span> | <span data-ttu-id="0fa02-511">Poniższe warunki teraz generują bardziej przydatne wyjątki zamiast <xref:System.NullReferenceException> :</span><span class="sxs-lookup"><span data-stu-id="0fa02-511">The following conditions now throw more useful exceptions instead of a <xref:System.NullReferenceException>:</span></span><br><br><span data-ttu-id="0fa02-512">\*A, <xref:System.ServiceProcess.TimeoutException> gdy nawiązać połączenie z usługą danych.</span><span class="sxs-lookup"><span data-stu-id="0fa02-512">\* A <xref:System.ServiceProcess.TimeoutException> when a call to a data service times out.</span></span><br><span data-ttu-id="0fa02-513">\*A w <xref:System.Data.Services.Client.DataServiceRequestException> przypadku nieprawidłowego żądania do usługi danych.</span><span class="sxs-lookup"><span data-stu-id="0fa02-513">\* A <xref:System.Data.Services.Client.DataServiceRequestException> when a bad request is made to a data service.</span></span><br><br><span data-ttu-id="0fa02-514">W aplikacjach należy zmienić obsługę wyjątków, aby przechwytywać nowe wyjątki.</span><span class="sxs-lookup"><span data-stu-id="0fa02-514">In your applications, you should change exception handling to catch the new exceptions.</span></span> |
| <span data-ttu-id="0fa02-515">**Nagłówki**</span><span class="sxs-lookup"><span data-stu-id="0fa02-515">**Headers**</span></span> | <span data-ttu-id="0fa02-516">W nagłówkach wprowadzono następujące ulepszenia:</span><span class="sxs-lookup"><span data-stu-id="0fa02-516">The following improvements were made to headers:</span></span><br><br><span data-ttu-id="0fa02-517">\*Usługi danych programu WCF teraz prawidłowo odrzuca `eTag` nagłówek, który ma nieokreśloną wartość.</span><span class="sxs-lookup"><span data-stu-id="0fa02-517">\* WCF Data Services now correctly rejects an `eTag` header that has an unspecified value.</span></span><br><span data-ttu-id="0fa02-518">\*Usługi danych programu WCF teraz zwraca błąd i nie wykonuje żądania usunięcia do linku, gdy `if-*` nagłówek jest w żądaniu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-518">\* WCF Data Services now returns an error and does not execute the request for a delete request to a link when an `if-*` header is in the request.</span></span><br><span data-ttu-id="0fa02-519">\*Usługi danych programu WCF teraz zwraca błąd do klienta w formacie (Atom, JSON), który klient jest określony w nagłówku Accept.</span><span class="sxs-lookup"><span data-stu-id="0fa02-519">\* WCF Data Services now returns an error to the client in the format (Atom, JSON) that the client specified in the Accept header.</span></span> |
| <span data-ttu-id="0fa02-520">**Czytnik JSON**</span><span class="sxs-lookup"><span data-stu-id="0fa02-520">**JSON Reader**</span></span> | <span data-ttu-id="0fa02-521">Czytnik JavaScript Object Notation (JSON) teraz poprawnie zwraca błąd, gdy odczytuje pojedynczy ukośnik odwrotny (" \\ "), podczas gdy przetwarza ładunki JSON wysyłane do usługi danych programu WCF.</span><span class="sxs-lookup"><span data-stu-id="0fa02-521">The JavaScript Object Notation (JSON) reader now correctly returns an error when it reads the single backslash ("\\") escape character, when it processes JSON payloads sent to a WCF Data Service.</span></span> |
| <span data-ttu-id="0fa02-522">**Scala**</span><span class="sxs-lookup"><span data-stu-id="0fa02-522">**Merges**</span></span> | <span data-ttu-id="0fa02-523">W wyliczeniu wprowadzono następujące ulepszenia <xref:System.Data.Services.Client.MergeOption> :</span><span class="sxs-lookup"><span data-stu-id="0fa02-523">The following improvements were made to the <xref:System.Data.Services.Client.MergeOption> enumeration:</span></span><br><br><span data-ttu-id="0fa02-524">\*<xref:System.Data.Services.Client.MergeOption>Opcja scalania nie modyfikuje już jednostki na kliencie w wyniku żadnej kolejnej odpowiedzi z usługi danych.</span><span class="sxs-lookup"><span data-stu-id="0fa02-524">\* The <xref:System.Data.Services.Client.MergeOption> merge option no longer modifies the entity on the client as a result of any subsequent response from a data service.</span></span><br><span data-ttu-id="0fa02-525">\*Ta <xref:System.Data.Services.Client.MergeOption> opcja jest teraz spójna między dynamicznymi aktualizacjami SQL i przechowywanymi na podstawie procedur.</span><span class="sxs-lookup"><span data-stu-id="0fa02-525">\* The <xref:System.Data.Services.Client.MergeOption> option is now consistent between dynamic SQL and stored procedure-based updates.</span></span> |
| <span data-ttu-id="0fa02-526">**Żądania**</span><span class="sxs-lookup"><span data-stu-id="0fa02-526">**Requests**</span></span> | <span data-ttu-id="0fa02-527"><xref:System.Data.Services.DataService%601.OnStartProcessingRequest%2A>Metoda jest teraz wywoływana przed przetworzeniem żądania do usług danych.</span><span class="sxs-lookup"><span data-stu-id="0fa02-527">The <xref:System.Data.Services.DataService%601.OnStartProcessingRequest%2A> method is now called before a request to data services is processed.</span></span> <span data-ttu-id="0fa02-528">Dzięki temu żądanie będzie działało prawidłowo w przypadku <xref:System.Data.Services.Providers.ServiceOperation> usług.</span><span class="sxs-lookup"><span data-stu-id="0fa02-528">This enables the request to work correctly for <xref:System.Data.Services.Providers.ServiceOperation> services.</span></span> |
| <span data-ttu-id="0fa02-529">**Strumienie**</span><span class="sxs-lookup"><span data-stu-id="0fa02-529">**Streams**</span></span> | <span data-ttu-id="0fa02-530">Usługi danych programu WCF już nie zamyka bazowego strumienia dla operacji odczytu i zapisu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-530">WCF Data Services no longer closes the underlying stream for read and write operations.</span></span> |
| <span data-ttu-id="0fa02-531">**Identyfikatory URI**</span><span class="sxs-lookup"><span data-stu-id="0fa02-531">**URIs**</span></span> | <span data-ttu-id="0fa02-532">Poprawiono anulowanie identyfikatorów URI według Usługi danych programu WCF klienta.</span><span class="sxs-lookup"><span data-stu-id="0fa02-532">The escaping of URIs by WCF Data Services client has been corrected.</span></span> |

## <a name="windows-communication-foundation-wcf"></a><span data-ttu-id="0fa02-533">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="0fa02-533">Windows Communication Foundation (WCF)</span></span>

<span data-ttu-id="0fa02-534">W poniższej tabeli opisano ulepszenia dotyczące funkcji, które wcześniej miały ograniczenia lub inne problemy.</span><span class="sxs-lookup"><span data-stu-id="0fa02-534">The following table describes improvements to features that previously had limitations or other issues.</span></span>

| <span data-ttu-id="0fa02-535">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-535">Feature</span></span> | <span data-ttu-id="0fa02-536">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-536">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="0fa02-537">**Pliki konfiguracji**</span><span class="sxs-lookup"><span data-stu-id="0fa02-537">**Configuration files**</span></span> | <span data-ttu-id="0fa02-538">Aby włączyć dziedziczenie zachowań w hierarchii plików konfiguracji, usługa WCF obsługuje teraz scalanie plików konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="0fa02-538">To enable inheritance of behaviors through the configuration file hierarchy, WCF now supports merging across configuration files.</span></span><br><br><span data-ttu-id="0fa02-539">Model dziedziczenia konfiguracji jest teraz rozwinięty, aby umożliwić użytkownikom Definiowanie zachowań, które będą stosowane do wszystkich usług uruchomionych na komputerze.</span><span class="sxs-lookup"><span data-stu-id="0fa02-539">The configuration inheritance model is now expanded to let users define behaviors that will be applied to all the services that are running on the computer.</span></span><br><br><span data-ttu-id="0fa02-540">Mogą wystąpić zmiany behawioralne, jeśli istnieją zachowania o tej samej nazwie na różnych poziomach hierarchii.</span><span class="sxs-lookup"><span data-stu-id="0fa02-540">You may encounter behavioral changes if there are behaviors with the same name at different levels of the hierarchy.</span></span> |
| <span data-ttu-id="0fa02-541">**Hosting usług**</span><span class="sxs-lookup"><span data-stu-id="0fa02-541">**Service hosting**</span></span> | <span data-ttu-id="0fa02-542">Nie można już określić `<serviceHostingEnvironment>` elementu konfiguracji na poziomie usługi przez dodanie atrybutu `allowDefinition="MachineToApplication"` do definicji elementu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-542">You can no longer specify the `<serviceHostingEnvironment>` configuration element at the service level by adding the attribute `allowDefinition="MachineToApplication"` to the element definition.</span></span><br><br><span data-ttu-id="0fa02-543">Określenie `<serviceHostingEnvironment>` elementu na poziomie usługi jest technicznie nieprawidłowe i powoduje niespójne zachowanie.</span><span class="sxs-lookup"><span data-stu-id="0fa02-543">Specifying the `<serviceHostingEnvironment>` element at the service level is technically incorrect and causes inconsistent behavior.</span></span> |

## <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="0fa02-544">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="0fa02-544">Windows Presentation Foundation (WPF)</span></span>

### <a name="applications"></a><span data-ttu-id="0fa02-545">Aplikacje</span><span class="sxs-lookup"><span data-stu-id="0fa02-545">Applications</span></span>

<span data-ttu-id="0fa02-546">Przestrzenie nazw: <xref:System.Windows> ,<xref:System.Windows.Controls></span><span class="sxs-lookup"><span data-stu-id="0fa02-546">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls></span></span>

<span data-ttu-id="0fa02-547">Zestawy: platformie docelowej (w PresentationFramework.dll)</span><span class="sxs-lookup"><span data-stu-id="0fa02-547">Assemblies: PresentationFramework (in PresentationFramework.dll)</span></span>

| <span data-ttu-id="0fa02-548">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-548">Feature</span></span> | <span data-ttu-id="0fa02-549">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-549">Differences from 3.5 SP1</span></span> | <span data-ttu-id="0fa02-550">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="0fa02-550">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="0fa02-551">**Obsługa wyjątków**</span><span class="sxs-lookup"><span data-stu-id="0fa02-551">**Exception handling**</span></span> | <span data-ttu-id="0fa02-552">Aby umożliwić wykrycie błędów wcześniej, WPF zgłasza <xref:System.Reflection.TargetInvocationException> i ustawia <xref:System.Exception.InnerException> Właściwość na wyjątki krytyczne, takie jak <xref:System.NullReferenceException> ,, <xref:System.OutOfMemoryException> <xref:System.StackOverflowException> , i <xref:System.Security.SecurityException> , zamiast przechwytywania pierwotnego wyjątku.</span><span class="sxs-lookup"><span data-stu-id="0fa02-552">To enable errors to be detected earlier, WPF throws a <xref:System.Reflection.TargetInvocationException> and sets the <xref:System.Exception.InnerException> property to critical exceptions, such as <xref:System.NullReferenceException>, <xref:System.OutOfMemoryException>, <xref:System.StackOverflowException>, and <xref:System.Security.SecurityException>, instead of catching the original exception.</span></span> | <span data-ttu-id="0fa02-553">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-553">None.</span></span> |
| <span data-ttu-id="0fa02-554">**Połączone zasoby**</span><span class="sxs-lookup"><span data-stu-id="0fa02-554">**Linked resources**</span></span> | <span data-ttu-id="0fa02-555">Aby ułatwić łączenie, pliki zasobów (takie jak obrazy), które znajdują się w lokalizacji innej niż struktura folderów projektu, używają pełnej ścieżki pliku zasobu zamiast samej nazwy pliku jako identyfikatora zasobu podczas kompilowania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="0fa02-555">To make linking easier, resource files (such as images) that are located in a location other than the project's folder structure use the resource file's full path instead of just its file name as the resource ID when the application is built.</span></span> <span data-ttu-id="0fa02-556">Aplikacja będzie mogła lokalizować pliki w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="0fa02-556">The application will be able to locate the files at run time.</span></span> | <span data-ttu-id="0fa02-557">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-557">None.</span></span> |
| <span data-ttu-id="0fa02-558">**Aplikacje częściowej relacji zaufania**</span><span class="sxs-lookup"><span data-stu-id="0fa02-558">**Partial-trust applications**</span></span> | <span data-ttu-id="0fa02-559">Ze względów bezpieczeństwa aplikacje oparte na systemie Windows, które są uruchamiane w częściowej relacji zaufania i zawierają <xref:System.Windows.Controls.WebBrowser> kontrolki lub <xref:System.Windows.Controls.Frame> kontrolki zawierające kod HTML, generują <xref:System.Security.SecurityException> gdy formant zostanie utworzony.</span><span class="sxs-lookup"><span data-stu-id="0fa02-559">For security considerations, Windows-based applications that run in partial trust and contain a <xref:System.Windows.Controls.WebBrowser> control or a <xref:System.Windows.Controls.Frame> control that contains HTML will throw a <xref:System.Security.SecurityException> when the control is created.</span></span><br><br><span data-ttu-id="0fa02-560">Aplikacje przeglądarki będą zgłaszać wyjątek i wyświetlać komunikat w przypadku spełnienia wszystkich następujących warunków:</span><span class="sxs-lookup"><span data-stu-id="0fa02-560">Browser applications will throw an exception and display a message if all of the following conditions are met:</span></span><br><br><span data-ttu-id="0fa02-561">\*Aplikacja działa w przeglądarce Firefox.</span><span class="sxs-lookup"><span data-stu-id="0fa02-561">\* The application is running in Firefox.</span></span><br><span data-ttu-id="0fa02-562">\*Aplikacja działa w częściowej relacji zaufania w strefie internetowej z niezaufanych witryn.</span><span class="sxs-lookup"><span data-stu-id="0fa02-562">\* The application is running in partial trust in the Internet zone from non-trusted sites.</span></span><br><span data-ttu-id="0fa02-563">\*Aplikacja zawiera <xref:System.Windows.Controls.WebBrowser> kontrolkę lub <xref:System.Windows.Controls.Frame> kontrolkę, która zawiera kod HTML.</span><span class="sxs-lookup"><span data-stu-id="0fa02-563">\* The application contains a <xref:System.Windows.Controls.WebBrowser> control or a <xref:System.Windows.Controls.Frame> control that contains HTML.</span></span><br><br><span data-ttu-id="0fa02-564">Nie wpłynie to na aplikacje uruchamiane z zaufanych witryn lub ze strefy intranetowej.</span><span class="sxs-lookup"><span data-stu-id="0fa02-564">Applications that run from trusted sites or from the intranet zone will not be affected.</span></span> | <span data-ttu-id="0fa02-565">W aplikacjach przeglądarki można uprościć tę zmianę, wykonując jedną z następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="0fa02-565">In your browser applications, you can ease this change by doing one of the following:</span></span><br><br><span data-ttu-id="0fa02-566">\*Uruchom aplikację przeglądarki w trybie pełnego zaufania.</span><span class="sxs-lookup"><span data-stu-id="0fa02-566">\* Run the browser application in full trust.</span></span><br><span data-ttu-id="0fa02-567">\*Klienci mogą dodawać lokację aplikacji do strefy Zaufane witryny.</span><span class="sxs-lookup"><span data-stu-id="0fa02-567">\* Have customers add the application's site to the trusted sites zone.</span></span><br><span data-ttu-id="0fa02-568">\*Klienci programu mogą uruchamiać aplikację w programie Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="0fa02-568">\* Have customers run the application in Internet Explorer.</span></span> |
| <span data-ttu-id="0fa02-569">**Słowniki zasobów**</span><span class="sxs-lookup"><span data-stu-id="0fa02-569">**Resource dictionaries**</span></span> | <span data-ttu-id="0fa02-570">Aby ulepszyć słowniki zasobów na poziomie motywu i uniemożliwić ich zmianę, Freezable zasoby zdefiniowane w słowniku zasobów i scalone w słowniku na poziomie motywu są teraz zawsze oznaczone jako zamrożone i niezmienne.</span><span class="sxs-lookup"><span data-stu-id="0fa02-570">To improve theme-level resource dictionaries and prevent them from changing, freezable resources that are defined in a resource dictionary and merged into a theme-level dictionary are now always marked as frozen and are immutable.</span></span> <span data-ttu-id="0fa02-571">Jest to oczekiwane zachowanie dla zasobów Freezable.</span><span class="sxs-lookup"><span data-stu-id="0fa02-571">This is the expected behavior for freezable resources.</span></span> | <span data-ttu-id="0fa02-572">Aplikacje, które modyfikują zasób zdefiniowany w scalonym słowniku na poziomie motywu, powinny klonować zasób i modyfikować sklonowaną kopię.</span><span class="sxs-lookup"><span data-stu-id="0fa02-572">Applications that modify a resource that is defined in a theme-level merged dictionary should clone the resource and modify the cloned copy.</span></span> <span data-ttu-id="0fa02-573">Alternatywnie można oznaczyć zasób, `x:Shared="false"` Aby <xref:System.Windows.ResourceDictionary> utworzyć nową kopię przy każdym zapytaniu zasobu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-573">Alternatively, the resource can be marked `x:Shared="false"` so that the <xref:System.Windows.ResourceDictionary> creates a new copy every time the resource is queried.</span></span> |
| <span data-ttu-id="0fa02-574">**Windows 7**</span><span class="sxs-lookup"><span data-stu-id="0fa02-574">**Windows 7**</span></span> | <span data-ttu-id="0fa02-575">Aby aplikacje WPF działały lepiej w systemie Windows 7, wprowadzono następujące ulepszenia w celu poprawienia zachowania okna:</span><span class="sxs-lookup"><span data-stu-id="0fa02-575">To make WPF applications work better on Windows 7, the following improvements were made to correct the behavior of a window:</span></span><br><br><span data-ttu-id="0fa02-576">\*Stany dokowania i gestu działają teraz zgodnie z oczekiwaniami w oparciu o Interakcje użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0fa02-576">\* Dock and gesture states now work as expected based on user interactions.</span></span><br><span data-ttu-id="0fa02-577">\*Polecenia paska zadań **kaskadowe okna, Pokaż okna w stosie**i **Pokaż okna obok siebie** mają teraz poprawne zachowanie i Aktualizuj odpowiednie właściwości.</span><span class="sxs-lookup"><span data-stu-id="0fa02-577">\* The taskbar commands **Cascade windows, Show windows stacked**, and **Show windows side-by-side** now have the correct behavior and update the appropriate properties.</span></span><br><span data-ttu-id="0fa02-578">\*`Top`Właściwości, `Left` , `Width` , i `Height` okna zmaksymalizowane lub zminimalizowane zawierają teraz poprawną lokalizację przywracania okna zamiast innych wartości, w zależności od monitora.</span><span class="sxs-lookup"><span data-stu-id="0fa02-578">\* The `Top`, `Left`, `Width`, and `Height` properties for a maximized or minimized window now contain the correct restore location of the window instead of other values, depending on the monitor.</span></span> | <span data-ttu-id="0fa02-579">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-579">None.</span></span> |
| <span data-ttu-id="0fa02-580">**Styl i przezroczystość systemu Windows**</span><span class="sxs-lookup"><span data-stu-id="0fa02-580">**Windows style and transparency**</span></span> | <span data-ttu-id="0fa02-581"><xref:System.InvalidOperationException>Jest zgłaszany, jeśli spróbujesz ustawić <xref:System.Windows.Window.WindowStyle> wartość inną niż <xref:System.Windows.WindowStyle> when <xref:System.Windows.Window.AllowsTransparency> `true` i <xref:System.Windows.WindowState> is <xref:System.Windows.WindowState> .</span><span class="sxs-lookup"><span data-stu-id="0fa02-581">An <xref:System.InvalidOperationException> is thrown if you try to set <xref:System.Windows.Window.WindowStyle> to a value other than <xref:System.Windows.WindowStyle> when <xref:System.Windows.Window.AllowsTransparency> is `true` and <xref:System.Windows.WindowState> is <xref:System.Windows.WindowState>.</span></span> | <span data-ttu-id="0fa02-582">Jeśli musisz zmienić <xref:System.Windows.Window.WindowStyle> gdy <xref:System.Windows.Window.AllowsTransparency> jest, możesz `true` wywołać `SetWindowLongPtr` funkcję Win32.</span><span class="sxs-lookup"><span data-stu-id="0fa02-582">If you must change the <xref:System.Windows.Window.WindowStyle> when <xref:System.Windows.Window.AllowsTransparency> is `true`, you can call the Win32 `SetWindowLongPtr` function.</span></span> |
| <span data-ttu-id="0fa02-583">**Przeglądarka plików XPS**</span><span class="sxs-lookup"><span data-stu-id="0fa02-583">**XPS Viewer**</span></span> | <span data-ttu-id="0fa02-584">WPF nie zawiera pakietu Microsoft XML Paper Specification Essentials (XPSEP).</span><span class="sxs-lookup"><span data-stu-id="0fa02-584">WPF does not include the Microsoft XML Paper Specification Essentials Pack (XPSEP).</span></span> <span data-ttu-id="0fa02-585">XPSEP jest dołączany do systemów Windows 7 i Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="0fa02-585">XPSEP is included with Windows 7 and Windows Vista.</span></span><br><br><span data-ttu-id="0fa02-586">Na komputerze z systemem Windows XP bez zainstalowanego .NET Framework 3,5 SP1 Drukowanie przy użyciu interfejsu API WPF innego niż te w programie <xref:System.Windows.Controls.PrintDialog> będzie polegać na winspool.</span><span class="sxs-lookup"><span data-stu-id="0fa02-586">On a computer that is running Windows XP without .NET Framework 3.5 SP1 installed, printing by using a WPF API other than those in <xref:System.Windows.Controls.PrintDialog> will rely on the WINSPOOL.</span></span> <span data-ttu-id="0fa02-587">Niektóre możliwości drukarki nie będą raportowane i niektóre ustawienia drukarki nie będą stosowane podczas drukowania.</span><span class="sxs-lookup"><span data-stu-id="0fa02-587">Some printer capabilities will not be reported and some printer settings will not be applied during printing.</span></span> | <span data-ttu-id="0fa02-588">W razie konieczności zainstaluj [pakiet Microsoft XML Paper Specification Essentials](https://www.microsoft.com/en-us/download/details.aspx?id=11816).</span><span class="sxs-lookup"><span data-stu-id="0fa02-588">If needed, install the [Microsoft XML Paper Specification Essentials Pack](https://www.microsoft.com/en-us/download/details.aspx?id=11816).</span></span> |

### <a name="controls"></a><span data-ttu-id="0fa02-589">Formanty</span><span class="sxs-lookup"><span data-stu-id="0fa02-589">Controls</span></span>

<span data-ttu-id="0fa02-590">Przestrzenie nazw: <xref:System.Windows> , <xref:System.Windows.Controls> , <xref:System.Windows.Data> ,<xref:System.Windows.Input></span><span class="sxs-lookup"><span data-stu-id="0fa02-590">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input></span></span>

<span data-ttu-id="0fa02-591">Zestawy: platformie docelowej (w PresentationFramework.dll), 'Presentationcore (w PresentationCore.dll), 'Windowsbase (w WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="0fa02-591">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="0fa02-592">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-592">Feature</span></span> | <span data-ttu-id="0fa02-593">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-593">Differences from 3.5 SP1</span></span> | <span data-ttu-id="0fa02-594">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="0fa02-594">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="0fa02-595">**Okna dialogowe**</span><span class="sxs-lookup"><span data-stu-id="0fa02-595">**Dialog boxes**</span></span> | <span data-ttu-id="0fa02-596">Aby zwiększyć niezawodność, <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> Metoda jest wywoływana w tym samym wątku, który utworzył <xref:Microsoft.Win32.FileDialog> formant.</span><span class="sxs-lookup"><span data-stu-id="0fa02-596">To improve reliability, the <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> method is called on the same thread that created the <xref:Microsoft.Win32.FileDialog> control.</span></span> | <span data-ttu-id="0fa02-597">Upewnij się, że tworzysz <xref:Microsoft.Win32.FileDialog> kontrolkę i Wywołaj <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> metodę w tym samym wątku.</span><span class="sxs-lookup"><span data-stu-id="0fa02-597">Be sure to create a <xref:Microsoft.Win32.FileDialog> control and call the <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> method on the same thread.</span></span> |
| <span data-ttu-id="0fa02-598">**Okna przestawne**</span><span class="sxs-lookup"><span data-stu-id="0fa02-598">**Floating windows**</span></span> | <span data-ttu-id="0fa02-599">Aby usunąć logikę przywracania fokusu, która nieprawidłowo utrzymuje ponowne uaktywnianie przepływającego okna (sprawianie, że jest ono widoczne jako modalne okno dialogowe), przywrócenie fokusu jest teraz blokowane, jeśli kandydat nie jest elementem podrzędnym okna.</span><span class="sxs-lookup"><span data-stu-id="0fa02-599">To fix focus restoration logic that incorrectly keeps reactivating a floating window (making it appear like a modal dialog box), focus restoration is now prevented if the candidate is not a child of the window.</span></span> | <span data-ttu-id="0fa02-600">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-600">None.</span></span> |
| <span data-ttu-id="0fa02-601">**Elementy w kolekcjach**</span><span class="sxs-lookup"><span data-stu-id="0fa02-601">**Items in collections**</span></span> | <span data-ttu-id="0fa02-602">Gdy element jest przenoszony lub dodawany do kolekcji źródłowej, pojawia się w tej <xref:System.Windows.Data.CollectionView> samej lokalizacji względnej, jeśli <xref:System.Windows.Data.CollectionView> nie jest sortowany.</span><span class="sxs-lookup"><span data-stu-id="0fa02-602">When an item is moved or added to an underlying collection, it appears in the <xref:System.Windows.Data.CollectionView> in the same relative location if the <xref:System.Windows.Data.CollectionView> is not sorted.</span></span> <span data-ttu-id="0fa02-603">Zapewnia to spójność pozycji elementu w kolekcji i w skojarzonej <xref:System.Windows.Data.CollectionView> .</span><span class="sxs-lookup"><span data-stu-id="0fa02-603">This provides consistency between the item's position in the collection and in the associated <xref:System.Windows.Data.CollectionView>.</span></span> | <span data-ttu-id="0fa02-604">Użyj <xref:System.Windows.Controls.ItemContainerGenerator.ContainerFromItem%2A> metody lub, <xref:System.Windows.Data.CollectionView.IndexOf%2A> Aby znaleźć lokalizację elementu w <xref:System.Windows.Data.CollectionView> zamiast polegać na ustalonej lokalizacji elementu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-604">Use the <xref:System.Windows.Controls.ItemContainerGenerator.ContainerFromItem%2A> or <xref:System.Windows.Data.CollectionView.IndexOf%2A> method to find the location of an item in a <xref:System.Windows.Data.CollectionView> instead of relying on a fixed location of an item.</span></span> |
| <span data-ttu-id="0fa02-605">**Układy**</span><span class="sxs-lookup"><span data-stu-id="0fa02-605">**Layouts**</span></span> | <span data-ttu-id="0fa02-606">Aby wyeliminować zbędne ponowne układy, zmiana <xref:System.Windows.Controls.Page.ShowsNavigationUI> układu nie jest już unieważnione lub powoduje przejście do innego układu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-606">To eliminate unnecessary re-layouts, changing the <xref:System.Windows.Controls.Page.ShowsNavigationUI> no longer invalidates layout or causes another layout pass.</span></span> | <span data-ttu-id="0fa02-607">Jeśli spodziewasz się, że zmiana <xref:System.Windows.Controls.Page.ShowsNavigationUI> będzie powodowała inny przebieg układu, wywołaj <xref:System.Windows.UIElement.InvalidateVisual%2A> po ustawieniu właściwości.</span><span class="sxs-lookup"><span data-stu-id="0fa02-607">If you expect that changing <xref:System.Windows.Controls.Page.ShowsNavigationUI> will cause another layout pass, call <xref:System.Windows.UIElement.InvalidateVisual%2A> after you set the property.</span></span> |
| <span data-ttu-id="0fa02-608">**Menu**</span><span class="sxs-lookup"><span data-stu-id="0fa02-608">**Menus**</span></span> | <span data-ttu-id="0fa02-609">Aby włączyć ClearType tekst w oknach menu podręcznych, modyfikacje zostały wprowadzone do <xref:System.Windows.Controls.ControlTemplate> klasy i <xref:System.Windows.Controls.MenuItem> kontrolki i innych kontrolek.</span><span class="sxs-lookup"><span data-stu-id="0fa02-609">To enable ClearType text in menu pop-ups, modifications were made to the <xref:System.Windows.Controls.ControlTemplate> class and to the <xref:System.Windows.Controls.MenuItem> control and other controls.</span></span> | <span data-ttu-id="0fa02-610">Aplikacje nie powinny opierać się na strukturze wizualizacji szablonów kontrolek.</span><span class="sxs-lookup"><span data-stu-id="0fa02-610">Applications should not rely on the visual structure of control templates.</span></span> <span data-ttu-id="0fa02-611">Tylko nazwane części a <xref:System.Windows.Controls.ControlTemplate> są częścią kontraktu publicznego.</span><span class="sxs-lookup"><span data-stu-id="0fa02-611">Only named parts of a <xref:System.Windows.Controls.ControlTemplate> are part of the public contract.</span></span> <span data-ttu-id="0fa02-612">Jeśli aplikacja musi znaleźć określony obiekt w <xref:System.Windows.Controls.ControlTemplate> , przeszukaj drzewo wizualizacji pod kątem określonego typu zamiast polegania na ustalonej lokalizacji obiektu w drzewie.</span><span class="sxs-lookup"><span data-stu-id="0fa02-612">If an application must find a certain object in a <xref:System.Windows.Controls.ControlTemplate>, search the visual tree for a specific type instead of relying on a fixed location of an object in the tree.</span></span> |
| <span data-ttu-id="0fa02-613">**Przechodząc**</span><span class="sxs-lookup"><span data-stu-id="0fa02-613">**Navigating**</span></span> | <span data-ttu-id="0fa02-614">Jeśli <xref:System.Windows.Controls.Frame> bezpośrednio nawiguje do lokalizacji, <xref:System.Windows.Navigation.NavigatingCancelEventArgs.IsNavigationInitiator> Właściwość jest `true` po początkowej nawigacji.</span><span class="sxs-lookup"><span data-stu-id="0fa02-614">If a <xref:System.Windows.Controls.Frame> directly navigates to a location, the <xref:System.Windows.Navigation.NavigatingCancelEventArgs.IsNavigationInitiator> property is `true` after the initial navigation.</span></span> <span data-ttu-id="0fa02-615">Ta zmiana uniemożliwi wywoływanie dodatkowych zdarzeń podczas scenariuszy uruchamiania.</span><span class="sxs-lookup"><span data-stu-id="0fa02-615">This change prevents additional events from being raised during startup scenarios.</span></span> | <span data-ttu-id="0fa02-616">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-616">None.</span></span> |
| <span data-ttu-id="0fa02-617">**Wyskakujące okienka**</span><span class="sxs-lookup"><span data-stu-id="0fa02-617">**Pop-ups**</span></span> | <span data-ttu-id="0fa02-618"><xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback>Delegat można teraz wywołać wiele razy podczas przebiegu układu, a nie tylko raz.</span><span class="sxs-lookup"><span data-stu-id="0fa02-618">The <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> delegate can now be called multiple times during a layout pass instead of only once.</span></span> | <span data-ttu-id="0fa02-619">Jeśli <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> obiekt delegowany oblicza pozycję w <xref:System.Windows.Controls.Primitives.Popup> oparciu o poprzednią pozycję, należy ponownie obliczyć pozycję tylko wtedy, gdy wartości `popupSize` `targetSize` parametrów, lub `offset` .</span><span class="sxs-lookup"><span data-stu-id="0fa02-619">If your <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> delegate calculates the position of a <xref:System.Windows.Controls.Primitives.Popup> based on its previous position, recalculate the position only if the values of the `popupSize`, `targetSize`, or `offset` parameters change.</span></span> |
| <span data-ttu-id="0fa02-620">**Wartości właściwości**</span><span class="sxs-lookup"><span data-stu-id="0fa02-620">**Property values**</span></span> | <span data-ttu-id="0fa02-621"><xref:System.Windows.DependencyObject.SetCurrentValue%2A>Teraz Metoda pozwala ustawić właściwość na wartość skuteczną, mimo że w dalszym ciągu będzie ona dotyczyła dowolnego powiązania, stylu lub wyzwalacza, który ma wpływ na właściwość.</span><span class="sxs-lookup"><span data-stu-id="0fa02-621">The <xref:System.Windows.DependencyObject.SetCurrentValue%2A> method now lets you set a property to an effective value, although it continues to respect any binding, style, or trigger that affects the property.</span></span> | <span data-ttu-id="0fa02-622">Autorzy kontroli powinni używać <xref:System.Windows.DependencyObject.SetCurrentValue%2A> zawsze, gdy wartość właściwości zmienia się jako efekt uboczny innej akcji, w tym manipulowanie użytkownikami.</span><span class="sxs-lookup"><span data-stu-id="0fa02-622">Control authors should use <xref:System.Windows.DependencyObject.SetCurrentValue%2A> whenever the property value changes as a side-effect of some other action, including user manipulation.</span></span> |
| <span data-ttu-id="0fa02-623">**Pola tekstowe**</span><span class="sxs-lookup"><span data-stu-id="0fa02-623">**Text boxes**</span></span> | <span data-ttu-id="0fa02-624">Ze względów bezpieczeństwa <xref:System.Windows.Forms.TextBoxBase.Copy%2A> metody i i <xref:System.Windows.Forms.TextBoxBase.Cut%2A> dyskretnie kończą się niepowodzeniem, gdy są wywoływane w częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="0fa02-624">For security considerations, the <xref:System.Windows.Forms.TextBoxBase.Copy%2A> and <xref:System.Windows.Forms.TextBoxBase.Cut%2A> methods silently fail when they are called in partial trust.</span></span><br><br><span data-ttu-id="0fa02-625">Ponadto wykonywanie programistyczne <xref:System.Windows.Input.ApplicationCommands.Copy> lub <xref:System.Windows.Input.ApplicationCommands.Cut> Właściwość na kontrolce, która dziedziczy po, <xref:System.Windows.Controls.Primitives.TextBoxBase> będzie blokowane w częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="0fa02-625">In addition, programmatic execution of the <xref:System.Windows.Input.ApplicationCommands.Copy> or <xref:System.Windows.Input.ApplicationCommands.Cut> property on a control that inherits from <xref:System.Windows.Controls.Primitives.TextBoxBase> will be blocked in partial trust.</span></span> <span data-ttu-id="0fa02-626">Jednak zainicjowane przez użytkownika polecenia kopiowania i wycinania, takie jak kliknięcie przycisku <xref:System.Windows.Controls.Primitives.ButtonBase.Command> , którego właściwość jest powiązana z jednym z tych poleceń, będą działały.</span><span class="sxs-lookup"><span data-stu-id="0fa02-626">However, user-initiated copy and cut commands, such as clicking a button whose <xref:System.Windows.Controls.Primitives.ButtonBase.Command> property is bound to one of these commands, will work.</span></span> <span data-ttu-id="0fa02-627">Standardowe kopiowanie i wycinanie za pomocą skrótów klawiaturowych i menu kontekstowego będzie nadal działały tak jak wcześniej w częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="0fa02-627">Standard copy and cut through keyboard shortcuts and the context menu will still work as before in partial trust.</span></span> | <span data-ttu-id="0fa02-628">Powiąż <xref:System.Windows.Input.ApplicationCommands.Copy> <xref:System.Windows.Input.ApplicationCommands.Cut> polecenie lub z akcją zainicjowaną przez użytkownika, taką jak kliknięcie przycisku.</span><span class="sxs-lookup"><span data-stu-id="0fa02-628">Bind the <xref:System.Windows.Input.ApplicationCommands.Copy> or <xref:System.Windows.Input.ApplicationCommands.Cut> command to a user-initiated action, such as clicking a button.</span></span> |

### <a name="graphics"></a><span data-ttu-id="0fa02-629">Grafika</span><span class="sxs-lookup"><span data-stu-id="0fa02-629">Graphics</span></span>

<span data-ttu-id="0fa02-630">Przestrzenie nazw: <xref:System.Windows> , <xref:System.Windows.Controls> ,, <xref:System.Windows.Data> <xref:System.Windows.Input> ,<xref:System.Windows.Media.Effects></span><span class="sxs-lookup"><span data-stu-id="0fa02-630">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Media.Effects></span></span>

<span data-ttu-id="0fa02-631">Zestawy: platformie docelowej (w PresentationFramework.dll), 'Presentationcore (w PresentationCore.dll), 'Windowsbase (w WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="0fa02-631">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="0fa02-632">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-632">Feature</span></span> | <span data-ttu-id="0fa02-633">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-633">Differences from 3.5 SP1</span></span> | <span data-ttu-id="0fa02-634">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="0fa02-634">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="0fa02-635">**Efekty mapy bitowej**</span><span class="sxs-lookup"><span data-stu-id="0fa02-635">**Bitmap effects**</span></span> | <span data-ttu-id="0fa02-636">Aby zwiększyć wydajność, <xref:System.Windows.Media.Effects.BitmapEffect> Klasa i klasy dziedziczące z <xref:System.Windows.Media.Effects.BitmapEffect> klasy, chociaż nadal istnieją, są wyłączone.</span><span class="sxs-lookup"><span data-stu-id="0fa02-636">To improve performance, the <xref:System.Windows.Media.Effects.BitmapEffect> class and the classes that inherit from the <xref:System.Windows.Media.Effects.BitmapEffect> class, although still present, are disabled.</span></span> <span data-ttu-id="0fa02-637">Efekt będzie renderowany przy użyciu potoku renderowania sprzętowego, jeśli spełnione są następujące warunki:</span><span class="sxs-lookup"><span data-stu-id="0fa02-637">The effect will render by using the hardware-accelerated rendering pipeline if the following conditions are true:</span></span><br><br><span data-ttu-id="0fa02-638">\*Aplikacja używa <xref:System.Windows.Media.Effects.DropShadowBitmapEffect> lub a <xref:System.Windows.Media.Effects.BlurBitmapEffect> ma właściwość RADIUS o wartości mniejszej niż 100 DIU.</span><span class="sxs-lookup"><span data-stu-id="0fa02-638">\* The application uses a <xref:System.Windows.Media.Effects.DropShadowBitmapEffect> or a <xref:System.Windows.Media.Effects.BlurBitmapEffect> that has a radius property set less than 100 DIU.</span></span><br><span data-ttu-id="0fa02-639">\*Karta wideo na komputerze, na którym działa aplikacja, obsługuje program cieniowania pikseli 2,0.</span><span class="sxs-lookup"><span data-stu-id="0fa02-639">\* The video card on the computer that runs the application supports pixel shader 2.0.</span></span><br><br><span data-ttu-id="0fa02-640">Jeśli te warunki nie są spełnione, <xref:System.Windows.Media.Effects.BitmapEffect> obiekt nie będzie miał żadnego efektu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-640">If these conditions are not met, a <xref:System.Windows.Media.Effects.BitmapEffect> object will have no effect.</span></span><br><br><span data-ttu-id="0fa02-641">Ponadto program Visual Studio generuje ostrzeżenie kompilatora, gdy napotka <xref:System.Windows.Media.Effects.BitmapEffect> obiekt lub podklasę.</span><span class="sxs-lookup"><span data-stu-id="0fa02-641">Also, Visual Studio produces a compiler warning when it encounters the <xref:System.Windows.Media.Effects.BitmapEffect> object or a subclass.</span></span><br><br><span data-ttu-id="0fa02-642"><xref:System.Windows.Media.DrawingContext.PushEffect%2A>Metoda jest oznaczona jako przestarzała.</span><span class="sxs-lookup"><span data-stu-id="0fa02-642">The <xref:System.Windows.Media.DrawingContext.PushEffect%2A> method is marked obsolete.</span></span> | <span data-ttu-id="0fa02-643">Zaprzestanie używania starszych <xref:System.Windows.Media.Effects.BitmapEffect> i pochodnych klas i zamiast tego użyj nowych klas pochodnych z <xref:System.Windows.Media.Effects.Effect> : <xref:System.Windows.Media.Effects.BlurEffect> , <xref:System.Windows.Media.Effects.DropShadowEffect> , i <xref:System.Windows.Media.Effects.ShaderEffect> .</span><span class="sxs-lookup"><span data-stu-id="0fa02-643">Discontinue using the legacy <xref:System.Windows.Media.Effects.BitmapEffect> and derived classes and instead use the new classes derived from <xref:System.Windows.Media.Effects.Effect>: <xref:System.Windows.Media.Effects.BlurEffect>, <xref:System.Windows.Media.Effects.DropShadowEffect>, and <xref:System.Windows.Media.Effects.ShaderEffect>.</span></span><br><br><span data-ttu-id="0fa02-644">Możesz również utworzyć własne efekty, dziedzicząc z <xref:System.Windows.Media.Effects.ShaderEffect> klasy.</span><span class="sxs-lookup"><span data-stu-id="0fa02-644">You can also create your own effects by inheriting from the <xref:System.Windows.Media.Effects.ShaderEffect> class.</span></span> |
| <span data-ttu-id="0fa02-645">**Ramki mapy bitowej**</span><span class="sxs-lookup"><span data-stu-id="0fa02-645">**Bitmap frames**</span></span> | <span data-ttu-id="0fa02-646">Sklonowane <xref:System.Windows.Media.Imaging.BitmapFrame> obiekty teraz otrzymują <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress> <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted> zdarzenia, i <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> .</span><span class="sxs-lookup"><span data-stu-id="0fa02-646">The cloned <xref:System.Windows.Media.Imaging.BitmapFrame> objects now receive the <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>, and <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> events.</span></span> <span data-ttu-id="0fa02-647">Dzięki temu obrazy pobierane z sieci Web i stosowane do <xref:System.Windows.Controls.Image> sterowania przez program <xref:System.Windows.Style> działają poprawnie.</span><span class="sxs-lookup"><span data-stu-id="0fa02-647">This enables images that are downloaded from the Web and applied to the <xref:System.Windows.Controls.Image> control through a <xref:System.Windows.Style> to work correctly.</span></span><br><br><span data-ttu-id="0fa02-648">Zmienisz zachowanie tylko wtedy, gdy są spełnione wszystkie następujące instrukcje:</span><span class="sxs-lookup"><span data-stu-id="0fa02-648">You will see a change in behavior only if all of the following statements are true:</span></span><br><br><span data-ttu-id="0fa02-649">\*Subskrybujesz <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress> <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted> zdarzenie,, lub <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> .</span><span class="sxs-lookup"><span data-stu-id="0fa02-649">\* You subscribe to the <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>, or <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> event.</span></span><br><span data-ttu-id="0fa02-650">\*Źródło <xref:System.Windows.Media.Imaging.BitmapFrame> pochodzi z sieci Web.</span><span class="sxs-lookup"><span data-stu-id="0fa02-650">\* The source of the <xref:System.Windows.Media.Imaging.BitmapFrame> is from the Web.</span></span><br><span data-ttu-id="0fa02-651">\*<xref:System.Windows.Media.Imaging.BitmapFrame>Jest klonowany, gdy pobieranie jest nadal w toku.</span><span class="sxs-lookup"><span data-stu-id="0fa02-651">\* The <xref:System.Windows.Media.Imaging.BitmapFrame> is cloned while the download is still in progress.</span></span> | <span data-ttu-id="0fa02-652">Sprawdź nadawcę w programie obsługi zdarzeń i wykonaj akcję tylko wtedy, gdy nadawca jest oryginalny <xref:System.Windows.Media.Imaging.BitmapFrame> .</span><span class="sxs-lookup"><span data-stu-id="0fa02-652">Check the sender in the event handler and take action only if the sender is the original <xref:System.Windows.Media.Imaging.BitmapFrame>.</span></span> |
| <span data-ttu-id="0fa02-653">**Dekodowanie obrazów**</span><span class="sxs-lookup"><span data-stu-id="0fa02-653">**Decoding images**</span></span> | <span data-ttu-id="0fa02-654">Aby zapobiec <xref:System.IO.IOException> obsłudze nie jest obsługiwane, gdy obrazy nie mogą dekodować, <xref:System.Windows.Media.Imaging.BitmapSource> Klasa spowoduje wygenerowanie zdarzenia, gdy nie <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> dekoduje obrazu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-654">To prevent an <xref:System.IO.IOException> from not being handled when images may not decode, the <xref:System.Windows.Media.Imaging.BitmapSource> class will raise the <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> event when it does not decode an image.</span></span> | <span data-ttu-id="0fa02-655">Usuń obsługę wyjątków dla programu <xref:System.IO.IOException> i użyj zdarzenia, <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> Aby sprawdzić, czy dekodowanie nie powiodło się.</span><span class="sxs-lookup"><span data-stu-id="0fa02-655">Remove any exception handling for <xref:System.IO.IOException>, and use the <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> event to check for decode failure.</span></span> |

### <a name="input"></a><span data-ttu-id="0fa02-656">Dane wejściowe</span><span class="sxs-lookup"><span data-stu-id="0fa02-656">Input</span></span>

<span data-ttu-id="0fa02-657">Przestrzenie nazw: <xref:System.Windows> , <xref:System.Windows.Controls> , <xref:System.Windows.Data> ,<xref:System.Windows.Input></span><span class="sxs-lookup"><span data-stu-id="0fa02-657">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input></span></span>

<span data-ttu-id="0fa02-658">Zestawy: platformie docelowej (w PresentationFramework.dll), 'Presentationcore (w PresentationCore.dll), 'Windowsbase (w WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="0fa02-658">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="0fa02-659">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-659">Feature</span></span> | <span data-ttu-id="0fa02-660">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-660">Differences from 3.5 SP1</span></span> | <span data-ttu-id="0fa02-661">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="0fa02-661">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="0fa02-662">**Wystąpienia poleceń powiązań**</span><span class="sxs-lookup"><span data-stu-id="0fa02-662">**Binding command instances**</span></span> | <span data-ttu-id="0fa02-663">Aby zapewnić mechanizm powiązania wystąpień poleceń opartych na modelu widoku w celu wyświetlenia gestów wejścia opartych na danych, <xref:System.Windows.Input.InputBinding> Klasa ta dziedziczy od <xref:System.Windows.Freezable> zamiast <xref:System.Windows.DependencyObject> .</span><span class="sxs-lookup"><span data-stu-id="0fa02-663">To provide a mechanism to bind View-Model-based command instances to View-based input gestures, the <xref:System.Windows.Input.InputBinding> class now inherits from <xref:System.Windows.Freezable> instead of <xref:System.Windows.DependencyObject>.</span></span> <span data-ttu-id="0fa02-664">Następujące właściwości są teraz właściwościami zależności:</span><span class="sxs-lookup"><span data-stu-id="0fa02-664">The following properties are now dependency properties:</span></span><br><br><span data-ttu-id="0fa02-665">\* <xref:System.Windows.Input.InputBinding.Command></span><span class="sxs-lookup"><span data-stu-id="0fa02-665">\* <xref:System.Windows.Input.InputBinding.Command></span></span><br><span data-ttu-id="0fa02-666">\* <xref:System.Windows.Input.InputBinding.CommandParameter></span><span class="sxs-lookup"><span data-stu-id="0fa02-666">\* <xref:System.Windows.Input.InputBinding.CommandParameter></span></span><br><span data-ttu-id="0fa02-667">\* <xref:System.Windows.Input.InputBinding.CommandTarget></span><span class="sxs-lookup"><span data-stu-id="0fa02-667">\* <xref:System.Windows.Input.InputBinding.CommandTarget></span></span><br><br><span data-ttu-id="0fa02-668">Spowoduje to następujące zmiany:</span><span class="sxs-lookup"><span data-stu-id="0fa02-668">This change results in the following:</span></span><br><br><span data-ttu-id="0fa02-669">\*<xref:System.Windows.Input.InputBinding>Obiekt jest teraz zamrożony, gdy jest zarejestrowany, a nie jako pozostałe modyfikowalne.</span><span class="sxs-lookup"><span data-stu-id="0fa02-669">\* An <xref:System.Windows.Input.InputBinding> object is now frozen when it is registered instead of remaining mutable.</span></span><br><span data-ttu-id="0fa02-670">\*Nie można uzyskać dostępu do <xref:System.Windows.Input.InputBinding> obiektów na poziomie wystąpienia z wielu wątków ze względu na ograniczenia <xref:System.Windows.DependencyObject> klasy.</span><span class="sxs-lookup"><span data-stu-id="0fa02-670">\* You cannot access instance-level <xref:System.Windows.Input.InputBinding> objects from multiple threads, due to the restrictions of the <xref:System.Windows.DependencyObject> class.</span></span><br><span data-ttu-id="0fa02-671">\*Nie można zmodyfikować powiązań wejściowych na poziomie klasy po ich rejestracji ze względu na ograniczenia <xref:System.Windows.Freezable> klasy.</span><span class="sxs-lookup"><span data-stu-id="0fa02-671">\* You cannot mutate class-level input bindings after their registration, due to the restrictions of the <xref:System.Windows.Freezable> class.</span></span><br><span data-ttu-id="0fa02-672">\*Nie można określić powiązań wejściowych w wystąpieniach poleceń, które są tworzone w modelu widoku.</span><span class="sxs-lookup"><span data-stu-id="0fa02-672">\* You cannot specify input bindings on command instances that are created in a View-Model.</span></span> | <span data-ttu-id="0fa02-673">Utwórz oddzielne wystąpienia <xref:System.Windows.Input.InputBinding> klasy w oddzielnych wątkach, jeśli powiązania mają być modyfikowalne lub Zablokuj je w inny sposób.</span><span class="sxs-lookup"><span data-stu-id="0fa02-673">Create separate instances of an <xref:System.Windows.Input.InputBinding> class on separate threads if bindings are to be mutable, or freeze them otherwise.</span></span> <span data-ttu-id="0fa02-674">Nie zmieniaj elementu statycznego na poziomie klasy <xref:System.Windows.Input.InputBinding> po jego zarejestrowaniu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-674">Do not mutate a class-level static <xref:System.Windows.Input.InputBinding> after it has been registered.</span></span> |
| <span data-ttu-id="0fa02-675">**Aplikacje przeglądarki**</span><span class="sxs-lookup"><span data-stu-id="0fa02-675">**Browser applications**</span></span> | <span data-ttu-id="0fa02-676">Aplikacje przeglądarki WPF (. Aplikacje XBAP) przetwarzają teraz kluczowe zdarzenia, podobnie jak autonomiczne aplikacje WPF, dzięki czemu obiekty są odbierane z kluczowymi zdarzeniami w odpowiedniej kolejności.</span><span class="sxs-lookup"><span data-stu-id="0fa02-676">WPF Browser applications (.XBAP) now process key events just like stand-alone WPF applications so that objects receive routed key events in the correct order.</span></span> | <span data-ttu-id="0fa02-677">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-677">None.</span></span> |
| <span data-ttu-id="0fa02-678">**Kombinacje utraconych klawiszy**</span><span class="sxs-lookup"><span data-stu-id="0fa02-678">**Dead key combinations**</span></span> | <span data-ttu-id="0fa02-679">WPF zasłania niedziałające klucze, które nie generują widocznego znaku, ale zamiast tego wskazują, że klucz ma być połączony z następnym klawiszem litery w celu utworzenia jednego znaku.</span><span class="sxs-lookup"><span data-stu-id="0fa02-679">WPF obfuscates dead keys, which produce no visible character, but instead indicates that the key is to be combined with the next letter key to produce one character.</span></span> <span data-ttu-id="0fa02-680">Zdarzenia wejściowe klucza, takie jak <xref:System.Windows.Input.Keyboard.KeyDownEvent> zdarzenie, raport, gdy klucz jest martwym kluczem przez ustawienie <xref:System.Windows.Input.KeyEventArgs.Key> właściwości na <xref:System.Windows.Input.Key> wartość.</span><span class="sxs-lookup"><span data-stu-id="0fa02-680">The key input events, such as the <xref:System.Windows.Input.Keyboard.KeyDownEvent> event, report when a key is a dead key by setting the <xref:System.Windows.Input.KeyEventArgs.Key> property to the <xref:System.Windows.Input.Key> value.</span></span> <span data-ttu-id="0fa02-681">Zwykle jest to oczekiwane zachowanie, ponieważ aplikacje zwykle nie mają odpowiedzi na dane wejściowe z klawiatury, które tworzą połączony znak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-681">This is usually expected behavior because applications usually do not intend to respond to keyboard input that creates a combined character.</span></span> | <span data-ttu-id="0fa02-682">Aplikacje, które oczekują odczytywania kluczy, które były częścią połączonych znaków, mogą uzyskać teraz przysłonięty klucz za pomocą <xref:System.Windows.Input.KeyEventArgs.DeadCharProcessedKey> właściwości.</span><span class="sxs-lookup"><span data-stu-id="0fa02-682">Applications that expect to read keys that were part of combined characters can get the now obfuscated key by using the <xref:System.Windows.Input.KeyEventArgs.DeadCharProcessedKey> property.</span></span> |
| <span data-ttu-id="0fa02-683">**Menedżer fokusu**</span><span class="sxs-lookup"><span data-stu-id="0fa02-683">**Focus manager**</span></span> | <span data-ttu-id="0fa02-684">Gdy <xref:System.Windows.Input.FocusManager.GetFocusedElement(System.Windows.DependencyObject)?displayProperty=nameWithType> Metoda jest przekazana do elementu, który ma właściwość [IsFocusScope](xref:System.Windows.Input.FocusManager.IsFocusScope%2A) dołączone do `true` , metoda zwraca element, który jest elementem, który jest obiektem, który jest ostatni obiektem skoncentrowanym na tym zakresie, jeśli i tylko wtedy, gdy zwracany element należy do tego samego <xref:System.Windows.PresentationSource> obiektu co element, który jest przesyłany do metody.</span><span class="sxs-lookup"><span data-stu-id="0fa02-684">When the <xref:System.Windows.Input.FocusManager.GetFocusedElement(System.Windows.DependencyObject)?displayProperty=nameWithType> method is passed an element that has the [IsFocusScope](xref:System.Windows.Input.FocusManager.IsFocusScope%2A) attached property set to `true`, the method returns an element that is the last keyboard-focused element within that focus scope if and only if the returned element belongs to the same <xref:System.Windows.PresentationSource> object as the element that is passed to the method.</span></span> | <span data-ttu-id="0fa02-685">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-685">None.</span></span> |

### <a name="ui-automation"></a><span data-ttu-id="0fa02-686">Automatyzacja interfejsu użytkownika</span><span class="sxs-lookup"><span data-stu-id="0fa02-686">UI Automation</span></span>

<span data-ttu-id="0fa02-687">Przestrzeń nazw <xref:System.Windows> : <xref:System.Windows.Automation.Peers> , <xref:System.Windows.Automation.Provider> , <xref:System.Windows.Controls> <xref:System.Windows.Data> ,,<xref:System.Windows.Input></span><span class="sxs-lookup"><span data-stu-id="0fa02-687">Namespace: <xref:System.Windows>, <xref:System.Windows.Automation.Peers>, <xref:System.Windows.Automation.Provider>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input></span></span>

<span data-ttu-id="0fa02-688">Zestawy: platformie docelowej (w PresentationFramework.dll), 'Presentationcore (w PresentationCore.dll), UIAutomationProvider (w UIAutomationProvider.dll), 'Windowsbase (w WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="0fa02-688">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), UIAutomationProvider (in UIAutomationProvider.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="0fa02-689">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-689">Feature</span></span> | <span data-ttu-id="0fa02-690">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-690">Differences from 3.5 SP1</span></span> | <span data-ttu-id="0fa02-691">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="0fa02-691">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="0fa02-692">**Hierarchia klas widoków**</span><span class="sxs-lookup"><span data-stu-id="0fa02-692">**Class hierarchy of views**</span></span> | <span data-ttu-id="0fa02-693"><xref:System.Windows.Automation.Peers.TreeViewAutomationPeer>Klasy i <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> dziedziczą od <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer> zamiast <xref:System.Windows.Automation.Peers.FrameworkElementAutomationPeer> .</span><span class="sxs-lookup"><span data-stu-id="0fa02-693">The <xref:System.Windows.Automation.Peers.TreeViewAutomationPeer> and <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> classes inherit from <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer> instead of <xref:System.Windows.Automation.Peers.FrameworkElementAutomationPeer>.</span></span> | <span data-ttu-id="0fa02-694">Jeśli dziedziczysz z <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> klas i zastąpisz <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer.GetChildrenCore%2A> metodę, rozważ zwrócenie obiektu, który dziedziczy z nowej <xref:System.Windows.Automation.Peers.TreeViewDataItemAutomationPeer> klasy.</span><span class="sxs-lookup"><span data-stu-id="0fa02-694">If you inherit from the <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> classes and override the <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer.GetChildrenCore%2A> method, consider returning an object that inherits from the new <xref:System.Windows.Automation.Peers.TreeViewDataItemAutomationPeer> class.</span></span> |
| <span data-ttu-id="0fa02-695">**Kontenery poza ekranem**</span><span class="sxs-lookup"><span data-stu-id="0fa02-695">**Containers off screen**</span></span> | <span data-ttu-id="0fa02-696">Aby naprawić niepoprawną wartość zwracaną, <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.IsOffscreenCore%2A> Metoda teraz poprawnie zwraca `false` dla kontenerów elementów, które są przewijane do wyświetlenia.</span><span class="sxs-lookup"><span data-stu-id="0fa02-696">To fix an incorrect return value, the <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.IsOffscreenCore%2A> method now correctly returns `false` for item containers that are scrolled out of view.</span></span> <span data-ttu-id="0fa02-697">Ponadto wartość metody nie ma wpływ na zamknięcia przez inne okna lub czy element jest widoczny na określonym monitorze.</span><span class="sxs-lookup"><span data-stu-id="0fa02-697">Also, the value of the method is not affected by occlusion by other windows, or by whether the element is visible on a specific monitor.</span></span> | <span data-ttu-id="0fa02-698">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-698">None.</span></span> |
| <span data-ttu-id="0fa02-699">**Menu i obiekty podrzędne**</span><span class="sxs-lookup"><span data-stu-id="0fa02-699">**Menus and child objects**</span></span> | <span data-ttu-id="0fa02-700">Aby włączyć automatyzację interfejsu użytkownika menu, które zawiera elementy podrzędne inne niż <xref:System.Windows.Controls.MenuItem> obiekty, <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer.GetChildrenCore%2A> Metoda teraz zwraca <xref:System.Windows.Automation.Peers.AutomationPeer> obiekt obiektu podrzędnego <xref:System.Windows.UIElement> zamiast <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer> obiektu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-700">To enable UI automation of menus that contain children other than <xref:System.Windows.Controls.MenuItem> objects, the <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer.GetChildrenCore%2A> method now returns the <xref:System.Windows.Automation.Peers.AutomationPeer> object of a child <xref:System.Windows.UIElement> object, instead of a <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer> object.</span></span> | <span data-ttu-id="0fa02-701">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-701">None.</span></span> |
| <span data-ttu-id="0fa02-702">**Nowe interfejsy i zestaw**</span><span class="sxs-lookup"><span data-stu-id="0fa02-702">**New interfaces and assembly**</span></span> | <span data-ttu-id="0fa02-703">Aby włączyć nowe funkcje automatyzacji interfejsu użytkownika, dodano następujące interfejsy:</span><span class="sxs-lookup"><span data-stu-id="0fa02-703">To enable new features for UI automation, the following interfaces were added:</span></span><br><br><span data-ttu-id="0fa02-704">\* <xref:System.Windows.Automation.Provider.IItemContainerProvider></span><span class="sxs-lookup"><span data-stu-id="0fa02-704">\* <xref:System.Windows.Automation.Provider.IItemContainerProvider></span></span><br><span data-ttu-id="0fa02-705">\* <xref:System.Windows.Automation.Provider.ISynchronizedInputProvider></span><span class="sxs-lookup"><span data-stu-id="0fa02-705">\* <xref:System.Windows.Automation.Provider.ISynchronizedInputProvider></span></span><br><span data-ttu-id="0fa02-706">\* <xref:System.Windows.Automation.Provider.IVirtualizedItemProvider></span><span class="sxs-lookup"><span data-stu-id="0fa02-706">\* <xref:System.Windows.Automation.Provider.IVirtualizedItemProvider></span></span> | <span data-ttu-id="0fa02-707">Każdy projekt, który kompiluje elementy równorzędne automatyzacji programu WPF, musi dodać jawne odwołanie do UIAutomationProvider.dll.</span><span class="sxs-lookup"><span data-stu-id="0fa02-707">Any project that builds WPF automation peers must add an explicit reference to UIAutomationProvider.dll.</span></span> |
| <span data-ttu-id="0fa02-708">**Thumbs**</span><span class="sxs-lookup"><span data-stu-id="0fa02-708">**Thumbs**</span></span> | <span data-ttu-id="0fa02-709"><xref:System.Windows.Automation.Peers.ThumbAutomationPeer.GetClassNameCore%2A>Metoda zwraca wartość, a nie wartość null.</span><span class="sxs-lookup"><span data-stu-id="0fa02-709">The <xref:System.Windows.Automation.Peers.ThumbAutomationPeer.GetClassNameCore%2A> method returns a value instead of null.</span></span> <span data-ttu-id="0fa02-710">W związku z tym, formanty takie jak <xref:System.Windows.Controls.GridSplitter> dziedziczenie z <xref:System.Windows.Controls.Primitives.Thumb> klasy będą zgłaszać nazwę automatyzacji interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0fa02-710">Therefore, controls such as <xref:System.Windows.Controls.GridSplitter> that inherit from the <xref:System.Windows.Controls.Primitives.Thumb> class will report a name to UI Automation.</span></span> | <span data-ttu-id="0fa02-711">Brak.</span><span class="sxs-lookup"><span data-stu-id="0fa02-711">None.</span></span> |
| <span data-ttu-id="0fa02-712">**Elementy zwirtualizowane**</span><span class="sxs-lookup"><span data-stu-id="0fa02-712">**Virtualized elements**</span></span> | <span data-ttu-id="0fa02-713">Aby zwiększyć wydajność, <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.GetChildrenCore%2A> Metoda zwraca tylko obiekty podrzędne, które faktycznie znajdują się w drzewie wizualnym, a nie wszystkie obiekty podrzędne, niezależnie od tego, czy są zwirtualizowane.</span><span class="sxs-lookup"><span data-stu-id="0fa02-713">To improve performance, the <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.GetChildrenCore%2A> method returns only the child objects that are actually in the visual tree, instead of all child objects, regardless of whether they are virtualized.</span></span> | <span data-ttu-id="0fa02-714">Służy <xref:System.Windows.Automation.ItemContainerPattern> do iteracji wszystkich elementów <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer> .</span><span class="sxs-lookup"><span data-stu-id="0fa02-714">Use <xref:System.Windows.Automation.ItemContainerPattern> to iterate over all items of an <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer>.</span></span> |

### <a name="xaml"></a><span data-ttu-id="0fa02-715">XAML</span><span class="sxs-lookup"><span data-stu-id="0fa02-715">XAML</span></span>

<span data-ttu-id="0fa02-716">Przestrzenie nazw: <xref:System.Windows> , <xref:System.Windows.Controls> ,, <xref:System.Windows.Data> <xref:System.Windows.Input> ,<xref:System.Windows.Markup></span><span class="sxs-lookup"><span data-stu-id="0fa02-716">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Markup></span></span>

<span data-ttu-id="0fa02-717">Zestawy: platformie docelowej (w PresentationFramework.dll), 'Presentationcore (w PresentationCore.dll), 'Windowsbase (w WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="0fa02-717">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="0fa02-718">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-718">Feature</span></span> | <span data-ttu-id="0fa02-719">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-719">Differences from 3.5 SP1</span></span> | <span data-ttu-id="0fa02-720">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="0fa02-720">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="0fa02-721">**Rozszerzenie znaczników**</span><span class="sxs-lookup"><span data-stu-id="0fa02-721">**Markup extension**</span></span> | <span data-ttu-id="0fa02-722">WPF teraz zawsze używa wartości z <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> metody zamiast zwracać <xref:System.Windows.Markup.MarkupExtension> obiekt w niektórych przypadkach, gdy rozszerzenie znacznika służy do ustawiania właściwości lub do tworzenia elementu w kolekcji.</span><span class="sxs-lookup"><span data-stu-id="0fa02-722">WPF now correctly always uses the value from the <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> method instead of returning the <xref:System.Windows.Markup.MarkupExtension> object in certain cases when a markup extension is used to set a property or to create an item in a collection.</span></span> <span data-ttu-id="0fa02-723">Rozszerzenie znaczników może zwrócić się w niektórych przypadkach.</span><span class="sxs-lookup"><span data-stu-id="0fa02-723">A markup extension might return itself in some cases.</span></span> | <span data-ttu-id="0fa02-724">Jeśli aplikacja uzyskuje dostęp do zasobu, który zwrócił <xref:System.Windows.Markup.MarkupExtension> obiekt we wcześniejszych wersjach, odwołuje się do obiektu, który jest zwracany z <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> , zamiast <xref:System.Windows.Markup.MarkupExtension> obiektu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-724">If your application accesses a resource that returned a <xref:System.Windows.Markup.MarkupExtension> object in earlier versions, reference the object that is returned from <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, instead of the <xref:System.Windows.Markup.MarkupExtension> object.</span></span> |
| <span data-ttu-id="0fa02-725">**Analizowanie atrybutów**</span><span class="sxs-lookup"><span data-stu-id="0fa02-725">**Parsing attributes**</span></span> | <span data-ttu-id="0fa02-726">Atrybuty w języku XAML mogą teraz mieć tylko jeden okres.</span><span class="sxs-lookup"><span data-stu-id="0fa02-726">Attributes in XAML can now have only one period.</span></span> <span data-ttu-id="0fa02-727">Na przykład prawidłowe są następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="0fa02-727">For example, the following are valid:</span></span><br><br><span data-ttu-id="0fa02-728">`<Button Background="Red"/>`(brak kropek)</span><span class="sxs-lookup"><span data-stu-id="0fa02-728">`<Button Background="Red"/>` (no periods)</span></span><br><br><span data-ttu-id="0fa02-729">`<Button Button.Background = "Red"/>`(jeden okres)</span><span class="sxs-lookup"><span data-stu-id="0fa02-729">`<Button Button.Background = "Red"/>` (one period)</span></span><br><br><span data-ttu-id="0fa02-730">Następujące elementy nie są już prawidłowe:</span><span class="sxs-lookup"><span data-stu-id="0fa02-730">The following is no longer valid:</span></span><br><br><span data-ttu-id="0fa02-731">`<Button Control.Button.Background = "Red"/>`(więcej niż jeden okres)</span><span class="sxs-lookup"><span data-stu-id="0fa02-731">`<Button Control.Button.Background = "Red"/>` (more than one period)</span></span> | <span data-ttu-id="0fa02-732">Popraw atrybuty XAML, które mają więcej niż jeden okres.</span><span class="sxs-lookup"><span data-stu-id="0fa02-732">Correct XAML attributes that have more than one period.</span></span> |

## <a name="xml"></a><span data-ttu-id="0fa02-733">XML</span><span class="sxs-lookup"><span data-stu-id="0fa02-733">XML</span></span>

<span data-ttu-id="0fa02-734">W wierszach w tej tabeli opisano ulepszenia dotyczące funkcji, które wcześniej miały ograniczenia lub inne problemy.</span><span class="sxs-lookup"><span data-stu-id="0fa02-734">The rows in this table describe improvements to features that previously had limitations or other issues.</span></span>

### <a name="schema-and-transforms"></a><span data-ttu-id="0fa02-735">Schemat i przekształcenia</span><span class="sxs-lookup"><span data-stu-id="0fa02-735">Schema and transforms</span></span>

<span data-ttu-id="0fa02-736">Przestrzenie nazw: <xref:System.Xml.Linq> ; <xref:System.Xml.Schema> ,<xref:System.Xml.XPath></span><span class="sxs-lookup"><span data-stu-id="0fa02-736">Namespaces: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath></span></span>

<span data-ttu-id="0fa02-737">Zestawy: System.Xml (w System.Xml.dll), System.Xml. LINQ (w System.Xml.Linq.dll)</span><span class="sxs-lookup"><span data-stu-id="0fa02-737">Assemblies: System.Xml (in System.Xml.dll), System.Xml.Linq (in System.Xml.Linq.dll)</span></span>

| <span data-ttu-id="0fa02-738">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-738">Feature</span></span> | <span data-ttu-id="0fa02-739">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-739">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="0fa02-740">**Schematy Chameleon**</span><span class="sxs-lookup"><span data-stu-id="0fa02-740">**Chameleon schemas**</span></span> | <span data-ttu-id="0fa02-741">Aby zapobiec uszkodzeniu danych, schematy Chameleon są teraz sklonowane prawidłowo, gdy są zawarte w wielu schematach.</span><span class="sxs-lookup"><span data-stu-id="0fa02-741">To prevent data corruption, chameleon schemas are now cloned correctly when they are included with multiple schemas.</span></span><br><br><span data-ttu-id="0fa02-742">Schematy Chameleon to schematy, które nie mają docelowej przestrzeni nazw i gdy są zawarte w innym pliku XSD, przyjmują przestrzeń nazw Target schematu importowania.</span><span class="sxs-lookup"><span data-stu-id="0fa02-742">Chameleon schemas are schemas that do not have a target namespace, and when they are included in another XSD, they take on the target namespace of the importing schema.</span></span> <span data-ttu-id="0fa02-743">Są one często używane do uwzględnienia wspólnych typów w schemacie.</span><span class="sxs-lookup"><span data-stu-id="0fa02-743">They are often used to include common types into a schema.</span></span> |
| <span data-ttu-id="0fa02-744">**Funkcje identyfikatorów**</span><span class="sxs-lookup"><span data-stu-id="0fa02-744">**ID functions**</span></span> | <span data-ttu-id="0fa02-745">[Funkcja identyfikatora](/sql/xquery/functions-on-sequences-id) XSLT zwraca teraz poprawną wartość zamiast wartości null, gdy <xref:System.Xml.XmlReader> obiekt jest przesyłany do XLST.</span><span class="sxs-lookup"><span data-stu-id="0fa02-745">The XSLT [id function](/sql/xquery/functions-on-sequences-id) now returns the correct value instead of null when an <xref:System.Xml.XmlReader> object is passed to an XLST.</span></span><br><br><span data-ttu-id="0fa02-746">Jeśli użytkownik utworzył <xref:System.Xml.XmlReader> obiekt z klasy LINQ to XML przy użyciu <xref:System.Xml.Linq.XNode.CreateReader%2A> metody, a ten <xref:System.Xml.XmlReader> obiekt został przekazano do XSLT, wszystkie wystąpienia `id` funkcji w XSLT poprzednio zwracały wartość null.</span><span class="sxs-lookup"><span data-stu-id="0fa02-746">If the user created an <xref:System.Xml.XmlReader> object from a LINQ to XML class by using the <xref:System.Xml.Linq.XNode.CreateReader%2A> method, and this <xref:System.Xml.XmlReader> object was passed to an XSLT, any instances of the `id` function in the XSLT previously returned null.</span></span> <span data-ttu-id="0fa02-747">To nie jest dozwolona wartość zwracana dla `id` funkcji.</span><span class="sxs-lookup"><span data-stu-id="0fa02-747">This is not an allowed return value for the `id` function.</span></span> |
| <span data-ttu-id="0fa02-748">**Namespace — atrybut**</span><span class="sxs-lookup"><span data-stu-id="0fa02-748">**Namespace attribute**</span></span> | <span data-ttu-id="0fa02-749">Aby zapobiec uszkodzeniu danych, <xref:System.Xml.XPath.XPathNavigator> obiekt teraz zwraca lokalną nazwę `x:xmlns` atrybutu poprawnie.</span><span class="sxs-lookup"><span data-stu-id="0fa02-749">To prevent data corruption, an <xref:System.Xml.XPath.XPathNavigator> object now returns the local name of the `x:xmlns` attribute correctly.</span></span> |
| <span data-ttu-id="0fa02-750">**Deklaracje przestrzeni nazw**</span><span class="sxs-lookup"><span data-stu-id="0fa02-750">**Namespace declarations**</span></span> | <span data-ttu-id="0fa02-751"><xref:System.Xml.XmlReader>Obiekt w poddrzewie nie tworzy już zduplikowanych deklaracji przestrzeni nazw w obrębie jednego elementu XML.</span><span class="sxs-lookup"><span data-stu-id="0fa02-751">An <xref:System.Xml.XmlReader> object on a subtree no longer creates duplicate namespace declarations within one XML element.</span></span> |
| <span data-ttu-id="0fa02-752">**Weryfikacja schematu**</span><span class="sxs-lookup"><span data-stu-id="0fa02-752">**Schema validation**</span></span> | <span data-ttu-id="0fa02-753">Aby zapobiec błędnej weryfikacji schematu, <xref:System.Xml.Schema.XmlSchemaSet> Klasa pozwala na poprawne Kompilowanie i spójność schematów XSD.</span><span class="sxs-lookup"><span data-stu-id="0fa02-753">To prevent erroneous schema validation, the <xref:System.Xml.Schema.XmlSchemaSet> class allows for XSD schemas to be compiled correctly and consistently.</span></span> <span data-ttu-id="0fa02-754">Te schematy mogą obejmować inne schematy; na przykład `A.xsd` może zawierać `B.xsd` , co może obejmować `C.xsd` .</span><span class="sxs-lookup"><span data-stu-id="0fa02-754">These schemas can include other schemas; for example, `A.xsd` can include `B.xsd`, which can include `C.xsd`.</span></span> <span data-ttu-id="0fa02-755">Kompilowanie dowolnego z nich powoduje, że ten wykres zależności zostanie przesunięty.</span><span class="sxs-lookup"><span data-stu-id="0fa02-755">Compiling any one of these causes this graph of dependencies to be traversed.</span></span> |
| <span data-ttu-id="0fa02-756">**Funkcje skryptu**</span><span class="sxs-lookup"><span data-stu-id="0fa02-756">**Script functions**</span></span> | <span data-ttu-id="0fa02-757">[Funkcja dostępna funkcja](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms256124(v=vs.100)) nie jest już błędnie zwracana `false` , gdy funkcja jest rzeczywiście dostępna.</span><span class="sxs-lookup"><span data-stu-id="0fa02-757">The [function-available function](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms256124(v=vs.100)) no longer incorrectly returns `false` when the function is actually available.</span></span> |
| <span data-ttu-id="0fa02-758">**Identyfikatory URI**</span><span class="sxs-lookup"><span data-stu-id="0fa02-758">**URIs**</span></span> | <span data-ttu-id="0fa02-759"><xref:System.Xml.Linq.XElement.Load%2A>Metoda teraz zwraca poprawne baseUri w zapytaniach LINQ.</span><span class="sxs-lookup"><span data-stu-id="0fa02-759">The <xref:System.Xml.Linq.XElement.Load%2A> method now returns the correct BaseURI in LINQ queries.</span></span> |

### <a name="validation"></a><span data-ttu-id="0fa02-760">Walidacja</span><span class="sxs-lookup"><span data-stu-id="0fa02-760">Validation</span></span>

<span data-ttu-id="0fa02-761">Przestrzenie nazw: <xref:System.Xml.Linq> ; <xref:System.Xml.Schema> ,<xref:System.Xml.XPath></span><span class="sxs-lookup"><span data-stu-id="0fa02-761">Namespaces: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath></span></span>

<span data-ttu-id="0fa02-762">Zestawy: System.Xml (w System.Xml.dll), System.Xml. LINQ (w System.Xml.Linq.dll)</span><span class="sxs-lookup"><span data-stu-id="0fa02-762">Assemblies: System.Xml (in System.Xml.dll), System.Xml.Linq (in System.Xml.Linq.dll)</span></span>

| <span data-ttu-id="0fa02-763">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-763">Feature</span></span> | <span data-ttu-id="0fa02-764">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-764">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="0fa02-765">**Rozpoznawanie nazw**</span><span class="sxs-lookup"><span data-stu-id="0fa02-765">**Namespace resolvers**</span></span> | <span data-ttu-id="0fa02-766"><xref:System.Xml.XmlReader.ReadContentAs%2A>Metoda nie ignoruje już przenoszonego przez <xref:System.Xml.IXmlNamespaceResolver> niego mechanizmu rozwiązywania konfliktów.</span><span class="sxs-lookup"><span data-stu-id="0fa02-766">The <xref:System.Xml.XmlReader.ReadContentAs%2A> method no longer ignores the <xref:System.Xml.IXmlNamespaceResolver> resolver passed to it.</span></span><br><br><span data-ttu-id="0fa02-767">W poprzednich wersjach został zignorowany określony program rozpoznawania nazw, a <xref:System.Xml.XmlReader> zamiast niego użyto.</span><span class="sxs-lookup"><span data-stu-id="0fa02-767">In previous versions, the specified namespace resolver was ignored, and the <xref:System.Xml.XmlReader> was used instead.</span></span> |
| <span data-ttu-id="0fa02-768">**Biały znak**</span><span class="sxs-lookup"><span data-stu-id="0fa02-768">**White space**</span></span> | <span data-ttu-id="0fa02-769">Aby zapobiec utracie danych podczas tworzenia czytnika, <xref:System.Xml.XmlReader.Create%2A> Metoda nie odrzuca już znaczącego odstępu.</span><span class="sxs-lookup"><span data-stu-id="0fa02-769">To prevent data loss when you are creating a reader, the <xref:System.Xml.XmlReader.Create%2A> method no longer discards significant white space.</span></span><br><br><span data-ttu-id="0fa02-770">Sprawdzanie poprawności kodu XML rozpoznaje tryb mieszanej zawartości, gdzie tekst może być mieszany z znacznikiem XML.</span><span class="sxs-lookup"><span data-stu-id="0fa02-770">XML validation recognizes mixed-content mode, where text can be intermixed with XML markup.</span></span> <span data-ttu-id="0fa02-771">W trybie mieszanym wszystkie białe miejsca są znaczące i powinny być zgłaszane.</span><span class="sxs-lookup"><span data-stu-id="0fa02-771">In mixed mode, all white space is significant and should be reported.</span></span> |

### <a name="writing"></a><span data-ttu-id="0fa02-772">Zapisywanie</span><span class="sxs-lookup"><span data-stu-id="0fa02-772">Writing</span></span>

<span data-ttu-id="0fa02-773">Przestrzenie nazw: <xref:System.Xml.Linq> ; <xref:System.Xml.Schema> ,<xref:System.Xml.XPath></span><span class="sxs-lookup"><span data-stu-id="0fa02-773">Namespaces: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath></span></span>

<span data-ttu-id="0fa02-774">Zestawy: System.Xml (w System.Xml.dll), System.Xml. LINQ (w System.Xml.Linq.dll)</span><span class="sxs-lookup"><span data-stu-id="0fa02-774">Assemblies: System.Xml (in System.Xml.dll), System.Xml.Linq (in System.Xml.Linq.dll)</span></span>

| <span data-ttu-id="0fa02-775">Cechy</span><span class="sxs-lookup"><span data-stu-id="0fa02-775">Feature</span></span> | <span data-ttu-id="0fa02-776">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="0fa02-776">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="0fa02-777">**Odwołania do jednostek**</span><span class="sxs-lookup"><span data-stu-id="0fa02-777">**Entity references**</span></span> | <span data-ttu-id="0fa02-778">Aby zapobiec uszkodzeniu danych, odwołania do jednostek nie są już entitized dwa razy w atrybutach XML.</span><span class="sxs-lookup"><span data-stu-id="0fa02-778">To prevent data corruption, entity references are no longer entitized twice in XML attributes.</span></span><br><br><span data-ttu-id="0fa02-779">Jeśli użytkownik próbował napisać jednostkę do `xmlns` atrybutu lub do `xml:lang` atrybutu lub przy `xml:space` użyciu <xref:System.Xml.XmlWriter.WriteEntityRef%2A> metody, jednostka została entitized dwa razy w danych wyjściowych, dlatego uszkodzenie danych.</span><span class="sxs-lookup"><span data-stu-id="0fa02-779">If the user tried to write an entity into an `xmlns` attribute or into an `xml:lang` or `xml:space` attribute by using the <xref:System.Xml.XmlWriter.WriteEntityRef%2A> method, the entity was entitized twice in the output, therefore corrupting the data.</span></span> |
| <span data-ttu-id="0fa02-780">**Obsługa nowego wiersza**</span><span class="sxs-lookup"><span data-stu-id="0fa02-780">**New line handling**</span></span> | <span data-ttu-id="0fa02-781">Aby zapobiec uszkodzeniu danych, <xref:System.Xml.XmlWriter> obiekty są zgodne z <xref:System.Xml.NewLineHandling> opcją.</span><span class="sxs-lookup"><span data-stu-id="0fa02-781">To prevent data corruption, <xref:System.Xml.XmlWriter> objects respect the <xref:System.Xml.NewLineHandling> option.</span></span> |

## <a name="see-also"></a><span data-ttu-id="0fa02-782">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="0fa02-782">See also</span></span>

- [<span data-ttu-id="0fa02-783">Nowe typy i członkowie w .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="0fa02-783">New Types and Members in .NET Framework 4</span></span>](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff641764%28v=vs.100%29)
- [<span data-ttu-id="0fa02-784">Przewodnik migracji do .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="0fa02-784">Migration Guide to .NET Framework 4</span></span>](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29)
- [<span data-ttu-id="0fa02-785">Co nowego w .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="0fa02-785">What's New in .NET Framework 4</span></span>](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29)
- [<span data-ttu-id="0fa02-786">Zgodność wersji w .NET Framework</span><span class="sxs-lookup"><span data-stu-id="0fa02-786">Version Compatibility in .NET Framework</span></span>](version-compatibility.md)
- [<span data-ttu-id="0fa02-787">Migrowanie rozwiązań pakietu Office do .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="0fa02-787">Migrating Office Solutions to .NET Framework 4</span></span>](/visualstudio/vsto/migrating-office-solutions-to-the-dotnet-framework-4-or-later)
- [<span data-ttu-id="0fa02-788">Przestarzałe elementy w bibliotece klas programu .NET Framework</span><span class="sxs-lookup"><span data-stu-id="0fa02-788">What's Obsolete in the .NET Framework Class Library</span></span>](../whats-new/whats-obsolete.md)
